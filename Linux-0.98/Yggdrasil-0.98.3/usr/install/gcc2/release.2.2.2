This is a testing release until it is announced on comp.os.linux.

Please read all the previous release notes and docs. This release note
only covers the new stuffs.

This is gcc 2.2.2 for Linux. It is on banjo.concert.net under
/pub/Linux/GCC. Gcc 2.3 will support Linux, according to RMS. The FSF
has all the files Linux needs.

Please get the new binutils.tar.Z, which fixed some bugs in as and a
gprof with some patches from Rick Sladkey at jrs@world.std.com, if
you haven't got it.

I added some jumptable stubs to gcc. But I don't have the time to
implement it. In the future, you can use jump table with -jump in
CFLAGS.

Libg++.a is 2.2 beta.

This gcc will produce binaries only run safely under 0.96a patch level
4 or above.

The list of known bugs.

1. one 'cmp' in dbz test fails. Per is not planning on doing anything
   about it. your contribution is welcome.

The following bugs in libc.a are fixed.

1. hard and soft math libs are fixed. some of functions are totally
   rewritten.
2. acosh, asinh and atanh are added to libsoft.a and math.h.
3. open a file for read and write, then do fseek followed by fwrite
   works now.
4. now random () and srandom () are renamed to __random () and
   __srandom (), respectively.
5. the header files taken from glibc.a are fixed.
6. the sys call mount now takes 4 args.
7. getpagesize and getdtablesize work now.
8. netdb.h, resolv.h, sys/uio.h, netinet.h, arpa/inet.h and
   arpa/nameser.h are changed.
9. Some function declarations are added to sys/socket.h in
   0.96bp2inc.tar.Z.

The following functions are added to libc.a.

1. profil.
2. libg.a is there.
3. getdtablesize.
4. lots of stuffs added to errno.h and string/errlist.c.
5. some changes in string/siglist.c.
6. dtoa.
7. there is a new strtod, please check it out.
8. drem.
9. the inet library functions are in libinet.a. They are untested. Once
   they are tested ok, they will be moved to libc.a. All the inet
   library functions are there, except for res_xxxx, rcmd, rexec and
   ruserpass, which require more kernel support, like F_SETOWN, FASYNC,
   and a few network system calls.

   There should also be a set of files in /etc for inet functions. I
   hope Ross will provide them.

In this release, there is a libc_p.a compiled with "-pg" for profiling.

You should use "-g" for debugging and "-pg/-p" for profiling in CFLAGS
when you compile the source code.

There must be a few other bugs. Please let me know if you find any.

File list:

1. 2.2.2db.tar.Z (cpp, libg.a and libc_p.a)
2. 2.2.2lib.tar.Z (cc1, cc1plus)
3. 2.2.2misc.tar.Z (header files, drivers, libs, doc, ....)
4. shlib-2.2.2.tar.Z (making the shared libs for gcc 2.2.2)
5. libc-2.2.2.tar.Z (source code for the libs)
6. gcc-2.2.2.tar.Z (patches for compiling gcc 2.2.2)
7. 0.96bp2inc.tar.Z (the kernel header files for 0.96b patch level 2)

H.J.
hlu@eecs.wsu.edu
06/27/92
