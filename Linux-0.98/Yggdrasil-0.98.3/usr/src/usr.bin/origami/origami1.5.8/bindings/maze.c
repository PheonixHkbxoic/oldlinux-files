#include <stdio.h>

char *M,A,Z,E=40,J[40],T[40];

main(C)
{
  long lrand();

  for (*J=A=scanf(M="%d",&C); --E; J[E]=T[E]=E) printf("._");
  for (; (A-=Z=!Z) || (printf("\n|"),A=39,C--); Z || printf(M))
  M[Z]=Z[A-(E=A[J-Z])&&!C & A==T[A] | 6L<<27<lrand()
  || !C & !Z ? J[T[E]=T[A]]=E,J[T[A]=A-Z]=A,"_.":" |"];
}
