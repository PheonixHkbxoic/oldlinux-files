<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >
<HEAD>
<TITLE>4.2.1 Using a boot floppy</TITLE>
</HEAD>
<BODY>
<meta name="description" value="4.2.1 Using a boot floppy">
<meta name="keywords" value="gs">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
<P>
 <BR> <HR><A NAME=tex2html3850 HREF="node164.html"><IMG ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME=tex2html3848 HREF="node162.html"><IMG ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME=tex2html3842 HREF="node162.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME=tex2html3852 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME=tex2html3853 HREF="node250.html"><IMG ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html3851 HREF="node164.html">4.2.2 Using LILO</A>
<B>Up:</B> <A NAME=tex2html3849 HREF="node162.html">4.2  Booting the System </A>
<B> Previous:</B> <A NAME=tex2html3843 HREF="node162.html">4.2  Booting the System </A>
<BR> <HR> <P>
<H2><A NAME=SECTION00621000000000000000>4.2.1 Using a boot floppy</A></H2>
<P>
<A NAME=4238>&#160;</A>
Many people boot Linux using
a ``boot floppy'' which contains a copy of the Linux kernel. This kernel
has the Linux root partition coded into it, so it will know where to look
on the hard drive for the root filesystem. (The <tt>rdev</tt> command
can be used to set the root partition in the kernel image; see below.)
This is the type of floppy created by Slackware during installation, 
for example.
<P>
<A NAME=4306>&#160;</A>
<A NAME=4307>&#160;</A>
<A NAME=4308>&#160;</A>
<A NAME=4243>&#160;</A>
<A NAME=4244>&#160;</A>
To create your own boot floppy, first locate the kernel image on your
hard disk. It should be in the file <tt>/Image</tt> or <tt>/etc/Image</tt>. Some
installations use the file <tt>/vmlinux</tt> for the kernel.
<P>
<A NAME=4248>&#160;</A>
<A NAME=4309>&#160;</A>
<A NAME=4310>&#160;</A>
You may instead have a compressed kernel. A compressed kernel uncompresses 
itself into memory at boot time, and takes up much less space on the hard 
drive.  If you have a compressed kernel, it may be found in the file
<tt>/zImage</tt> or <tt>/etc/zImage</tt>.
<P>
<A NAME=4311>&#160;</A>
<A NAME=4312>&#160;</A>
Once you know where the kernel is, set the root device in the
kernel image to the name of your Linux root partition with the <tt>rdev</tt>
command. The format of the command is
<P><TT> rdev <IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img240.gif"> <IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img241.gif"> <P></TT>
where <IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img242.gif"> is the name of the kernel image, and 
<IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img243.gif"> is the name of the Linux root partition. For
example, to set the root device in the kernel <tt>/etc/Image</tt> to
<tt>/dev/hda2</tt>, use the command
<P><TT> # <em>rdev /etc/Image /dev/hda2</em>
 <P></TT>
<P>
<tt>rdev</tt> can set other options in the kernel as well, such as the default
SVGA mode to use at boot time. Just use ``<tt>rdev -h</tt>'' to get a 
help message.
<P>
After setting the root device, you can simply copy the kernel image to
the floppy. Whenever copying data to a floppy, it's a good idea to MS-DOS 
format 
the floppy first. This lays down the sector and track information on the 
floppy, so it can be detected as either high or low density.
<P>
For example, to copy the kernel in the file <tt>/etc/Image</tt> to the 
floppy in <tt>/etc/fd0</tt>, use the command
<P><TT> # <em>cp /etc/Image /dev/fd0</em>
 <P></TT>
<P>
This floppy should now boot Linux.
<P>
<BR> <HR><A NAME=tex2html3850 HREF="node164.html"><IMG ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME=tex2html3848 HREF="node162.html"><IMG ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME=tex2html3842 HREF="node162.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME=tex2html3852 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME=tex2html3853 HREF="node250.html"><IMG ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html3851 HREF="node164.html">4.2.2 Using LILO</A>
<B>Up:</B> <A NAME=tex2html3849 HREF="node162.html">4.2  Booting the System </A>
<B> Previous:</B> <A NAME=tex2html3843 HREF="node162.html">4.2  Booting the System </A>
<BR> <HR> <P>
<BR> <HR>
<P><ADDRESS>
<I>Matt Welsh <BR>
mdw@sunsite.unc.edu</I>
</ADDRESS>
</BODY>
