<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >
<HEAD>
<TITLE>2.5.4.2 Problems booting Linux from the hard drive</TITLE>
</HEAD>
<BODY>
<meta name="description" value="2.5.4.2 Problems booting Linux from the hard drive">
<meta name="keywords" value="gs">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
<P>
 <BR> <HR><A NAME=tex2html2841 HREF="node91.html"><IMG ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME=tex2html2839 HREF="node88.html"><IMG ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME=tex2html2833 HREF="node89.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME=tex2html2843 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME=tex2html2844 HREF="node250.html"><IMG ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html2842 HREF="node91.html">2.5.4.3 Problems logging in</A>
<B>Up:</B> <A NAME=tex2html2840 HREF="node88.html">2.5.4 Problems after installing </A>
<B> Previous:</B> <A NAME=tex2html2834 HREF="node89.html">2.5.4.1 Problems booting Linux </A>
<BR> <HR> <P>
<H3><A NAME=SECTION00454200000000000000>2.5.4.2 Problems booting Linux from the hard drive</A></H3>
<P>
<A NAME=1727>&#160;</A>
<A NAME=1728>&#160;</A>
If you opted to install LILO, instead of creating a boot floppy, then
you should be able to boot Linux from the hard drive. However, the
automated LILO installation procedure used by many distributions 
is not always perfect. It may make incorrect assumptions about your
partition layout, in which case you will need to re-install LILO to
get everything right. Installing LILO is covered in 
Chapter <A HREF="node155.html#chapsysadmnum">4</A>.
<P>
<UL><LI> <b>System reports ``<tt>Drive not bootable---Please insert system 
disk.</tt>''</b> 
You will get this error message if the hard drive's master
boot record is corrupt in some way.
In most cases, it's harmless, and everything
else on your drive is still intact. There are several ways around this:
<P>
<OL><LI> While partitioning your drive using <tt>fdisk</tt>, you may have deleted
the partition that was marked as ``active''. MS-DOS and other operating 
systems attempt to boot the ``active'' partition at boot time (Linux pays
no attention to whether the partition is ``active'' or not). You may be able
to boot MS-DOS from floppy and 
run <tt>FDISK</tt> to set the active flag on your MS-DOS
paritition, and all will be well.
<P>
Another command to try (with MS-DOS 5.0 and higher) is
<P><TT> FDISK /MBR
 <P></TT>
This command will attempt to rebuild the hard drive master boot record
for booting MS-DOS, overwriting LILO. If you no longer have MS-DOS on your 
hard drive, you'll need to boot Linux from floppy and
attempt to install LILO later.
<P>
<LI> If you created an MS-DOS partition using Linux's version of <tt>fdisk</tt>,
or vice versa, you may get this error. You should create MS-DOS 
partitions only using MS-DOS's version <tt>FDISK</tt>. (The same applies to
operating systems other than MS-DOS.) The best solution
here is either to start from scratch and repartition the drive correctly,
or to merely delete and re-create the offending partitions using the 
correct version of <tt>fdisk</tt>.
<P>
<A NAME=1740>&#160;</A>
<A NAME=1741>&#160;</A>
<LI> The LILO installation procedure may have failed. In this case, you
should either boot from your Linux boot floppy (if you have one), or from the
original installation media. Either of these should provide options for
specifying the Linux root partition to use when booting. Hold down 
<IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img90.gif"> or <IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img91.gif"> at boot time, and press <IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img92.gif"> from the
boot menu for a list of options.
<P>

<P>
</OL>
<P>
<LI> <b>When booting the system from the hard drive, MS-DOS (or 
another operating system) starts instead of Linux.</b> First of all, be
sure that you actually installed LILO when installing the Linux software.
If not, then the system will still boot MS-DOS (or whatever other
operating system you may have) when you attempt to boot from the hard
drive. In order to boot Linux from the hard drive, you will need to install 
LILO (see Chapter <A HREF="node155.html#chapsysadmnum">4</A>).
<P>
On the other hand, if you <em>did</em> install LILO, and another
operating system boots instead of Linux, then you have LILO configured to 
boot that other operating system by default. While the system is booting,
hold down <IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img93.gif"> or <IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img94.gif">, and press <IMG BORDER=0 ALIGN=BOTTOM ALT="" SRC="img95.gif"> at the boot prompt.
This should present you with a list of possible operating systems to boot;
select the appropriate option (usually just ``<tt>linux</tt>'') to boot Linux.
<P>
If you wish to select Linux as the default 
operating system to boot, you will need to re-install LILO. See
Chapter <A HREF="node155.html#chapsysadmnum">4</A>.
<P>
It also may be possible that you attempted to install LILO, but the 
installation procedure failed in some way. See the previous item.
<P>
</UL><BR> <HR><A NAME=tex2html2841 HREF="node91.html"><IMG ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME=tex2html2839 HREF="node88.html"><IMG ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME=tex2html2833 HREF="node89.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME=tex2html2843 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME=tex2html2844 HREF="node250.html"><IMG ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html2842 HREF="node91.html">2.5.4.3 Problems logging in</A>
<B>Up:</B> <A NAME=tex2html2840 HREF="node88.html">2.5.4 Problems after installing </A>
<B> Previous:</B> <A NAME=tex2html2834 HREF="node89.html">2.5.4.1 Problems booting Linux </A>
<BR> <HR> <P>
<BR> <HR>
<P><ADDRESS>
<I>Matt Welsh <BR>
mdw@sunsite.unc.edu</I>
</ADDRESS>
</BODY>
