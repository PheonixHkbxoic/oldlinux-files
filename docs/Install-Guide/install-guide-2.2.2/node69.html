<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >
<HEAD>
<TITLE>2.2.4 Repartitioning your drives</TITLE>
</HEAD>
<BODY>
<meta name="description" value="2.2.4 Repartitioning your drives">
<meta name="keywords" value="gs">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
<P>
 <BR> <HR><A NAME=tex2html2571 HREF="node70.html"><IMG ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME=tex2html2569 HREF="node65.html"><IMG ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME=tex2html2565 HREF="node68.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME=tex2html2573 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME=tex2html2574 HREF="node250.html"><IMG ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html2572 HREF="node70.html">2.3 Installing the Linux </A>
<B>Up:</B> <A NAME=tex2html2570 HREF="node65.html">2.2 Preparing to Install </A>
<B> Previous:</B> <A NAME=tex2html2566 HREF="node68.html">2.2.3 Linux partition requirements</A>
<BR> <HR> <P>
<H2><A NAME=SECTION00424000000000000000>2.2.4 Repartitioning your drives</A></H2>
<P>
<A NAME=secinstalllinuxpreprepartition>&#160;</A>
<A NAME=secinstallpreprepartition>&#160;</A>
<P>
<A NAME=1054>&#160;</A>
<A NAME=1055>&#160;</A>
<P>
In this section, we'll describe how to resize your current partitions
(if any) to make space for Linux. If you are installing Linux on a 
``clean'' hard drive, you can skip this section and proceed to
Section <A HREF="node70.html#secinstallinstallingtop">2.3</A>, below.
<P>
The usual way to resize an existing partition is to delete it (thus destroying 
all of the data on that partition) and recreate it. Before repartitioning
your drives, <em>backup your system</em>. After resizing the partitions, you
can reinstall your original software from the backup.
However, there are several programs available
for MS-DOS which are able to resize partitions nondestructively. One of
these is known as ``<tt>FIPS</tt>'', and can be found on many Linux FTP
sites. 
<A NAME=1100>&#160;</A>
<A NAME=1101>&#160;</A>
<P>
Also, keep in mind that because you'll be shrinking your original 
partitions, you may not have space to reinstall everything. In this case,
you need to delete enough unwanted software to allow the rest to fit on
the smaller partitions.
<P>
The program used to repartition is known as <tt>fdisk</tt>. Each operating
system has its own analogue of this program; for example, under 
MS-DOS, it 
is invoked with the <tt>FDISK</tt> command. You should consult your documentation
for whatever operating systems you are currently running for information
on repartitioning. Here, we'll discuss how to resize
partitions for MS-DOS using <tt>FDISK</tt>, but this information should be easily
extrapolated to other operating systems.
<A NAME=1102>&#160;</A>
<A NAME=1103>&#160;</A>
<A NAME=1104>&#160;</A>
<P>
<em>Please</em> consult the documentation for your current operating systems 
before repartitioning your drive. This section is meant to be a general 
overview of the process; there are many subtleties that we do not cover here. 
You can lose all of the software on your system if you do not 
repartition the drive correctly.
<P>
A warning: Do not modify or create partitions for any other operating systems
(including Linux) using <tt>FDISK</tt> under MS-DOS. You should
only modify partitions for a particular operating system with the version of
<tt>fdisk</tt> included with that operating system; for example, you will create
Linux partitions using a version of <tt>fdisk</tt> for Linux. Later, in
Section <A HREF="node73.html#secinstalllinuxfdisk">2.3.3</A>, we describe how to create
Linux partitions, but for now we are concerned with resizing your current
ones.
<P>
Let's say that you have a single hard drive on your system, currently 
devoted entirely to MS-DOS. Hence, your drive consists of a single 
MS-DOS partition, commonly known as ``<tt>C:</tt>''. Because this repartitioning
method will destroy the data on that partition, you need to create a bootable
MS-DOS ``system disk'' which contains everything necessary to run <tt>FDISK</tt> 
and restore the software from backup after the repartitioning is complete.
<A NAME=1105>&#160;</A>
<A NAME=1075>&#160;</A>
<A NAME=1106>&#160;</A>
<P>
In many cases, you can use the MS-DOS installation disks for this purpose.
However, if you need to create your own system disk, format a floppy with the
command
<P><TT> FORMAT /s A:
 <P></TT>
Copy onto this floppy all of the necessary MS-DOS utilities (usually most
of the software in the directory <tt><code>\</code>DOS</tt> on your drive), 
as well as the programs <tt>FORMAT.COM</tt> and <tt>FDISK.EXE</tt>. You should now
be able to boot this floppy, and run the command
<P><TT> FDISK C:
 <P></TT>
to start up <tt>FDISK</tt>.
<P>
Use of <tt>FDISK</tt> should be self-explanatory, but consult the MS-DOS
documentation for details. When you start <tt>FDISK</tt>, use the menu
option to display the partition table, and <em>write down</em> the
information displayed there. It is important to keep a record of your
original setup in case you want to back out of the Linux installation.
<P>
To delete an existing partition, choose the <tt>FDISK</tt> menu option 
``<tt>Delete an MS-DOS Partition or Logical DOS Drive</tt>''.
Specify the type of partition that you wish to delete (primary, extended, or
logical) and the number of the partition. Verify all of the warnings. Poof!
<P>
To create a new (smaller) partition for MS-DOS, just choose the <tt>FDISK</tt>
option ``<tt>Create an MS-DOS Partition or Logical DOS Drive</tt>''. Specify
the type of partition (primary, extended, or logical), and the size of the
partition to create (specified in megabytes). <tt>FDISK</tt> should
create the partition and you're ready to roll.
<P>
After you're done using <tt>FDISK</tt>, you should exit the program and reformat
any new partitions. For example, if you resized the first DOS partition on
your drive (<tt>C:</tt>) you should run the command
<P><TT> FORMAT /s C:
 <P></TT>
You may now reinstall your original software from backup.
<P>
<A NAME=1097>&#160;</A>
<A NAME=1098>&#160;</A>
<P>
<A NAME=1099>&#160;</A>
<P>
<BR> <HR><A NAME=tex2html2571 HREF="node70.html"><IMG ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME=tex2html2569 HREF="node65.html"><IMG ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME=tex2html2565 HREF="node68.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME=tex2html2573 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME=tex2html2574 HREF="node250.html"><IMG ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html2572 HREF="node70.html">2.3 Installing the Linux </A>
<B>Up:</B> <A NAME=tex2html2570 HREF="node65.html">2.2 Preparing to Install </A>
<B> Previous:</B> <A NAME=tex2html2566 HREF="node68.html">2.2.3 Linux partition requirements</A>
<BR> <HR> <P>
<BR> <HR>
<P><ADDRESS>
<I>Matt Welsh <BR>
mdw@sunsite.unc.edu</I>
</ADDRESS>
</BODY>
