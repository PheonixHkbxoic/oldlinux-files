From:     Digestifier <Linux-Admin-Request@senator-bedfellow.mit.edu>
To:       Linux-Admin@senator-bedfellow.mit.edu
Reply-To: Linux-Admin@senator-bedfellow.mit.edu
Date:     Tue, 23 Nov 93 22:13:35 EST
Subject:  Linux-Admin Digest #183

Linux-Admin Digest #183, Volume #1               Tue, 23 Nov 93 22:13:35 EST

Contents:
  "reset" not working (Chris Hawley)
  Re: /dev/mouse: Device or resource busy ... help! (Stefan Nehlsen)
  Kernel 99.13 and NET-2 (Martin H. Ludwig)
  Re: QIC-40 tape drives (Peter Mutsaers)
  Re: [Q] How to make a socket? (dan@oea.hobby.nl)
  Re: Watcher... (Nick Hilliard)
  How to send commands to /dev/modem or /dev/cua1 ? (Zhuo Er Lin)
  SLIP w/NULL modem (Jon Burchmore)
  [Q] Using Colorado Jumbo 250 with Linux (Alexander Kourakos)
  Re: Slackware: fsck always check at boot time (David Gadbois)
  Re: SLIP w/NULL modem (Chris Hawley)
  Re: How to send commands to /dev/modem or /dev/cua1 ? (Bob Smart)
  Re: "New" directory structure... (Uppie)
  Re: QIC-40 tape drives (Steef S.G. de Bruijn)
  Re: File System Corruption Lessons Learned (long) (Sebastian Hetze)
  Re: File System Corruption Lessons Learned (long) (INN NEWS)

----------------------------------------------------------------------------

From: ah654@freenet.carleton.ca (Chris Hawley)
Subject: "reset" not working
Date: Mon, 22 Nov 1993 21:58:24 GMT


Hello,

        I'm sure all of you who use 2400 baud, non-MNP modems (out of
        necessity) out there have probably used this:  When you hang
        up, or get a burst of line noise, for some reason the "font" or
        whatever the correct word for the character set on the standard
        VT console, gets scrambled.


          Normally I just (from within C_Kermit) hit the escape to
          shell sequence (^\,) and then type "reset", which clears the
          screen, and resets the 'font' back to good old English vt100
          iso-latin1 (or whatever it is, I can READ it again.:)


          But recently I have noticed that "reset" clears the screen,
          but then I am still stuck with garbage instead of letters.  I
          end up doing a "cat /zImage" and ^C'ing it, sometimes severl
          times, until the random-looking garbage that produces happens
          to slap my character set back to normal.  Is there a new
          "reset"?  I don't think it has changed with my upgrade to
          pl13 a while back, but rather  since then...  The only thing
          I can think of right now is that I got the bin pkg's that
          were names "util-userbin-2.1...." and the other 2
          accompanying files, one for /etc and one for /bin I believe.


          Anyone out there fixed this yet?



Chris

-- 
Chris Hawley - ah654@freenet.carleton.ca - ak422@po.cwru.edu - Mr_Chris (IRC)
I knew Everything when I was 19.  Now I hang out with his brother, Jack Shit.
     =========>> Check out the NCF Linux SIG! ( GO LINUX ) <<=========== 

------------------------------

From: stefan@nehlsen.toppoint.de (Stefan Nehlsen)
Subject: Re: /dev/mouse: Device or resource busy ... help!
Date: Fri, 19 Nov 1993 21:18:06 GMT

tom@ksr.com (Tom Varga) writes:

>I've been trying to get X windows up and running when for some unknown reason,
>my mouse driver seems to have gotten wedged.  Trying to run startx or
>test-mouse results in a complaint which looks like :

>/dev/mouse: Device or resource busy

>There must be a way out of this problem, or so I hope.  I've tried everything
>including rebooting, but no luck.

>Please help!

>Thanks in advance,
>--
>-Tom

Do you run selection ( cut&paste on vts ) and X11 at the same time ?
Sometimes I have problems when I do that. ( X11 dies )

Stefan

-- 

Stefan Nehlsen   nelli@toppoint.de



------------------------------

From: Martin.Ludwig@ruba.rz.ruhr-uni-bochum.de (Martin H. Ludwig )
Subject: Kernel 99.13 and NET-2
Date: 23 Nov 93 00:50:34 GMT

Hello!
I installed the new kernel 99.13 and got the following problem:
When I add my IP-adr to the routing table with
   /etc/route add 1.1.1.1
 I get the following error message:
   SIOCADDRT: Network is unreachable
 and no network-program works with that IP-adr.
 With ping I can reach other hosts via th IP-adr obove, and other hosts
 can ping me. The localhost-IP works well with all programs.
 My network-setup works still fine if I boot the old kernel (99.10).
 Please help me.
 Thanks
   Martin
It would be nice if you mail me an answer because sometimes I have problems
receiving this area.
Martin.Ludwig@ruba.rz.ruhr-uni-bochum.de
Here my rc.inet1:
#! /bin/sh
#
# rc.inet1          This shell script boots up the base INET system.
#
# Version:          @(#)/etc/rc.d/rc.inet1        1.01      05/27/93
#
# Author: Fred N. van Kempen, <waltje@uwalt.nl.mugnet.org>
#
  HOSTNAME=`/bin/hostname`
  # Attach the loopback device.
  /etc/ifconfig lo 127.0.0.1
  /etc/route add 127.0.0.1
  IPADDR="1.1.1.1"
  NETMASK="255.255.255.0"
  NETWORK="1.1.1.0"
  BROADCAST="1.1.1.1"
#  GATEWAY="1.1.1.1"
  # Set up the Ethernet connection(s).
  /etc/ifconfig eth0 ${IPADDR} netmask ${NETMASK} broadcast ${BROADCAST}
  # Set up the primary (static) routes.
  /etc/route add ${IPADDR}
#^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ here the error comes up!
  /etc/route add ${NETWORK}
#  /etc/route add default gw ${GATEWAY} metric 1
echo "inet1 - DONE"
  # All done.
==========================================================================
Martin.Ludwig@ruba.rz.ruhr-uni-bochum.de

------------------------------

From: muts@compi.hobby.nl (Peter Mutsaers)
Subject: Re: QIC-40 tape drives
Date: Sat, 20 Nov 1993 10:19:50 GMT

>> On Tue, 16 Nov 1993 09:05:04 GMT, debruijn@cs.utwente.nl (Steef
>> S.G. de Bruijn) said:

  SSGdB> : Does Linux currently support QIC-40 (Colorado 120) tape drives?

  SSGdB> Get ftape from the normal sites. It works for me...

Does it work with tar etc., i.e. is the QIC-40 tape a character
device or only accessed by some special program (like ftape)?
-- 
_______________________________________________________________
Peter Mutsaers, Bunnik (Ut), the Netherlands.

------------------------------

Crossposted-To: comp.os.linux.help
From: dan@oea.hobby.nl
Subject: Re: [Q] How to make a socket?
Date: Mon, 22 Nov 1993 01:13:38 GMT

dan@oea.hobby.nl wrote:

: I accidentally erased /tmp/.X11-unix/X0 and I'm having trouble
: recreating it. How do I go about making this socket? I'll most
: likely reinstall XFree to get the socket back, but I'm curious!

Thanks to all who sent me email. The unanimous answer was that there
is no need to recreate the socket as the X server will automagically
do that. 

Cheers,

-- 
|< Dan Naas     dan@oea.hobby.nl >|
+---------------------------------+

------------------------------

From: nick@quay.ie (Nick Hilliard)
Subject: Re: Watcher...
Date: Mon, 22 Nov 1993 22:50:04 GMT

Steven M. Gallo (smgallo@cs.buffalo.edu) wrote:
: In article <CGqzo4.Gw4@curia.ucc.ie> ken@symphony.mp.ucc.ie (Kenneth Walsh) writes:
: > Does anyone know of a program to Watch terminals(tty's) on a linux machine?

: What do you mean by 'watch' ?  The program getty will watch a tty for a login
: or a modem.  getty_ps_2.07b is the newest release of this program.

I think Ken's referring to something akin to the VMS program Watcher, which
can be used to spy on what's coming out on other people's terminals.  I've
never seen such a program for Unix, but if anyone else has, I'd be vaguely
interested in snarfing a copy.

Nick
-- 
| Nick Hilliard              | e-mail:   nick@quay.ie                    |
| Quay Financial Software,   | Phone:    [+353] 1 6612377                |
| 48-53, Lower Mount St,     |    The opinions expressed above do not    |
| Dublin 2, Ireland          | necessarily reflect those of my employers |

------------------------------

From: umlin000@ccu.umanitoba.ca (Zhuo Er Lin)
Subject: How to send commands to /dev/modem or /dev/cua1 ?
Date: Tue, 23 Nov 1993 03:00:33 GMT

I wanted hang up the modem from the shell. But 

        echo +++ath0 < /dev/modem > /dev/modem

doesn't work. What is the right way to do it?

Thanks. 


-- 
========================================================================
|  Eric Lin                        Voice:   (204) 783-2884             |
|    Computer Engineering      FAX Modem:   (204) 783-2884             |
|    University of Manitoba     Internet:   Umlin000@cc.Umanitoba.CA   |

------------------------------

From: jon@hsystems.wariat.org (Jon Burchmore)
Subject: SLIP w/NULL modem
Date: Tue, 23 Nov 1993 00:51:35 GMT

I currently have my Linux box networked to my 286 PC using SLIP over a 
NULL modem.  Everything works, except I seem to be having some kind
of handshaking problem.  Here's the software/hardware setup:

Linux Box:

        Linux 0.99pl13q w/NET-2debugged
        386SX/25 w/4 meg of RAM and 10 meg of swap
        Matthew Dillon's SLIP scripts
        

PC Box:

        DOS 6.0
        286/12 w/4 meg of RAM
        NCSA Telnet
        EtherSLIP packet driver

I'm running at 38400 baud, and NCSA Telnet gives me lots of 'invalid IP 
checksum' and 'Fragmented packet' errors, and eventually locks up.

My question is, is there anything special I have to do to get Linux to
use hardware handshaking?

-Jon
-- 
Jon Burchmore (jon@hsystems.wariat.org)
Horizon Systems public access UNIX 

------------------------------

From: awk@char.vnet.net (Alexander Kourakos)
Subject: [Q] Using Colorado Jumbo 250 with Linux
Date: 22 Nov 1993 22:55:58 -0500

   Hello.
   I will soon be purchasing a Colorado Jumbo 250 for use with DOS,
but I need more information about using it under Linux. First of all,
is there a tape FAQ or HOWTO? Secondly, how easy is it to create and
restore backups? Suppose I back up my harddrive and then erase it
completely. If I restore from tape, will the dates, file links,
owners/groups, etc, be set correctly? How does one make a backup to
tape anyway? Is "tar" to the tape device sufficient? What if the tape
isn't large enough, what then?

   I would really appreciate an e-mail response from people who
succesfully use tape drives with Linux.

thanks

awk
awk@vt.edu

------------------------------

From: gadbois@cs.utexas.edu (David Gadbois)
Subject: Re: Slackware: fsck always check at boot time
Date: 22 Nov 1993 22:46:31 -0600

In article <2cqn4v$o3g@due.uninett.no>,  <of@myhost.subdomain.domain> wrote:
>
>My /etc/brc contains the line umount -a
>but still the system run fsck. Why is that ?

Your root filesystem is probably getting mounted read/write before the
fsck.  Mounting a filesystem rw sets the dirty bit, and so fsck thinks
it has to clean thing up, which is a bad thing to do on a rw
filesystem.

If you are using LILO, check its config file and make it mount things
readonly.  If you are booting off a floppy, you can do "rdev -R 1
/dev/fd0" (or whatever device you are booting off of) to make it do
so.

--David Gadbois

------------------------------

From: ah654@freenet.carleton.ca (Chris Hawley)
Subject: Re: SLIP w/NULL modem
Date: Tue, 23 Nov 1993 04:34:29 GMT

In <1993Nov23.005135.14597@hsystems.wariat.org> jon@hsystems.wariat.org (Jon Burchmore) writes:

>Linux Box:

>       Linux 0.99pl13q w/NET-2debugged
>       386SX/25 w/4 meg of RAM and 10 meg of swap
>       Matthew Dillon's SLIP scripts
>       

>PC Box:

>       DOS 6.0
>       286/12 w/4 meg of RAM
>       NCSA Telnet
>       EtherSLIP packet driver

>I'm running at 38400 baud, and NCSA Telnet gives me lots of 'invalid IP 
>checksum' and 'Fragmented packet' errors, and eventually locks up.

This might not be the answer you are looking for, but I think that
38400 is a bit fast for a 286/12, isn't it?  Just a thought... Maybe
try bumping it down a notch (or two) just to test.

>Jon Burchmore (jon@hsystems.wariat.org)
>Horizon Systems public access UNIX 

Hey, Give my love to Zbig, too!  :)


Chris

-- 
Chris Hawley - ah654@freenet.carleton.ca - ak422@po.cwru.edu - Mr_Chris (IRC)
I knew Everything when I was 19.  Now I hang out with his brother, Jack Shit.
     =========>> Check out the NCF Linux SIG! ( GO LINUX ) <<=========== 

------------------------------

From: bsmart@bsmart.TTI.COM (Bob Smart)
Subject: Re: How to send commands to /dev/modem or /dev/cua1 ?
Reply-To: bsmart@bsmart.TTI.COM (Bob Smart)
Date: Tue, 23 Nov 1993 06:06:42 GMT

In article <CGxCCx.45K@ccu.umanitoba.ca>, umlin000@ccu.umanitoba.ca
(Zhuo Er Lin) writes:
> I wanted hang up the modem from the shell. But 
> 
>       echo +++ath0 < /dev/modem > /dev/modem
> 
> doesn't work. What is the right way to do it?

Probably the reason this doesn't work is that you sent the "+++" and the
"ath0" with no delay in between.  Hayes modems use the "+++" for an
attention signal, but part of the attention signaling mechanism is
"guard time," or silence, for some predetermined period both before and
after the "+++" (this technique of "guard time" as part of the attention
signal is patented by Hayes, I think).  The length of the guard time is
often configurable by setting some S-register; consult your modem manual
if you want to fiddle with it.  I think it's customarily on the order of
half a second or so--meaning, in order to kick the modem into command
mode, you'd need half a second of silence, then the "+++" sequence, then
ANOTHER half a second of silence, THEN the modem will enter command mode
and you can issue whatever command you need, like "ath0".  If you send
the command before the second guard period has elapsed, the modem treats
the whole "+++ath0" sequence as ordinary data, not as an attention
sequence followed by a command.

SO: there are many ways to handle this, most of them ugly, and I don't
mean to suggest that the following is "the right way," but here's A way
that might work:

        sleep 1; echo +++ > /dev/modem; sleep 1; echo ATH0 > /dev/modem

Note that it's usually OK to have LONGER silence than the minimum
required guard time, which is why we can get away with sleeping for a
full second instead of only half a second.  The sequence only gets
treated as ordinary data if the silent periods are too short.

Depending on how you have your modem S-registers configured, your modem
might or might not issue an "OK" when it drops into command mode.  In
that case, instead of the second "sleep 1" you might want to do
something that reads a single line of input from /dev/modem--this
ensures that you will wait the full guard time, and not proceed until
the modem acknowledges that it's in command mode.

=========

A fanatic is someone who does what he knows that God would do if God knew the
facts of the case.

------------------------------

From: juphoff@uppieland.async.vt.edu (Uppie)
Subject: Re: "New" directory structure...
Date: 23 Nov 1993 06:48:15 GMT

quinlan@spectrum.cs.bucknell.edu (Daniel Quinlan) writes:

[...]

>Mejia Pablo J <pjm9806@a112.usl.edu> writes:

>> I believe sbin is used to store important executables that have been
>> statically linked.  This is for emergency recovery purposes.

>Sorry, but this is incorrect.

>/sbin is primarily created to move all of the administrative
>executables out of /etc.  Including both binaries and configuration
>files in /etc makes it more confusing and harder to maintain for
>inexperienced users or system administrators with especially large
>systems.

386BSD uses this scheme somewhat.  (At least the package that I got, tried, and
toasted before putting Linux on my machine did.)

--
Jeff Uphoff -- "Uppie"
uppieland.async.vt.edu will (most likely) be disappearing soon (changing
addresses at least).  Please send all email from now on to:
juphoff@astro.phys.vt.edu

------------------------------

From: debruijn@cs.utwente.nl (Steef S.G. de Bruijn)
Subject: Re: QIC-40 tape drives
Date: Tue, 23 Nov 1993 09:27:56 GMT

Peter Mutsaers (muts@compi.hobby.nl) wrote:
: >> On Tue, 16 Nov 1993 09:05:04 GMT, debruijn@cs.utwente.nl (Steef
: >> S.G. de Bruijn) said:

:   SSGdB> : Does Linux currently support QIC-40 (Colorado 120) tape drives?

:   SSGdB> Get ftape from the normal sites. It works for me...

: Does it work with tar etc., i.e. is the QIC-40 tape a character
: device or only accessed by some special program (like ftape)?

It is a normal block device, so tar, dd etc just works..

Steef
--
S.G. de Bruijn
Twente University of Technoloy, Dept. of Computer Science 
E-Mail: debruijn@cs.utwente.nl
                                  #####
                                 /     \
                                <  o o  >
                                 |  C  |
Stevie "SpikerJack" de Bruijn  /--\___/--\
                              /     |o    \
                             / /|   |o  |\ \
                            / / |   |o  | \ \
                            --  |   |o  |  --
                                ---------

Planning is a difficult thing... Using Linux is not!


------------------------------

From: she@lunetix.de (Sebastian Hetze)
Subject: Re: File System Corruption Lessons Learned (long)
Date: 23 Nov 1993 10:58:24 GMT

Linux Software/Support (linux@rucs2.sunlab.cs.runet.edu) wrote:
: In article <1993Nov22.153621.25661@spdc.ti.com> andy@piziali.lonestar.org (Andrew J. Piziali) writes:
: >   These are the lessons learned from this whole experience:
: >
: >     4) keep a current maintenance floppy which uses the same kernel
: >        binary (/zImage) as your hard disk,
: >
: >     5) keep the maintenance floppy's /etc/passwd and /etc/group
: >        files up-to-date with the hard disk,
: >

: How does one go about creating a maintenance floppy?  The only disks
: I have been able to make are boot only disks.  Any help would be most
: appreciated!

To create a maintennance floppy, you can simply modify an ordinary
distribution boot disk. After mounting the boot disk i.e. on /mnt
you can replace zImage, /etc/passwd and whatever you need. To make
this floppy bootable, check /mnt/etc/lilo/config, export ROOT=/mnt
and call /mnt/etc/lilo/install.
(Read the fabulous lilo user/tech guide for more information.)

Hope this helps.

--
Sebastian Hetze                                         she@lunetix.de
                        LunetIX Softfair
Lichtenrader Str. 41      12049 Berlin            Tel.: +49 30 6227300

------------------------------

From: news@apollo.west.oic.com (INN NEWS)
Subject: Re: File System Corruption Lessons Learned (long)
Date: 23 Nov 1993 09:34:07 -0800

In article <1993Nov22.153621.25661@spdc.ti.com> andy@piziali.lonestar.org (Andrew J. Piziali) writes:
:   After finally getting my Linux system back up and running after a week of
:unsuccessful attempts to restore the root (and only) file system, I feel
:...

    I have modified my e2fsck to NOT automatically attach lost inodes to
    lost+found.  I made this change after experimenting a bit, and found that
    e2fsck could get into a state where multiple runs would only corrupt
    the filesystem MORE rather then less, and traced the problem to it's
    attempt to connect lost inodes to lost+found.

    After making that change I no longer loose my filesystems, generally just
    a number of temporary files that are active when the crash occurs.  This
    builds up lost inodes, but doesn't mess up anything else.

    I haven't tried the 0.4 stuff.

                                                    -Matt

    Matthew Dillon              dillon@apollo.west.oic.com
    1005 Apollo Way
    Incline Village, NV. 89451  ham: KC6LVW (no mail drop)
    USA                         Sandel-Avery Engineering (702)831-8000
    [always include a portion of the original email in any response!]


------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Admin-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.admin) via:

    Internet: Linux-Admin@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Admin Digest
******************************
