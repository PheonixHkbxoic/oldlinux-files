From:     Digestifier <Linux-Admin-Request@senator-bedfellow.mit.edu>
To:       Linux-Admin@senator-bedfellow.mit.edu
Reply-To: Linux-Admin@senator-bedfellow.mit.edu
Date:     Fri, 8 Oct 93 18:24:56 EDT
Subject:  Linux-Admin Digest #95

Linux-Admin Digest #95, Volume #1                 Fri, 8 Oct 93 18:24:56 EDT

Contents:
  Re: CFC/CFI: XSysadmin (Brandon S. Allbery)
  [A] Problem compiling libipc (Shriram Krishnamurthi)
  Emacs 19.19 installs (Shriram Krishnamurthi)
  Re: Smail saves /usr/spool/mail/<user> as rw-rw---- (Henri Karrenbeld)
  Re: Smail saves /usr/spool/mail/<user> as rw-rw---- (Denis Endisch)
  Re: Smail saves /usr/spool/mail/<user> as rw-rw---- (Matthew C. Mead)
  Re: SLIP woes ... Can't Login (Daniel M. Coleman)
  Re: Smail saves /usr/spool/mail/<user> as rw-rw---- (Ian Wells)
  ADD TO FAQ!!! - WD7000-WAH2 & ESDI Drive (RESOLVED) (Eric Kimminau)
  Re: 3.5 boot floppies. Not really Re: [Not] enough SLS bashing anymore (Scott Alfter)

----------------------------------------------------------------------------

Crossposted-To: comp.os.linux.development,comp.os.linux
From: bsa@kf8nh.wariat.org (Brandon S. Allbery)
Subject: Re: CFC/CFI: XSysadmin
Date: Fri, 8 Oct 1993 02:06:58 GMT

In article <291fir$efd@peanuts.informatik.uni-tuebingen.de> will@peanuts.informatik.uni-tuebingen.de writes:
>While xview is nice, I think OI is much more real
>ObjectOriented - and it is more easy to provide two userinterfaces
>using the same functionalitycode with true objects...

XView's UIC library is an object-oriented C++ interface to XView, if you
prefer that to the C interface.

Always remember that XView has one major advantage over OI:  it's freely
available, so it can be used on more systems than just Linux for Intel.  (Of
course, whether the *BSD folks want anything to do with this is another issue
entirely...)  Moreover, since the source is available, you have something to
work from other than a reference manual when developing a character-mode
version that uses the same API and equivalent semantics.

My own vote would probably be for Tcl/Tk, with a curses-based Tk replacement
for character mode terminals.  I think John Ousterhout commented on the
possibility of such a Tk alternative being in a future Tk release --- but we
would probably have to roll our own rather than waiting.  Still, Tk is freely
available source, so it's a lot easier than cloning OI's functionality would
be.

++Brandon
-- 
Brandon S. Allbery         kf8nh@kf8nh.ampr.org          bsa@kf8nh.wariat.org
"MSDOS didn't get as bad as it is overnight -- it took over ten years
of careful development."  ---dmeggins@aix1.uottawa.ca

------------------------------

From: shriram@cs.rice.edu (Shriram Krishnamurthi)
Subject: [A] Problem compiling libipc
Date: Fri, 8 Oct 1993 11:06:20 GMT


This refers to 0.99.12, the SLS distribution on tsx-11.

The code in /usr/src/ipc/test suffers from the following simple
problem: some of the constants it requires are present in the header
<linux/ipc.h> (which <sys/ipc.h> includes), but only with the token
__KERNEL__ defined.  Unfortunately, the source in that directory uses
the name KERNEL instead, which is of course insufficient and hence
unsuitable.

------------------------------

From: shriram@cs.rice.edu (Shriram Krishnamurthi)
Subject: Emacs 19.19 installs
Date: Fri, 8 Oct 1993 11:38:39 GMT


Since the etc/MACHINES file in the distribution at prep reads that
"Emacs runs as of version 19.7", I though I'd post and let folks know
that newer versions installed, and seemed to stand up against
preliminary scrutiny.

I used the following command-line for configure:

    i386-foo-linux --with-x11 --with-gcc

and let 'er go.  One problem I had was that my ipc lib hadn't been
installed, and I posted on that not too long ago.  Then, I had the
following three problems:

- The Makefile makes constant reference to /bin/pwd, while on bash pwd
  is a builtin;
- XScreenNumberOfScreen() is declared twice, which shows up at the
  time temacs is being built.  I simply commented out one of these in
  src/xfns.c (line 3501); and,
- There was a header mis-match between some mkdir() and the prototype
  in /usr/include/stat.h.  (Sorry, but I can't recall where this was.)
  The fix was simply enough to change

      char * var1;
      int var2;

  (where var1 and var2 are whatever they were there) to

      const char * var1;
      mode_t var2;

  and all was well.

Hope this helps.  I would be interested in hearing from others that
have had problems running 19.19 (or others of recent vintage) on their
systems.

------------------------------

From: henrikar@ct.utwente.nl (Henri Karrenbeld)
Subject: Re: Smail saves /usr/spool/mail/<user> as rw-rw----
Date: Fri, 8 Oct 1993 12:30:31 GMT

mmead@slapshot.async.vt.edu (Matthew C. Mead) writes:


>       Currently I am using the Smail binary from sunsite, and have noticed
>that when it saves files into /usr/spool/mail it saves them with the
>permissions rw-rw----, allowing members of the same group to read each other's
>mail if they so desire.  Is there a way easier than rebuilding Smail to fix
>this?

I think it's even worse...usually (i'm not sure about Linux) the group owner
of the files in /usr/spool/mail is 'mail', and since the 'mail' reading program
runs as rwsr-sr-x sometimes....This means that everybody can read eachothers
mail and not only users in the same group.

Our SGI 4D platform had this problem too in the old OS, it could be fixed
by creating files in the /usr/spool/mail equivalent e.g. /usr/spool/mail/luser
with the right permissions and of size 0 (e.g. use the 'touch' command for
this)

I don't know if the Smail program resets these permissions when adding new
mail or if your mail reader deleted the files in /usr/spool/mail after reading
them (instead of making 'em size 0), but it _should_, IMHO, not.

$) Henri
--
=============================================================================
Hardware, n.:
        The parts of a computer system that can be kicked.
=============================================================================

------------------------------

From: dendisch@cat.physics.uwo.ca (Denis Endisch)
Subject: Re: Smail saves /usr/spool/mail/<user> as rw-rw----
Date: Fri, 8 Oct 1993 14:08:36 GMT

mmead@slapshot.async.vt.edu (Matthew C. Mead) writes:

>       Currently I am using the Smail binary from sunsite, and have noticed
>that when it saves files into /usr/spool/mail it saves them with the
>permissions rw-rw----, allowing members of the same group to read each other's
>mail if they so desire.  Is there a way easier than rebuilding Smail to fix
>this?

This behaviour is correct, but the group owner of the files should always
be mail.
Does your smail belong to group mail and has it the sgid bit set?
Denis
--
Denis Endisch                 Phone:  (519) 661 - 2111x6413
Department of Physics         Fax:    (519) 661 - 2033
Univ. of Western Ontario      email:  dendisch@uwo.ca
London, Ontario, Canada N6A 3K7

------------------------------

From: mmead@slapshot.async.vt.edu (Matthew C. Mead)
Subject: Re: Smail saves /usr/spool/mail/<user> as rw-rw----
Date: 8 Oct 1993 14:25:19 GMT

In article <292f6s$qvt@usenet.ins.cwru.edu>,
Patrick J. Volkerding <bf703@cleveland.Freenet.Edu> wrote:
>
>Doesn't it set all of these mailboxes to group "mail"?
>
>Unless Smail is using the user's groups (which it shouldn't) there's no
>problem with rw-rw----.

        Welp....it seems to be using the group 'users' :(  I'm not sure why,
as the binary is owned by root and group root....any ideas?

Matt

------------------------------

From: dcoleman@mbs.telesys.utexas.edu (Daniel M. Coleman)
Subject: Re: SLIP woes ... Can't Login
Date: 8 Oct 1993 14:40:46 GMT

In article <1993Oct7.182534.281@ccd.harris.com>,
Noahal A. Mundt <nam@ccd.harris.com> wrote:
>Hello Fellow Slip Users:
>
>I am having the following problem when I attempt to login after getting
>attached to my local SLIP server from my Linux box running 0.99 pl12.  
>
>I can attach fine and ping works perfect.  I can even telnet to machines
>via our router, but I cannot get past the password prompt.  I get the 
>login prompt - I enter my login, then the password prompt - I enter my
>password, then I wait and wait and wait ... forever!  I CAN anonymous ftp
>without a problem, but an ftp which needs a password also hangs.  Argh!

Try lowering your mtu to around 500.

Dan

-- 
Daniel Matthew Coleman             | Internet: dcoleman@mbs.telesys.utexas.edu
===================================+         :  ifbq612@mcl.cc.utexas.edu
The University of Texas at Austin  |         : dcoleman@utxvms.cc.utexas.edu
Electrical/Computer Engineering    |         : dcoleman@ccwf.cc.utexas.edu

------------------------------

From: ijw@bob.cambustion.co.uk (Ian Wells)
Subject: Re: Smail saves /usr/spool/mail/<user> as rw-rw----
Date: 08 Oct 1993 15:16:05 GMT

In article <henrikar.750083431@utctu1.ct.utwente.nl> henrikar@ct.utwente.nl (Henri Karrenbeld) writes:
   mmead@slapshot.async.vt.edu (Matthew C. Mead) writes:
   >    Currently I am using the Smail binary from sunsite, and have noticed
   >that when it saves files into /usr/spool/mail it saves them with the
   >permissions rw-rw----, allowing members of the same group to read each other's
   >mail if they so desire.  Is there a way easier than rebuilding Smail to fix
   >this?

   I think it's even worse...usually (i'm not sure about Linux) the group owner
   of the files in /usr/spool/mail is 'mail', and since the 'mail'
   reading program runs as rwsr-sr-x sometimes....This means that
   everybody can read eachothers mail and not only users in the same
   group.
Have you actually tried this?  And, incidentally, you seem to be
implying that users should be allowed to read other users' mail if
they are in the same group, which is obviously not the case.  Mail is
supposed to be private to each user.

Think about this... login runs setuid root - doesn that mean anyone
can log in as any user ID?  The same thing happens (or should happen)
with mail.  /usr/spool/mail should be writable to group mail but not
to everyone (so that mail programs can create new mailboxes or lock
files to prevent several programs trying to write to the same mailbox)
and all mail programs which change the mailboxes of users (for
instance mail, sendmail, in.smtpd) should run as group mail.  These
programs have to be installed by root (or someone with suitable
permissions) and so should have been checked over to see that they
don't have security loopholes in.

I don't think you should be running your mail program setuid root, however.
The whole point of having a mail group is so that mail programs can
access mail files and nothing else.  Setuid'ing the executables seems
to be to defeat the object, and probably explains why people _can_
read each other's mail (since of course root permission allows a
program to read any file).

I recommend that you use find to check your mail executables, and
check that they are all setgid mail, but not setuid anything, and that
your mail files and /usr/spool/mail directory are also mail groupid.

Ian.

------------------------------

From: ekimmina@pms709.pms.ford.com (Eric Kimminau)
Subject: ADD TO FAQ!!! - WD7000-WAH2 & ESDI Drive (RESOLVED)
Date: 8 Oct 1993 15:30:33 GMT


Greetings!

I was having serious problems trying to get Linux to recognize my 
Seagate 320MB ESDI drive connected to a WD 1007-WA2 controller. 
The soloution, while round-about was fairly simple.

To start, the problem displayed itself as Read and init failures 
on installation attempts and subsequent messages stating that Linux 
found no harddrives present. After several low-level formats, 
media analysis, surface analysis and re-boot/install attempts, I 
finally found the problem.

Linux, for some reason, does NOT like translated drive types. I chose 
the largest drive type in the WD1007 ROM utilities (debug, g=c800:5, 
hit+, cylxhdsx512xSPT=MB) and then I put the NATIVE parameters in a 
user definable drive type in CMOS. Im my case, I used a drive type 
of 683x16x63 in the WD ROM setup utility, and I used native parameters 
of 1224x15x36 in CMOS and Linux couldn't be happier. First try after 
using the definable drive type, Linux saw the drive, allowed me to 
create partitions (which it wouldn't before), prepare those partitions, 
and complete installation with NO further problems. 

-- 
Eric Kimminau                       Workstation Systems Department
313-322-3431                        Product & Manufacturing Systems
ekimmina@pms709.pms.ford.com        Ford Motor Co.
Planning and Implementation         "Not an official Ford Spokesperson"

------------------------------

From: sknkwrks@sonny-boy.cs.unlv.edu (Scott Alfter)
Subject: Re: 3.5 boot floppies. Not really Re: [Not] enough SLS bashing anymore
Date: 08 Oct 1993 20:07:09 GMT

In article <1993Oct4.123124.248@krikkit1.apana.org.au> matt@krikkit1.apana.org.au (Matt McLeod) writes:
>Hm.  I'm quite sure that if I can format 360k disks to 800k without any
>problems, then 1.2M disks should be able to cope with being formatted to
>1.44...

If you care about the reliability of your data storage, don't push
5.25" HD disks beyond 1.2 megs and don't push 3.5" HD disks beyond
1.44 megs.  I tried it once with all of my offline storage and lost
quite a few files.

Pushing 5.25" DD disks to 720K is fairly reliable, though...you're
only putting down twice as many tracks (the format is identical to the
standard 3.5" DD format).  Again, though, I don't know if I'd want to
jam more blocks onto a track.

  _/_   Scott Alfter (sknkwrks@cs.unlv.edu)       Ask me about SoftDAC--digital
 / v \  Call the Skunk Works BBS today!           audio for your Apple IIe/IIc!
(IIGS(  (702) 894-9619 300-14400 V.32bis 1:209/263 Apple II, IBM, Trek, & more!
 \_^_/  -==## Hey Hey Willie J, how many of our kids will you kill today? ##==-

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Admin-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.admin) via:

    Internet: Linux-Admin@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Admin Digest
******************************
