From:     Digestifier <Linux-Admin-Request@senator-bedfellow.mit.edu>
To:       Linux-Admin@senator-bedfellow.mit.edu
Reply-To: Linux-Admin@senator-bedfellow.mit.edu
Date:     Mon, 22 Nov 93 12:14:23 EST
Subject:  Linux-Admin Digest #181

Linux-Admin Digest #181, Volume #1               Mon, 22 Nov 93 12:14:23 EST

Contents:
  Slackware: fsck always check at boot time (Zhuo Er Lin)
  Re: "Talk" problems on 0.99.13 and > (uri@watson.ibm.com)
  Re: Determine Passwords (sjh@unixuser.chi.il.us)
  Re: Linux on a Gateway P5-60 (Thomas Brown)
  Re: Watcher... (Tom Webster)
  Re: Watcher... (Mr. Bassman)
  Re: Slackware: fsck always check at boot time (Stephen Russell Warren)
  Re: Berkeley Fast Filesystem (Joachim Hoenig)
  Latest TeX? (Phil Perucci)
  Re: How to reach network? (Kai Petzke)
  Re: Quickie security script? (Fergus Henderson)
  Any LINUX  installations in real life environments? (Michael Luebbeke)
  Re: GIF compression (was: Getting Net Stats) (Kai Petzke)
  Re: Latest TeX? (Kai Petzke)
  Watcher... (Kenneth Walsh)
  Re: Slackware: fsck always check at boot time
  File System Corruption Lessons Learned (long) (Andrew J. Piziali)
  Re: Slackware: fsck always check at boot time (Mika Ilmaranta)
  Re: /dev/mouse: Device or resource busy ... help! (Ralf G. R. Bergs)
  Re: /dev/mouse: Device or resource busy ... help! (Ralf G. R. Bergs)

----------------------------------------------------------------------------

From: umlin000@ccu.umanitoba.ca (Zhuo Er Lin)
Subject: Slackware: fsck always check at boot time
Date: Mon, 22 Nov 1993 00:20:16 GMT

I just reinstall slackware 1.1 from scratch. But now it fsck checks
the file system every boot time. Although I reboot by 'sync;reboot'.
How to solve it?
-- 
========================================================================
|  Eric Lin                        Voice:   (204) 783-2884             |
|    Computer Engineering      FAX Modem:   (204) 783-2884             |
|    University of Manitoba     Internet:   Umlin000@cc.Umanitoba.CA   |

------------------------------

From: uri@watson.ibm.com
Subject: Re: "Talk" problems on 0.99.13 and >
Date: Mon, 22 Nov 1993 00:42:34 GMT
Reply-To: uri@watson.ibm.com

From article <2coedt$6m9@cegt201.bradley.edu>, by magnus@cegt201.bradley.edu (Mohan Kokal):
>   I cured the problem :).

Well, not quite (:-).

>   The 0.99.13 kernel has a signal.h that doesnt quite support SIG_DFL
>   (its supposed to be a bug, as per the man pages).
>   So, what i did was, i downloaded a copy of talk from sunsite.unc.edu
>   (ie the source code), and then added the line -D__USE_BSD_SIGNAL in 
>   the Makefile's CFLAGS line.
>   And, now.... voila..it works! ;)
>   PS: if you still notice any bugs lemme know.. so that i can look into
>   these and see what to do...:P

"talk" seems to work (yeah, right :-), but "ytalk" doesn't!
Ytalk complains that 
        /home/who/src/talkd # ytalk root@angmar
        Cannot read from YTalk daemon!: Connection refused

Any help, please?

Thanks!

-- 
Regards,
Uri.      uri@watson.ibm.com     scifi!angmar!uri 
============
<Disclaimer>

------------------------------

From: sjh@unixuser.chi.il.us
Subject: Re: Determine Passwords
Date: Mon, 22 Nov 1993 03:47:16 GMT

In <2cmtn0$80s@apollo.west.oic.com> news@apollo.west.oic.com (INN NEWS) writes:

>In article <2cm8i0$b0p@cs1.bradley.edu> mojo@cs1.bradley.edu (Tony Bailey) writes:
>:I have a user on my linux system that lost his password.  How as root can
>:I find out what his pw is w/out changing it?  Is there a util to do this?
>:
>:--
>:                                   /\
>:                     Tony Bailey  /  \  mojo@cs1.bradley.edu 

>    No, as root you should simply set a new password for your user, tell it
>    to him, and let him pick another one for himself.

>                                               -Matt
Or, more to the point, it needs to be pointed out that the encryption
is essentially one way - there isn't any way to find out what the
passsword was once it has been encryted (short of brute force methods).
All the OS does is to encrypt your password when you log in and see
if the encrypted words match.

So yes, you have to reset the users password.


------------------------------

From: twb0@ns1.cc.lehigh.edu (Thomas Brown)
Subject: Re: Linux on a Gateway P5-60
Date: 22 Nov 93 03:05:12 GMT

Christopher Lindley (clindley@axion.bt.co.uk) wrote:
:  I don't think this machine was on sale the last time an Hardware
:  Compatibility list came by, so, can anybody tell me if they have
:  had any experience of trying to get Linux to compile/run on the
:       Gateway 2000, P5-60  (Pentium with PCI-bus)

I'm not sure about the P5, but the 486-66E (EISA 66 MHz) system
wouldn't support Novell UNIXware or Linux; UNIXware went into panic
on the first install disk, and Linux barely started to install.
Gateway claimed it was probably a BIOS problem, and Novell claimed
that they had only been able to get UNIXware to run on their 33 MHz
systems.

-Tom
-- 
--=--
Thomas Brown, KA2UGQ      Internet: twb0@lehigh.edu           ...../|_
Lehigh Univ. UC Box 855   UUCP: ..!uunet!lehigh.edu!twb0   __:o       ~--//
Bethlehem, PA 18015-3041  AX.25: ka2ugq@ka2ugq.nj.usa.na   ~~~~~~V~~~~~~~\\

------------------------------

From: webster@kaiwan.com (Tom Webster)
Subject: Re: Watcher...
Date: Mon, 22 Nov 1993 07:31:44 GMT

Steven M. Gallo (smgallo@cs.buffalo.edu) wrote:
: In article <CGqzo4.Gw4@curia.ucc.ie> ken@symphony.mp.ucc.ie (Kenneth Walsh) writes:
: > Does anyone know of a program to Watch terminals(tty's) on a linux machine?

: What do you mean by 'watch' ?  The program getty will watch a tty for a login
: or a modem.  getty_ps_2.07b is the newest release of this program.

I think what Kenneth is looking for is what we used to refer to as watch on 
the (choke) AIX (gag) system at school (Cal Poly SLO).  It was a terminal
watcher, the user provided it with a list of user ID's to watch, and would
be notified when the 'watched' users logged on and off the system.

Was useful when trying to get a hold of other users while doing 'real work'.
I don't know what mechanism was used, but I do know that the first method
was scrapped due to the bandwidth it ate.  Keeping track of users on a
single Linux box, rather than 10 pc's running AIX should be a little
easier.....

Tom
-- 
+--------------------------------+------------------------------+
| Tom Webster                    | "Funny, I've never seen it   |
| webster@kaiwan.com (home)      | do THAT before...."          |
| webster@ssdgwy.mdc.com  (work) | - Any user support person    |

------------------------------

From: bassman@isoit034.bbn.hp.com (Mr. Bassman)
Subject: Re: Watcher...
Date: Mon, 22 Nov 1993 09:03:51 GMT

In article <CGqzo4.Gw4@curia.ucc.ie>, ken@symphony.mp.ucc.ie (Kenneth Walsh) writes:
|>  Does anyone know of a program to Watch terminals(tty's) on a linux machine?

        If you mean watch for login/outs on any or all terminals, then that's
built into tcsh. It even will watch for specific usernames too.

Mr. Bassman
Platform Services (UNIX)
Hewlett-Packard, Boeblingen, Germany
bassman@hpbbi30.bbn.hp.com
Speed kills - use Windoze..

------------------------------

From: srw1@doc.ic.ac.uk (Stephen Russell Warren)
Subject: Re: Slackware: fsck always check at boot time
Date: 22 Nov 1993 09:29:16 -0000


I assume you are using bootutils...

If so, make sure you /etc/brc file contains a line like...

umount -a

To make sure your root partition is unmounted (and therefore marked clean) so
no fsck is required.
-- 
============================================================================
  Stephen Warren       1st year, Software Engineering    srw1@doc.ic.ac.uk
                        Technical editor "Wizzy Wig"

------------------------------

From: hoenig@immd3.informatik.uni-erlangen.de (Joachim Hoenig)
Subject: Re: Berkeley Fast Filesystem
Date: Mon, 22 Nov 1993 11:12:03 GMT

joel@rac2.wam.umd.edu (Joel M. Hoffman) writes:

>How do the FFS and ext2 compare with respect to stability after a
>crash?

FFS has been omega-tested by hundred thousands of primates all around
the world. If you do not take into account hardware failures or
accidental deletion, I do not know anyone who has, in the last few
years, lost a file from our 6 GB FFS diskspace. Sometimes, after a
crash, a file makes its way into lost+found, but nobody seemed to
care. Nor do I remember trashed filesystems.

On ext2fs I once had a (not so) funny directory loop in lost+found.
Maybe this bug has been fixed.

Joachim

------------------------------

From: philp@universe.digex.net (Phil Perucci)
Subject: Latest TeX?
Date: 22 Nov 1993 07:04:48 -0500

What is the best TeX distribution to use for Slackware 1.1.0?
The SLS distribution seems to be getting quite old now, and
I can't make heads or tails out of the /pub/linux/packages/TeX
distribution on tsx-11...


-- 
==============================================================================
 Phil Perucci             | "All postings are my own opinion - all comments
 Systems Programmer       |  are intended for research/educational purposes"
==============================================================================

------------------------------

From: wpp@marie.physik.tu-berlin.de (Kai Petzke)
Subject: Re: How to reach network?
Date: 22 Nov 1993 12:20:15 GMT

In <1993Nov20.061127.6526@super.org> becker@super.org (Donald J. Becker) writes:

>>
>>Maxim Matveev (mmatveev@boi.hp.com) wrote:
>>: I try to configure NET-2 stuff and any time then I try to
>>: run route or smth other I get "SIOCADDRT: Network unreacheble".
>>: I run SLS-1.03 with kernel 0.99pl13. Ethernet card - WD8003EP.

>No, no, no.  "Network is unreachable" is a _software_routing_message, and has
>little to do with the hardware.  You are probably missing an /etc/networks
>file.

When installing a small network (linux box + X terminal) for a
friend, I had to do something like:

/etc/route add <network> eth0
/etc/route add default gw <network>

to make "Network is unreachable" go away.  It was with a plain
99pl13 kernel, and a net-2 distribution.  Under 99pl12, the
following seemed to be sufficient:

/etc/route add <network> eth0

In both cases, <network> was the network IP number, something like
220.21.22.0.

--
Kai
wpp@marie.physik.tu-berlin.de
Advertisement by Microsoft in a well-known German magazine:
        If you don't like our programmes, than make your own ones.
However, they expect you to use Microsoft products for this -:)

------------------------------

Crossposted-To: comp.unix.admin
From: fjh@munta.cs.mu.OZ.AU (Fergus Henderson)
Subject: Re: Quickie security script?
Date: Mon, 22 Nov 1993 11:32:25 GMT

philp@universe.digex.net (Phil Perucci) writes:

>Does anyone out there know a quick & dirty (or clean) way to provide
>additional security beyond /etc/passwd for logins?  Ideally, I would
>like /etc/profile to start a task to kill the login in 30 seconds if
>a "magic command" is not entered.

What makes you think that this would improve security?

>Any existing scripts/programs to do this would be greatly appreciated!
>...or any alternative approaches
>...or, just a way for a script started from /etc/profile to know the
>   PID or user-id of the person logging in (I can handle the rest).

Probably the  best way to do this is to set the shell of the users
in question (or all users) to a program which does some additional
checking, and then if successful invokes a real shell such as /bin/sh.

-- 
Fergus Henderson                     fjh@munta.cs.mu.OZ.AU

------------------------------

From: fam-edv@zew.zew-mannheim.de (Michael Luebbeke)
Subject: Any LINUX  installations in real life environments?
Date: Mon, 22 Nov 1993 13:45:09

Hi LINUX Sys Admins,

does anyone use LINUX in an "commercial" environment, that means on a system, 
that provides services in a multiuser environment for "normal" users, as well 
in companies as in non-commercial organisations? Or is LINUX still just an 
experimental system, which normal useres should better not get in touch 
with? 

I am supposed to install a small UNIX system as an INTERNET-Services machine, 
to hold ftp-, telnet-, gopher-servers etc.. I wonder if LINUX can do htis for 
me in a relative stable manner. Con anyone recommend LINUX for this. I do 
experiment with LINUX for about 3/4 year and I am very fond of it, but I am 
afraid, that real life environments are still too rough for this filigran 
plant.

Any suggestions? or experiances?

Michael Luebbeke

fam-edv@zew.zew-mannheim.de   <><><><><><><><><><><>

ZEW  Zentrum fuer Europaeische Wirtschaftsforschung
     Center of European Economic Research
     Mannheim, Germany
===================================================

------------------------------

From: wpp@marie.physik.tu-berlin.de (Kai Petzke)
Crossposted-To: comp.os.linux.help
Subject: Re: GIF compression (was: Getting Net Stats)
Date: 22 Nov 1993 14:19:40 GMT

In <2ce2eg$eqe@meaddata.meaddata.com> sdw@meaddata.com (Stephen Williams) writes:

>Not true, unless you turn off both V.42 and V.42bis.
>Those can get you up to 1680cps or so even on compressed stuff.  They
>do this by compressing the start/stop bits (effectively...) by
>converting async to block sync.  It's smart enough not to try real
>compression if it can't do better also.

>I got this speed ftping over a sliplink to CA with a Zyxel on my side
>and a 'compress'ed datafile.  Uncompressed text should do 3.1K.
>Often, as when plain Sun's are used on the other side, the other side
>is limiting you to port speed (19200 for instance).

Files compress'ed via compress do still contain some redundancy,
so they are compressible using gzip.  As far as I know, gzip
compression and that done by V42bis are similiar, so don't use
compress'ed files for testing your modem speed - use gzip'ped ones!

But it is true, that V42 needs just 8 bits per second to transmit
a character per second, while asynchronous connections need one
start and one stop bit per byte, giving you 1 cps for every 10 bps :-(

You never will see the 14400/8 = 1800 cps speed though due to
protocol overhead.

--
Kai
wpp@marie.physik.tu-berlin.de
Advertisement by Microsoft in a well-known German magazine:
        If you don't like our programmes, than make your own ones.
However, they expect you to use Microsoft products for this -:)

------------------------------

From: wpp@marie.physik.tu-berlin.de (Kai Petzke)
Subject: Re: Latest TeX?
Date: 22 Nov 1993 14:23:50 GMT

In <2cq9t0$9so@universe.digex.net> philp@universe.digex.net (Phil Perucci) writes:

>What is the best TeX distribution to use for Slackware 1.1.0?
>The SLS distribution seems to be getting quite old now, and
>I can't make heads or tails out of the /pub/linux/packages/TeX
>distribution on tsx-11...

Well, TeX is one of the packages which finally reached majority.
The author, stopped working on it, except for bug fixes.  The name
TeX however is copyrighted by him.  You may modify the TeX source,
but then, you must not distribute it under the name TeX.

In other words: stay with whatever TeX distribution you get.  You
won't have to update, except for small pieces like xdvi, the dvi
previewer, if a new major X release comes out, etc.  Therefore,
/pub/linux/packages/TeX is only a collection of these add-ons.
--
Kai
wpp@marie.physik.tu-berlin.de
Advertisement by Microsoft in a well-known German magazine:
        If you don't like our programmes, than make your own ones.
However, they expect you to use Microsoft products for this -:)

------------------------------

From: ken@symphony.mp.ucc.ie (Kenneth Walsh)
Subject: Watcher...
Date: Mon, 22 Nov 1993 14:46:26 GMT

What I'm looking for is a program that will grab all output to a users
screen and display this on my screen aswell as on the users screen...
If user guest logs in and I type 'watch guest' it will show me exactly
what guest sees on his screen... Where could I get such a program?

thanks

Ken



------------------------------

From: of@myhost.subdomain.domain ()
Subject: Re: Slackware: fsck always check at boot time
Date: 22 Nov 1993 15:50:55 GMT

Stephen Russell Warren (srw1@doc.ic.ac.uk) wrote:

: I assume you are using bootutils...

: If so, make sure you /etc/brc file contains a line like...

: umount -a

: To make sure your root partition is unmounted (and therefore marked clean) so
: no fsck is required.

My /etc/brc contains the line umount -a
but still the system run fsck. Why is that ?

I'm currently running Slackware 1.1.0

-Oeyvind (of@nla.no)

------------------------------

Crossposted-To: comp.os.linux.help
From: andy@piziali.lonestar.org (Andrew J. Piziali)
Subject: File System Corruption Lessons Learned (long)
Reply-To: andy@piziali.lonestar.org (Andrew J. Piziali)
Date: Mon, 22 Nov 1993 15:36:21 GMT

   After finally getting my Linux system back up and running after a week of
unsuccessful attempts to restore the root (and only) file system, I feel
obligated to share the experience with the Linux community in the hope of
preventing others from going through the same experience.

   About a week ago I decided to upgrade my getty from getty_ps 2.0.6,
distributed with SLS 1.03, to 2.0.7.  After installing the new getty and
verifying its proper behavior I foolishly rearranged the /etc/inittab
(SysVinit variety) run levels and inadvertently spawned a getty on the same tty
the X server was using.  This locked up the system, preventing any keyboard or
mouse input from having any effect.

   After waiting for about a minute for /etc/update to synchronize the disk a
couple of times (I noted the HDD light flash every 30 seconds or so) I hit the
RESET button.

   Upon reboot e2fsck was unable to completely clean the file system so I
brought the system down to single user, remounted the file system read-only,
and ran e2fsck a second time.  It still left many errors intact.  Soon it was
apparent my only recourse was a full restore from a recent tar backup.  This
should have been a no brainer, but it wasn't.

   I booted the system from my maintenance disk, the SLS 1.03 a1.5 floppy,
created a clean file system (mke2fs /dev/sda2 229376) on the Linux partition,
mounted the fresh partition on /mnt (mount -t ext2 /dev/sda2 /mnt), and
attempted to restore it (cd /mnt; tar xvfbp /dev/rmt0 4096) from the most recent
QIC-250 tape (using a Wangtek 5150ES).  After restoring about ten files tar
displayed the message "Skipping to next file header ..." and hung.

   After several days of attempting to read this tape and each of my older
backup tapes, during which I was able to read the tape on a Sun QIC-250 drive
using Sun's tar but was not able to read even using Linux dd(1), I finally
discovered the problem.  The SLS 1.03 a1.5 floppy was created with the 0.99pl9
Linux kernel.  The tapes were all written using 0.99pl12.  After copying the
0.99pl12 kernel to the maintenance floppy I was able to read the tape but I
wasn't out of the woods yet.

   After completing the full restore I discovered all the files which should
have been owned by me (user name "andy") were owned by root.  Not until I
updated the maintenance disk's /etc/passwd and /etc/group files with the user
names and groups created since the system was installed was I able to coax tar
into restoring all files with their original user and group owners.

   These are the lessons learned from this whole experience:

        1) don't idly tinker with your /etc/inittab unless you are
           completely cogniscent of the consequences,

        2) don't reset or power off your system without synchronizing
           the disks unless absolutely necessary,

        3) don't postpone upgrading your filesystem and filesystem
           maintenance utilities when know bugs have been fixed (the
           ext2 filesystem has been updated from 0.3a, which I am using,
           to at least 0.4 by now),

        4) keep a current maintenance floppy which uses the same kernel
           binary (/zImage) as your hard disk,

        5) keep the maintenance floppy's /etc/passwd and /etc/group
           files up-to-date with the hard disk,

        6) read the documentation carefully (I mistakenly used the tar
           "-m" switch several times because I misread the info file
           thinking the switch preserved the original file modification
           times when, in fact, it does the exact opposite).

   Happy computing!

--
Andy Piziali                                                    |
                                                  ________------+------________
         Andy@Piziali.lonestar.org                             / \
                                                              *---*

------------------------------

From: ilmis@nullnet.fi (Mika Ilmaranta)
Subject: Re: Slackware: fsck always check at boot time
Date: Mon, 22 Nov 1993 10:42:32 GMT

umlin000@ccu.umanitoba.ca (Zhuo Er Lin) writes:

>I just reinstall slackware 1.1 from scratch. But now it fsck checks
>the file system every boot time. Although I reboot by 'sync;reboot'.
>How to solve it?

I had the same trouble. It was caused by kernel/lilo
not mounting the root filesystem read-only.

I got rid of that with 'rdev -R /zImage 1'.

>-- 
>========================================================================
>|  Eric Lin                        Voice:   (204) 783-2884             |
>|    Computer Engineering      FAX Modem:   (204) 783-2884             |
>|    University of Manitoba     Internet:   Umlin000@cc.Umanitoba.CA   |
-- 

======================================================================
Mika Ilmaranta
ilmis@nullnet.fi        postmaster@nullnet.fi

------------------------------

From: rabe@akela.informatik.rwth-aachen.de (Ralf G. R. Bergs)
Subject: Re: /dev/mouse: Device or resource busy ... help!
Date: 22 Nov 1993 16:13:23 GMT

tom@ksr.com (Tom Varga) writes:

>I've been trying to get X windows up and running when for some unknown reason,
>my mouse driver seems to have gotten wedged.  Trying to run startx or
>test-mouse results in a complaint which looks like :

>/dev/mouse: Device or resource busy

Kill the /etc/selection process (and/or remove it from your rc/rc.local
script). :)


Ralf

-- 
Ralf G. R. Bergs, Aachen University of Technology EE (comp. eng.) student 
snail: H"uckeswagener Str. 42, D-51647 Gummersbach, Fed. Rep. of Germany
phone/fax: +49 2261 21968
email: rabe@pool.informatik.rwth-aachen.de

------------------------------

From: rabe@akela.informatik.rwth-aachen.de (Ralf G. R. Bergs)
Subject: Re: /dev/mouse: Device or resource busy ... help!
Date: 22 Nov 1993 16:16:07 GMT

ylam@acs.ryerson.ca (York Lam - ACPS/F93) writes:

[...]
>  If you have a bus-mouse and selection is running, then you will need to kill
>selection first.  selection won't release a bus-mouse.  It does for serial
>ones though.

Ooops, I didn't notice that someone has already given the answer.

(BTW, your answer is partly false, at least for me. I have a Logi Pilot
mouse hooked to /dev/ttyS0, and selection DOES block my mouse.)


Ralf

-- 
Ralf G. R. Bergs, Aachen University of Technology EE (comp. eng.) student 
snail: H"uckeswagener Str. 42, D-51647 Gummersbach, Fed. Rep. of Germany
phone/fax: +49 2261 21968
email: rabe@pool.informatik.rwth-aachen.de

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Admin-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.admin) via:

    Internet: Linux-Admin@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Admin Digest
******************************
