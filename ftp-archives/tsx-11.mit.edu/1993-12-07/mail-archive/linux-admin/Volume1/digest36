From:     Digestifier <Linux-Admin-Request@senator-bedfellow.mit.edu>
To:       Linux-Admin@senator-bedfellow.mit.edu
Reply-To: Linux-Admin@senator-bedfellow.mit.edu
Date:     Sun, 5 Sep 93 13:33:43 EDT
Subject:  Linux-Admin Digest #36

Linux-Admin Digest #36, Volume #1                 Sun, 5 Sep 93 13:33:43 EDT

Contents:
  Re: building kernel WITHOUT sound support (Thomas Pfau)
  Re: XDM bug/Shadow passwords. (Robert W. Brewer)
  Re: Public Domain driver for SMC Ethernet Card (Russell Nelson)
  Re: [Q]: eliminating hostname before 'login:' with MCC (Pat Mackinlay)
  Re: Long shadow passwords less secure than normal ones? (Leif Kornstaedt)
  Re: Let's collect KNOWN BUGS (Kai Voigt)
  Re: mt: /dev/tape not found? (qic-02) (Andre Hufschmidt)
  Re: "lpd" won't run (Kenneth Benson)
  Re: Let's collect KNOWN BUGS (Kai Voigt)
  Re: [Q] Description of Linux startup sequence (Andreas Klemm)
  Re: [Q] Description of Linux startup sequence (Helmut Geyer)
  Re: SLS 1.03 networking (Sait Umar)

----------------------------------------------------------------------------

From: pfau@coffee.enet.dec.com (Thomas Pfau)
Subject: Re: building kernel WITHOUT sound support
Date: 4 SEP 93 22:30:32


In article <26atc9$i46@news.bu.edu>, heiser@bumetb.bu.edu (Bill Heiser)
writes...
>When I run "make config", and answer NO to all of the
>sound-board-related questions, and then run "make dep",
>the make complains about not having a sound driver enabled.
> 
>How do I build a kernel without any support for sound drivers?

Is it complaining about a sound driver or CD ROM driver?

If the latter, try the following:

        cd /usr/src/linux/kernel/blk_drv
        mv sbpcd.c sbpcd.x

Then edit the makefile.  Look for the line that defines OBJS.  At the end
of this line you will see 'sbpcd.o'.  Remove it.  Then try your build
again.

tom_p
======================================================================
pfau@coffee.enet.dec.com        | Mapmaker's disclaimer:
16.69.208.195                   | 'Not responsible for topographical
Compuserve: 73303,1136          | errors.'
======================================================================

------------------------------

From: rwb114@cac.psu.edu (Robert W. Brewer)
Subject: Re: XDM bug/Shadow passwords.
Date: 5 Sep 1993 03:34:59 GMT
Reply-To: rwb114@cac.psu.edu

Daniel T. Schwager (danny@dragon.stgt.sub.org) wrote in <1993Sep2.181414.8524@dragon.stgt.sub.org>:
>Download the shadow-version of xdm from sunsite or tsx.

I downloaded the file /pub/linux/sources/usr.bin.X11/xdm-shadow.tar.Z
from tsx-11 and can't get it to compile.  I am using SLS 1.03 with
the shadow suite.  It dies while linking verify.c, complaining
that the symbol _valid is referenced in the text segment but undefined.
I looked in verify.c and indeed it makes a call to some function valid()
which I've grepped for on my system but can't find anywhere.

Any ideas?

-Rob
--
Robert W. Brewer       Linux and XFree86:  Two great tastes...

------------------------------

From: nelson@crynwr.com (Russell Nelson)
Crossposted-To: comp.os.linux.help,comp.os.linux,comp.os.linux.development,comp.os.linux.misc
Subject: Re: Public Domain driver for SMC Ethernet Card
Date: Sat, 05 Sep 93 02:24:17 GMT

In article <19948@news.duke.edu> sdj@acpub.duke.edu writes:

   I have an SMC 3016TP Ethernet card I would like to use on my linux system.
   I notice that SMC Elite is supported by default but I cannot get it up with
   my 3016.  Does anyone have any suggestions?  I am using a 386SX AMI BIOS if
   it helps.

In article <1993Sep3.183522.16119@merlin.hgc.edu>, mikes@hgc.edu (Mike Stein) writes:

   Are there any Public Domain drivers for the SMC3016 Ethernet card.
   What ftp sites are there for Public Domain drivers?

SMC 3016 != WD 8013.  The SMC Elite/16 is a Western Digital 8013E.
The board you have is I/O based.  SMC doesn't make them any more.
You *might* be able to get programming docs from them.

-russ <nelson@crynwr.com> What canst *thou* say?
Crynwr Software           Crynwr Software sells packet driver support.
11 Grant St.              315-268-1925 Voice  |  LPF member - ask me about
Potsdam, NY 13676         315-268-9201 FAX    |  the harm software patents do.

------------------------------

From: mackinla@cs.curtin.edu.au (Pat Mackinlay)
Subject: Re: [Q]: eliminating hostname before 'login:' with MCC
Date: 5 Sep 93 04:15:36 GMT

swhitlat@nmt.edu (Steven Whitlatch) writes:

>OK, well, how does one change the default prompt for the MCC distribution,
>.99pl10?  It looks like this 23:26:09>.  It's the time and I'd like mine 
>to show what directory I'm in, like this: host>etc>docs>.  And then when 
>I move up one directory level, I want it to show host>etc>.  This is more 
>useful than always being told what time it is, to the second.  

Separating the different components of the current directory with '>'s
might be a bit tricky, but putting:

        export PS1='\u>\w>'

in your .bashrc (or appropriate other shell configuration script) will
get close. I suggest you read the "PROMPTING" section of the bash manpage.

--
Pat -- "There's only one thing left to do Mama, I got to ding a ding dang
        my dang a long ling long" (Jesus Built My Hotrod -- Ministry)
GCS d* -p+ c++ l++ m--- s+/- !g w- t- r

------------------------------

From: leif@rumtifsl.ruessel.sub.org (Leif Kornstaedt)
Subject: Re: Long shadow passwords less secure than normal ones?
Date: Sun, 5 Sep 1993 01:50:31 GMT

doolitt@cebaf4.cebaf.gov (Larry Doolittle) writes:

>Do you ever log in as root (even with "su" from a real account) over
>the net?  If so, your password goes unencrypted over the ethernet
>for all with a network analyzer to read.

Why exactly would you want to crack user passwords if you have root
access?

Leif.
-- 
Leif Kornstaedt               | ``Computers are good at following instructions,
leif@rumtifsl.ruessel.sub.org |   but not at reading your mind.''---D.~E. Knuth
            GCS/M d p c++ l++ u++ e+ m++ s n+ h+ f+ g+ w t+ r+ y?

------------------------------

From: kai@depeche.toppoint.de (Kai Voigt)
Subject: Re: Let's collect KNOWN BUGS
Date: Sat, 4 Sep 1993 11:10:32 GMT

tange@daimi.aau.dk (Ole Tange) writes:

>>:>A moderated newsgroup would be useful for this purpose.  The only
>>:>drawback I can think of is: the knowledgable person who moderates
>>:>would have less time to track down and fix the bugs.  On the other
>>:>hand, independant confirmation and documentation of a bug is a
>>:>very useful contribution...

>And if we post the solution as a shell-script, then the new users can easily
>fix the bugs too.

No, mail these scripts to Peter MacDonald, so he can include these patches
into his SLS. Then the bugs are gone for the future and new users won't
have to run the same scripts again and again with every SLS release. But
fixes can be posted here of course too.

Kai
-- 
Kai Voigt, Werftstrasse 2, 24148 Kiel, Germany, +49 431 7297514
            no .signature is good .signature

------------------------------

From: u241026@niesel.dkrz.de (Andre Hufschmidt)
Subject: Re: mt: /dev/tape not found? (qic-02)
Date: Sun, 5 Sep 93 13:30:47 GMT

In article <1993Sep4.175111.3714@news.vanderbilt.edu>,
Sait Umar, <umar@compsci.cas.vanderbilt.edu> wrote:
>I bought a WANGTEK 5150PK tape drive which is QIC-02 compatible. The host
>adapter switch settings are at (I/O=0x338,DMA=3,IRQ=2 in tpqic02.c file).
>I recompiled the kernel with tpqic02.c having the same values as the
>switch settings (otherwise it conflicts with 3c503 card). The boot process
>detects and gives the message that tpqic02 at I/O=338, DMA=3, IRQ=2....
>

According to tpqic02.h, one shouldn't use IRQ 2:

   #define TAPE_QIC02_IRQ          5       
     /* Muhammad, please don't use 2 here. -- Hennus */

Try using an other IRQ setting, which will not conflict with your other
hardware. I think, IRQ 5 is a good thing to try first.

>The Major device number in tpqic02.h is 12. I am not sure about how to
>find the minor numbers. I created the devices as required by the tpqic02
>manual. Specifically, I created
>
>   mknod /dev/tape c 12 8
>
>for QIC-150 dev. Then I try to use mt to test the tape by simly issuing
>
>   mt rewind
>
>the response is
>
>  mt: cannot find /dev/tape 
>
>or /dev/tape doesn't exist, something like that. I used the -f option, tried
>different tape devices to no avail. When I insert a tape into the tape drive
>the drive automatically rewinds, so at least I know it is on! What could be
>wrong?

Have you tried ls -l /dev/tape to make sure that mknod has created
/dev/tape and that mayor and minor numbers are correct.
mknod will not do anything if the file already exists. Therefore
one good guess is removing the tape-devices /dev/tape /dev/rmt* 
and then trying to create them again.

Andre



------------------------------

Reply-To: kbenson@fireborn.win.net (Kenneth Benson)
From: kbenson@fireborn.win.net (Kenneth Benson)
Date: Sun, 05 Sep 1993 02:00:08 GMT
Subject: Re: "lpd" won't run

 
In article <1993Sep1.131112.1571@knobel.knirsch.de>, Andreas Klemm (andreas@knobel.knirsch.de) writes:
>chris@chrism.demon.co.uk (Chris Marriott) writes:
>
>>I've just installed the SLS 1.03 linux implementation on my 486/33.  I'm
>>trying to get printing working, following the instructions in the FAQ.
>>I have a printer on LPT1: which works - I can copy a file to /dev/lp1 and
>>it prints fine.
>
>>My problem is that the printer daemon "lpd" refuses to run.  If I run it,
>>it terminates with no error messages immediately (exit code 0, if that
>>helps).  When I try to print through "lpr" I get the message "job queued,
>>but no daemon present".  When I run the printer control program lpc and
>>give the "restart" command I get the message:
>
>>    lp:
>>         cannot open lock file
>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>>    lp:
>>    lpc: connect: No such file or directory
>>         couldn't start daemon
>
>>I've edited the "printcap" file to simply say:
>
>>    lp:\
>>        :lp=/dev/lp1:\
>>        :sd=/usr/spool/lp1:\
>>        :mx#0:
>
>>I've create the directory "/usr/spool/lp1".
>
>Since the lpd program doesn't run under a certain "meta" user id
>lp or daemon, it runs under the user id of the user, who initiated
>the print job ....
>Therefore each user needs permission for reading and writing in 
>the spool directory. My spool directory - as predefined in the
>SLS 1.01 installation - has the permissions rwxrwxrwx like /tmp.
>
>Do a chmod 777 /usr/spool/lp1, and it should work ...
>-- 
>/-\       Andreas Klemm   <andreas@knobel.knirsch.de>      +-----------------+
>|@|########################################################-@ "pay for it !" |
>\-/   41469 Neuss     Germany     phone +49/ 2137 12609    +-----------------+
>

One other item. The lpd daemon is precompiled to use a file (for sequence
or locking, I'm not sure) in the lpd directory. Mine wouldn't work until
I created a /usr/spool/lpd directory with 775 permissions for it to find.
Go figure?!?

Ken
The FireBorn


------------------------------

From: kai@depeche.toppoint.de (Kai Voigt)
Subject: Re: Let's collect KNOWN BUGS
Date: Sun, 5 Sep 1993 11:22:30 GMT

bf703@cleveland.Freenet.Edu (Patrick J. Volkerding) writes:

>Seriously, after seeing posts about the same SLS bugs over and over
>again, I tend to doubt this will really help do anything about them at
>the source. (where it counts) 

>I think if SLS is going to continue to try to lead the way, someone in
>change of it should get a *usable email address* and start taking bug
>reports a little more seriously.

Of course the publisher of a distribution should provide a 'bug service'
and should try to fix bugs, I don't want to have the news system running
under user root in the next 5 SLS's :-) There could be a shell-script
(named 'bug-report' or whatever) that could be invoked when a user
finds a bug. The user will be prompted to describe the bug and the script
will automatically send an email to the distributor or a list of people
that care for bugs. Sounds like a good idea to me.

>The solution on the user end is to switch to a better distribution, if
>the problems with SLS cannot be resolved. My Slackware distribution has
>far fewer bugs, and comes with a full collection of software, including
>X11. The MCC distribution doesn't come with all the bells and whistles,
>but it's about as bug free as a distribution can get. Everything I hear
>about the ongoing Debian project suggests that it will be far superior
>to SLS and may become the leading package in the not too distant future.

We here on our German sls-mailing-list could easily create another
distribution (we are about 30 people), but this would cause too much
confusion among the users. So we decided to improve the SLS distribution
since it's the most popular one for Linux. Since there are so many people
building distributions for Linux, why don't all these people work
together for ONE good distribution. The work could be divided into
single project (like X project, news-mail-uucp project, gcc, etc etc),
This would be much more effeciently. The shell-script mentioned above
could ask for the category of the bug and send the bug report to the
group that is responsible for the packet. So bugs can removed very fast!

So let's work together, we don't have to invent the wheel twice or even
more (hmm, does this saying exist in English? :)


Kai
-- 
Kai Voigt, Werftstrasse 2, 24148 Kiel, Germany, +49 431 7297514
            no .signature is good .signature

------------------------------

From: andreas@knobel.knirsch.de (Andreas Klemm)
Subject: Re: [Q] Description of Linux startup sequence
Date: Sun, 5 Sep 1993 14:19:56 GMT

eekim@husc11.harvard.edu (Eugene Kim) writes:

>The startup sequence for DOS is fairly straightforward (*.SYS;shell;
>autoexec.bat).  Could some kind soul describe to me in detail the
>Linux startup routine?  How similar is this routine to other UNIX,
>and how flexible is it?

Linux calls first /etc/rc. /etc/rc calls rc.local. If there is a 
/etc/rc.net, then this script will be called, too.

This concept is usual in the Unix world. Initialization scripts in
/etc/rc for the system itself ... 
Files like .profile, .login, .cshrc, to initialize the Shell, the
Environment for each user seperately.

The different flavours of Unix provide different methods (files)
to initialize the System and to bring it up to the wanted ``run level''
(ie. single user mode for administration, multi user and some systems
have other run levels like "multiuser+networking" like Interactive).

It depends much on the flavour of Unix. But all start with something
like /etc/rc*.

This theme would be to large and system dependend, too describe
it precisely.

You ask for flexibility ??? Of course is it flexible. Those files
are written as script files in ASCII (Bourne Shell dialect), so
the system administrator is able to change it for his own needs.

>If there's a doc for this, could someone direct me to it?  I've read
>the alpha SAG, but it doesn't have any mention of this.  Maybe it
>should.

Look into the scripts (/etc/rc*). Most lines are documentated,
If you don't understand what's going on there, then you should 
buy a book about Unix administaration to learn the general concepts 
of a Unix system....
-- 
/-\       Andreas Klemm   <andreas@knobel.knirsch.de>      +-----------------+
|@|########################################################-@ "pay for it !" |
\-/   41469 Neuss     Germany     phone +49/ 2137 12609    +-----------------+

------------------------------

From: geyer@kalliope.iwr.uni-heidelberg.de (Helmut Geyer)
Subject: Re: [Q] Description of Linux startup sequence
Date: Sun, 5 Sep 93 16:34:07 GMT

Andreas Klemm (andreas@knobel.knirsch.de) wrote:
:>eekim@husc11.harvard.edu (Eugene Kim) writes:

:>>The startup sequence for DOS is fairly straightforward (*.SYS;shell;
:>>autoexec.bat).  Could some kind soul describe to me in detail the
:>>Linux startup routine?  How similar is this routine to other UNIX,
:>>and how flexible is it?

:>Linux calls first /etc/rc. /etc/rc calls rc.local. If there is a 
:>/etc/rc.net, then this script will be called, too.

This is only partially true. This behaviour is the way BSD flavoured Unices
work. Which setup scripts are executed is _not_ decided by the Operating system
but by the init program. This program (usually /etc/init, but often
/sbin/init (cf. the Standards discussion)) is called by the kernel and has
the process id 1 (it is the first process in user mode!). All startup scripts 
are executed by this program.

The BSD flavour init program for Linux (simpleinit by poe) will start /etc/rc.
/etc/rc is in this case a shellscript that can be edited  to your gusto. All
other setup scripts (as far as you need any) are then started by /etc/rc.

As there are now two SysV flavour init programs (one in the SysVinit package,
one in the bootsys package) one should say something about these, too.
The startup scripts used by these are defined in /etc/inittab and can 
have any name and location that they want (usually they are located in /etc
and some subdirectories of /etc). The SysVinit package does not use a /etc/rc 
script (this is mostly interesting for SLS users, as SLS uses this init
package). The bootsys package uses different names for the startup scripts, too.
Read the /etc/inittab file for these inits to see, which srcipts (or programs)
are executed.

For more information on the startup procedure you should read the manpages
for your init package.

:>This concept is usual in the Unix world. Initialization scripts in
:>/etc/rc for the system itself ... 
:>Files like .profile, .login, .cshrc, to initialize the Shell, the
:>Environment for each user seperately.

[...]

--
==============================================================================
Helmut Geyer                              geyer@kalliope.iwr.uni-heidelberg.de
==============================================================================
I speak (and write) |   Outside of a dog, a book is man's best friend.
for myself and only |   Inside of a dog,it's too dark to read anyway.
for myself.         |                                                  G.Marx

------------------------------

From: umar@compsci.cas.vanderbilt.edu (Sait Umar)
Subject: Re: SLS 1.03 networking
Date: Sun, 5 Sep 1993 16:56:26 GMT


In article <1993Sep2.124849.9943@unislc.slc.unisys.com>, dbb@unislc.slc.unisys.com (Doug Beattie) writes:
|> In article <WAYNE.93Sep1104529@rose.cs.odu.edu> wayne@rose.cs.odu.edu (C Wayne Huling) writes:
|> >  I have upgraded from SLS 1.01 to SLS 1.03 because it seemed to make
|> >a lot of changes that I was making manually.  Anyhow, the net-2
|> >software doesn't seem to communicate with the rest of the network at
|> >any level?  Does anyone have any suggestions as to why the network is
|> >unreachable from the newly upgraded machine, but the other machines on
|> >the network that are still SLS 1.01 can ping the upgraded machine?  No
|> >other network communication works (telnet, ftp, rsh, rlogin).
|> >
|> >
|> >
|> >            Wayne

   You seem to have a class B network. The key isto get the network ip
   number correctly and MAKE SURE THIS IS IN /etc/networks file. For
   example my ip is 129.59.130.141 my network is 129.59.0.0 which goes
   into the etc networks file:

   loop 127.0.0.1
   mnet 129.59.0.0

   the names do not matter. If you are not doing any masking your network
   mask is 255.255.0.0 and your broadcast is 129.59.255.255. ONLY if you
   do not put the 129.59.0.0 in networks file you can make things work
   by putting the broadcast as 129.59.0.0 BUT this is not proper. So,

   ifconfig eth0 129.59.130.141 netmask 255.255.0.0 broadcast 129.59.255.255
   route add 129.59.0.0
   route default gw 129.59.1.1

   (you may not even need the first route). Put the nameserver ip into the
   resolv.conf, put your full ip into files /etc/HOSTNAME and /etc/host,
   your full domain into /etc/domain, and make sure your rc.local has the
   line hostname -S. You are all set. Good luck,
-- 
=========================================================================
umar@compsci.cas.vanderbilt.edu         Prof.A.S. Umar
umarsa00@vuctrvax.bitnet                Department of Physics & Astronomy
Tel: (615) 322-2459                     Vanderbilt University
Fax: (615) 343-7263                     Nashville, TN 37235
=========================================================================

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Admin-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.admin) via:

    Internet: Linux-Admin@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Admin Digest
******************************
