From:     Digestifier <Linux-Admin-Request@senator-bedfellow.mit.edu>
To:       Linux-Admin@senator-bedfellow.mit.edu
Reply-To: Linux-Admin@senator-bedfellow.mit.edu
Date:     Sun, 17 Oct 93 09:13:14 EDT
Subject:  Linux-Admin Digest #113

Linux-Admin Digest #113, Volume #1               Sun, 17 Oct 93 09:13:14 EDT

Contents:
  Re: SLIP problems (datagram fragmentation) (Steven M. Palm)
  Re: SLIP problems (datagram fragmentation) (Dr. Raimund K. Ege)
  sstrange syslogd problems (Chuck Fee)
  Re: sstrange syslogd problems (John Paul Morrison)
  Re: SLIP problems (datagram fragmentation) (Alec)
  Puzzled by internet  (simmonr5387@cobra.uni.edu)
  Re: Puzzled by internet (Robert Moser)
  Re: installing ftape-0.9.6 (Gareth Bult)
  Re: SLIP problems (datagram fragmentation) (matthew aldous)
  Re: installing ftape-0.9.6 (Simon Marlow)
  Bug in date? (Savio Lam)

----------------------------------------------------------------------------

From: smp@solaria.mil.wi.us (Steven M. Palm)
Subject: Re: SLIP problems (datagram fragmentation)
Date: 16 Oct 1993 18:37:55 GMT

Alec (sergeyva@acf2.nyu.edu) wrote:

:       I got SLIP working, but whenever I do anything (especially
: Telnet and FTP) it gives me the following error:

: IP: *** datagram fragmentation not yet implemented ***
:     SRC = 128.122.128.12       DST = 128.122.250.30 (ignored)


 Since I have not found a SLIP connection yet, I cannot test it to give
 you a "definative" answer.  However, from all my reading here, it seems
 that you need to lower the MTU on your end...  I wish I could recall
 exactly WHERE and HOW you do that, but I know that you need to. :)
 
 You can safely have a MTU setting *LOWER* than your host, but not
 *HIGHER*.  If your MTU is higher than the host, the host is sending
 a packet your site determins as "short" and therefore fragmented.
 
 It will be nice when re-assembly is implemented in the kernel. :)

: %         Alec                             Internet: sergeyva@acf2.nyu.edu %

----
Steven M. Palm                   FidoNet, if you must, 1:154/600.0
Milwaukee, WI                    smp@solaria.mil.wi.us


------------------------------

From: ege@cerl.fiu.edu (Dr. Raimund K. Ege)
Subject: Re: SLIP problems (datagram fragmentation)
Date: Sat, 16 Oct 1993 20:22:32 GMT

In article <29pf23$dct@solaria.mil.wi.us>, smp@solaria.mil.wi.us (Steven M. Palm) writes:
|> Alec (sergeyva@acf2.nyu.edu) wrote:
|> 
|> :    I got SLIP working, but whenever I do anything (especially
|> : Telnet and FTP) it gives me the following error:
|> 
|> : IP: *** datagram fragmentation not yet implemented ***
|> :     SRC = 128.122.128.12       DST = 128.122.250.30 (ignored)
...
|>  You can safely have a MTU setting *LOWER* than your host, but not
|>  *HIGHER*.  If your MTU is higher than the host, the host is sending
|>  a packet your site determins as "short" and therefore fragmented.
|>  
|>  It will be nice when re-assembly is implemented in the kernel. :)

changing the MTU setting on the Linux side does not help. My Sun slip server
(running Cslip 2.6) sets its MTU to 552 (I don't know how to change that
on the Sun, but I would like to know). On Linux I tried MTUs from 256 to
552 and higher. None of these settings prevent the "fragmentation" error.
For now I set the MTU to 552 hoping that at least both machines agree :-)

What is the plan for supporting fragmentation on the Linux side ?

-- 
Raimund K. Ege                             School of Computer Science
                                             Florida Int'l University
ege@scs.fiu.edu           (305) 348-3381              University Park
ege@servax.bitnet     FAX (305) 348-3549              Miami, FL 33199

------------------------------

From: fee@cxf111.rh.psu.edu (Chuck Fee)
Subject: sstrange syslogd problems
Date: 16 Oct 1993 21:59:12 GMT

I'm gaving some really odd problems with syslogd. In both the binary
and source distributions. I've recompiled syslogd about a million times
and the same things keep occuring. For no apparent reason, my syslogd
goes haywire, spouting tons of errors to its logs, and then proceeding
to grab nearly 100% of both free core (real and swap) and cpu time, 
apparently trying to keep up with these messages.

has anyone had any similar problems with syslogd? 

when this happens, I cannot su to root to kill the process, for some
reason my shell never gets invoked. I'd really like to stop this, since
not only is it driving me insane, but it effectively crashes my system
every few hours.

When these messages are not occuring, my syslogd works fine.

below is some output generated from the system logs.
Any help will be gratefully appreciated.

Oct 16 17:23:06 cxf111 syslogd: recvfrom unix: Bad file number
Oct 16 17:23:37 cxf111 last message repeated 11361 times
Oct 16 17:24:38 cxf111 last message repeated 61383 times
Oct 16 17:25:39 cxf111 last message repeated 64722 times
Oct 16 17:26:40 cxf111 last message repeated 63413 times
Oct 16 17:27:41 cxf111 last message repeated 67850 times
Oct 16 17:28:42 cxf111 last message repeated 67151 times
Oct 16 17:29:43 cxf111 last message repeated 61290 times
Oct 16 17:30:44 cxf111 last message repeated 64816 times
Oct 16 17:31:44 cxf111 last message repeated 63369 times
Oct 16 17:32:45 cxf111 last message repeated 60507 times
Oct 16 17:33:45 cxf111 last message repeated 61755 times
Oct 16 17:34:45 cxf111 last message repeated 62397 times
Oct 16 17:35:45 cxf111 last message repeated 55260 times
Oct 16 17:36:45 cxf111 last message repeated 57171 times
Oct 16 17:37:45 cxf111 last message repeated 59000 times
Oct 16 17:38:45 cxf111 last message repeated 45647 times
Oct 16 17:39:45 cxf111 last message repeated 42702 times
Oct 16 17:40:46 cxf111 last message repeated 64349 times
Oct 16 17:41:46 cxf111 last message repeated 60031 times
Oct 16 17:42:46 cxf111 last message repeated 40880 times
Oct 16 17:43:47 cxf111 last message repeated 55408 times
Oct 16 17:44:47 cxf111 last message repeated 12621 times
Oct 16 17:45:49 cxf111 last message repeated 27375 times
Oct 16 17:46:50 cxf111 last message repeated 27298 times
Oct 16 17:47:50 cxf111 last message repeated 51862 times
Oct 16 17:48:50 cxf111 last message repeated 35270 times
Oct 16 17:49:52 cxf111 last message repeated 1624 times
Oct 16 17:50:53 cxf111 last message repeated 4437 times


--
Chuck Fee                   UN-altered REPRODUCTION and DISSEMINATION of this 
fee@cxf111.rh.psu.edu       IMPORTANT Information is ENCOURAGED.
                

------------------------------

From: jmorriso@rflab.ee.ubc.ca (John Paul Morrison)
Subject: Re: sstrange syslogd problems
Date: 17 Oct 1993 00:36:31 GMT

In article <29pqrg$1a8@genesis.ait.psu.edu>,
Chuck Fee <fee@cxf111.rh.psu.edu> wrote:
>I'm gaving some really odd problems with syslogd. In both the binary
>and source distributions. I've recompiled syslogd about a million times
>and the same things keep occuring. For no apparent reason, my syslogd
>goes haywire, spouting tons of errors to its logs, and then proceeding
>to grab nearly 100% of both free core (real and swap) and cpu time, 
>apparently trying to keep up with these messages.
>
>has anyone had any similar problems with syslogd? 

Yes, I had the same problem. It wasn't quite as bad: I could kill
inetd.

Wheat kernel, net code and libraries are you using?

I think I fixed it by recompiling syslogd and tcpd.
Actually, another user at this site had a crack at this too
and he cleaned up syslog.conf, which helped a lot. The orignal
syslog.conf from the net-2 binaries (or wherever) were confusing
syslog with too many "*.foo, *.bar" entries. keep it to:

facility.priority /file

and that worked around the problem. We haven't seen syslogd
go crazy in a while.


>
>--
>Chuck Fee                  UN-altered REPRODUCTION and DISSEMINATION of this 
>fee@cxf111.rh.psu.edu              IMPORTANT Information is ENCOURAGED.
>               


-- 
___________________________________________________________________________
 John Paul Morrison                     | 
 University of British Columbia, Canada | Hey hey!! Ho ho!!
 Electrical Engineering                 | Tax & spend liberals
 jmorriso@rflab.ee.ubc.ca        VE7JPM | have got to go!! 
________________________________________|__________________________________

------------------------------

From: sergeyva@acf2.nyu.edu (Alec)
Subject: Re: SLIP problems (datagram fragmentation)
Date: 17 Oct 1993 01:02:43 GMT

>Alec (sergeyva@acf2.nyu.edu) wrote:

>       I got SLIP working, but whenever I do anything (especially
> Telnet and FTP) it gives me the following error:

> IP: *** datagram fragmentation not yet implemented ***
>     SRC = 128.122.128.12       DST = 128.122.250.30 (ignored)


        I got some replies in the mail and in this group. Thanks,
everybody.

        First I tried MTU=3000. Everything worked just perfect, After
that I tried to login again and was greeted with fragmentation error
all over my screen. So, I tried several different settings of MTU and
settled on 296 suggested by Jim Segrave and it works. I occasionally
get the error, but very rare now. Thanks a lot, again!

                                        Alec

--

////////////////////////////////////////////////////////////////////////////
%         Alec                             Internet: sergeyva@acf2.nyu.edu %
% 40 East End Ave. #4-H                    Bitnet:   sergeyvs@nyuacf       %
% New York, NY  10128                      Bellnet:  (212)737-5949         %
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

------------------------------

From: simmonr5387@cobra.uni.edu
Subject: Puzzled by internet 
Date: 16 Oct 93 21:48:22 -0500

Okay, Im not a newbie to the UNIX system, but I have one question that
has either gone unaswered or answered in an unsatifactory manner to me 
though I have consulted many sources. 

The deal is, SLIP is a recent invention, so we can assume that most of the 
present doy systems on the internet do not use it to connect to the heart 
of the internet. Therefore my question is how do these other new machines
at colleges who want to get internet on ETHERNET accomplish this miracle
without running a cable 400 miles to the nearest connected site. I am 
sure that I am missing something here. I am interested in the hardware 
that is in practical, everyday use, not theories of how the various net 
layers work. Would someone please enlighten me on this. 

I want to know,
1) what hardware is required 
2) how to get my beautiful new pentium based linux system internetted
via internet and the total estimated cost outlay for this. 

-- Sincerely (or as sincere as I ever get)
-- Rob


------------------------------

From: araw@elm.circa.ufl.edu (Robert Moser)
Subject: Re: Puzzled by internet
Date: 17 Oct 1993 04:00:28 GMT

In article <1993Oct16.214822.18084@cobra.uni.edu> simmonr5387@cobra.uni.edu writes:

>at colleges who want to get internet on ETHERNET accomplish this miracle
>without running a cable 400 miles to the nearest connected site. I am 
>sure that I am missing something here. I am interested in the hardware 

How do the colleges do it?  They do precisely what you said they wouldn't do,
they run a cable 400 miles to the nearest connect.  Actually, they generally
lease a line from a data carrier.  Most of the long distance carriers offer
this.  At UF, T1 lines are used to connect us to SURA net in Maryland.  
Most institutions will use T1 (1.5MBPS) and T3 (42MBPS) lines, depending on
traffic.  AT&T, Sprint, WilTel and many others offer these services.  In
addition, a gateway is required at each end.

>I want to know,
>1) what hardware is required 
>2) how to get my beautiful new pentium based linux system internetted
>via internet and the total estimated cost outlay for this. 

If you as an individual want internet, by far the cheapest is to get some
kind soul to give you a slip connection from campus.  Since these are hard
to come by, there is at least one commercial offering available.  UUNET
offers dialup slip for the neighborhood of $250 per month, with a one-time
startup fee (I don't remember how much).  They offer higher rate connections
upto 10MBPS, but they get out of the reach of individuals.  

I would welcome postings and mail regarding other internet connections
available to individuals.  I will post a summary article of the mail
responses I receive.

Hope this helps,

ARAW

------------------------------

From: gareth@gblinux.demon.co.uk (Gareth Bult)
Subject: Re: installing ftape-0.9.6
Date: Sun, 17 Oct 1993 11:29:18 GMT

On Sat, 16 Oct 1993 15:22:38 GMT;                                           
----Dr. Raimund K. Ege (ege@cerl.fiu.edu) said:                             
>                                                                           
>my installation of ftape-0.9.6 has run into trouble.                       
>Maybe a kind soul can help me to continue. Here is                         
>a history of what I did:                                                   
>                                                                           
>- SLS base with pl13, gcc 2.4.5                                            
>- got ftape-0.9.6 from sunsite.unc.edu                                     
>- instructions say to first install the "modules"                          
>  (1. questions: does that mean that I have to                             
>     add the modules package to every new linux patch                      
>     level in order to use ftape ?)                                        
                                                                            
Add in the file modules.diffs to the pl13 kernel. (it won't) patch -p0 < .. 
Then fix all the fails. Then remove all the C++isms.                        
                                                                            
>- the instructions for the "modules" package refer                         
>  to pl12. The supplied diffs file works on my clean                       
>  pl13 source, but a kernel make does not compile.                         
                                                                            
Hence the diffs didn't work.                                                
                                                                            
>- the reason why it does not compile is that it needs                      
>  to be compiled with g++. OK, so I change the top-level                   
>  makefile to g++. Kernel compiles, except for the zBoot                   
>  subdirectory. OK, so I change that makefile to use gcc.                  
>  All compiles, links and gets me a new boot disk image.                   
>- further following instructions in the modules package,                   
>  reboot and compile and install the files in the utils directory.         
>- notice that the makefile uses "cc" but really requires "g++" !           
>- now, I try to insert the sys_hello.o module into the kernel,             
>  get error message:                                                       
                                                                            
No, compile the kernel with straight CC. Remove the C++ refs from modules.  
If you do this it does work on pl13.                                        
(He says smugly.)                                                           
                                                                            
If you still have problems, download a new pl13 src tree from nic.          
                                                                            

------------------------------

From: thecure@ee.mu.OZ.AU (matthew aldous)
Subject: Re: SLIP problems (datagram fragmentation)
Date: Sun, 17 Oct 1993 12:33:19 GMT

ege@cerl.fiu.edu (Dr. Raimund K. Ege) writes:

>In article <29pf23$dct@solaria.mil.wi.us>, smp@solaria.mil.wi.us (Steven M. Palm) writes:
>|> Alec (sergeyva@acf2.nyu.edu) wrote:
>|> 
>|> :   I got SLIP working, but whenever I do anything (especially
>|> : Telnet and FTP) it gives me the following error:
>|> 
>|> : IP: *** datagram fragmentation not yet implemented ***
>|> :     SRC = 128.122.128.12       DST = 128.122.250.30 (ignored)
>...
>|>  You can safely have a MTU setting *LOWER* than your host, but not
>|>  *HIGHER*.  If your MTU is higher than the host, the host is sending
>|>  a packet your site determins as "short" and therefore fragmented.
>|>  
>|>  It will be nice when re-assembly is implemented in the kernel. :)

>changing the MTU setting on the Linux side does not help. My Sun slip server
>(running Cslip 2.6) sets its MTU to 552 (I don't know how to change that
>on the Sun, but I would like to know). On Linux I tried MTUs from 256 to
>552 and higher. None of these settings prevent the "fragmentation" error.
>For now I set the MTU to 552 hoping that at least both machines agree :-)

mtu of 1006 works fine for me. only nfs mounts are icky.

------------------------------

From: simonm@dcs.glasgow.ac.uk (Simon Marlow)
Subject: Re: installing ftape-0.9.6
Date: Sun, 17 Oct 1993 12:47:22 GMT

gareth@gblinux.demon.co.uk (Gareth Bult) writes:

>On Sat, 16 Oct 1993 15:22:38 GMT;                                           
>----Dr. Raimund K. Ege (ege@cerl.fiu.edu) said:                             
>>                                                                           
[installing ftape-0.9.6...]

>Add in the file modules.diffs to the pl13 kernel. (it won't) patch -p0 < .. 
>Then fix all the fails. Then remove all the C++isms.                        
>                                                                            
>>- the instructions for the "modules" package refer                         
>>  to pl12. The supplied diffs file works on my clean                       
>>  pl13 source, but a kernel make does not compile.                         
>                                                                            
>Hence the diffs didn't work.                                                
>                                                                            
>>- the reason why it does not compile is that it needs                      
>>  to be compiled with g++. OK, so I change the top-level                   
>>  makefile to g++. Kernel compiles, except for the zBoot                   
>>  subdirectory. OK, so I change that makefile to use gcc.                  
>>  All compiles, links and gets me a new boot disk image.                   
>>- further following instructions in the modules package,                   
>>  reboot and compile and install the files in the utils directory.         
>>- notice that the makefile uses "cc" but really requires "g++" !           
>>- now, I try to insert the sys_hello.o module into the kernel,             
>>  get error message:                                                       
>                                                                            
>No, compile the kernel with straight CC. Remove the C++ refs from modules.  
>If you do this it does work on pl13.                                        
>(He says smugly.)                                                           

You *can* do it the other way around (i.e. compile the kernel with C++
instead of removing the C++ syntax from module.c).  Just uncomment the
'-x c++' in the default CFLAGS in the top-level Makefile.

Cheers,
        Simon


------------------------------

From: lam836@cs.cuhk.hk (Savio Lam)
Subject: Bug in date?
Reply-To: lam836@cs.cuhk.hk
Date: Sun, 17 Oct 1993 11:27:10 GMT


        I just got shellutils 1.8 from prep.ai.mit.edu and compiled
under Linux. It compiled out of the box but I've notice a possible bug
in date, which is also present in the date than comes with slackware
a5/bin4.tgz


e.g.
Under Linux (slackware),
"date -d 12:00:00" gives "Sun Oct 17 20:00:00 HKT 1993", and
"date -u -d 12:00:00" gives "Sun Oct 17 12:00:00 GMT 1993"

While on a sparc and a DECstation (Ultrix),
"date -d 12:00:00" gives "Sun Oct 17 12:00:00 HKT 1993", and
"date -u -d 12:00:00" gives "Sun Oct 17 04:00:00 GMT 1993"


        Why is that so?


        Thanks.

Regards,
Savio Lam.

--
###############################################################################
#                                 |        _                                  #
# ------------------------------- |      _| |_                                #
# Lam Lai Yin, Savio              |     |_   _|                               #
#                                 |       | |                                 #
# Internet: lam836@cs.cuhk.hk     |     /     \     Can't live with DOS?      #
# Department of Computer Science  |    |  DOS  |                              #
# Chinese University of Hong Kong |    |       |    Try Linux...              #
# ------------------------------- |    |       |                              #
#                                 |  ^^^^^^^^^^^^^                            #
###############################################################################

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Admin-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.admin) via:

    Internet: Linux-Admin@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Admin Digest
******************************
