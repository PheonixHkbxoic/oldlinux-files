From:     Digestifier <Linux-Admin-Request@senator-bedfellow.mit.edu>
To:       Linux-Admin@senator-bedfellow.mit.edu
Reply-To: Linux-Admin@senator-bedfellow.mit.edu
Date:     Wed, 6 Oct 93 16:13:55 EDT
Subject:  Linux-Admin Digest #92

Linux-Admin Digest #92, Volume #1                 Wed, 6 Oct 93 16:13:55 EDT

Contents:
  Re: NetCom 3c503 grabs wrong IRQ (Reid Allen Forrest)
  Re: Fails: mounting Linux filesystem from ISC 3.0/4.0 via NFS (Denis Endisch)
  Re: Setting up SLIP gateways and PLIP (Shockadelica)
  disabling shadow passwords (Terry Miesse)
  Re: Bootdisk made by SLS install hangs during boot (Frank Chen)
  X windows Docs (Reed Mangino)
  smail (Steve Nunez)
  Re: Fails: mounting Linux filesystem from ISC 3.0/4.0 via NFS (Axel Dunkel)
  Re: NetCom 3c503 grabs wrong IRQ (Donald J. Becker)
  Re: Setting up SLIP gateways and PLIP (Tommy Thorn)
  Re: [Summary] /etc/shutdown by non-root (Fergus Henderson)
  Re: Setting up SLIP gateways and PLIP (Alan Cox)
  Re: syslog doesn't know timezone (Scott Telford)
  [Q] NIS & shadow (Sean Cier)
  Painless way to try Linux w/o killing SVR4? (Mark McWiggins)
  tamu distribution (Steve Nunez)
  NFS & EXEs (Andrew Mendelsohn)
  Re: [Summary] /etc/shutdown by non-root (Tommy Reingold)

----------------------------------------------------------------------------

From: raf4482@TAMUTS.TAMU.EDU (Reid Allen Forrest)
Subject: Re: NetCom 3c503 grabs wrong IRQ
Date: 5 Oct 1993 15:18:59 -0500

In article <28lvkf$a9d@tamsun.tamu.edu>,
Duane K Fields <duane@tamsun.tamu.edu> wrote:

...3c503 card grabs...
>IRQ3 (which is used by the com1).  I can use lilo to tell it to use IRQ9
>by doing the "lilo: linux ether=9,0x300,0,1,eth0" but that is a pain.
>Can I force it to use IRQ9 some otherway?  Or can I configure this as
>a "default" option in lilo???
>-duane

>Duane Fields                  Friends don't      Work#   (409) 845-6904
>Box 1315                     let friends use     Home#   (409) 847-6760
>College Station, Tx 77841        MS-DOS.         Email: duanef@tamu.edu

I had this same problem on my Linux box.  I am using a 3com 3c503 also, and it
wanted to grab IRQ 3 or 4 or 5 (my serial ports).  You can hardwire the IRQ
selection into the kernel by editing the /usr/src/linux/net/inet/CONFIG file.
Make sure there is CARDS = -DEL2 in there somewhere.  Look at the comments for
the exact string to include in OPTS.  You can then set the IRQ and base address
to anything you want.  Make sure, though, that you set BOTH the IRQ and base
address, because if either one of them are 0 it will autoprobe.  
Be sure to recompile the kernel after you do this.

On a related note, does anyone know _why_ the driver picks IRQs 3 and 4?  I
thought it was supposed to pick an unused one.

I hope this helps.  If you need more specific info, let me know and I can give
you the exact settings. (I'm not at my Linux box now...)

  Reid Forrest
  raf4482@tamuts.tamu.edu

---
Fightin' Texas Aggie Class of '96!


------------------------------

Crossposted-To: de.comp.os.linux
From: dendisch@cat.physics.uwo.ca (Denis Endisch)
Subject: Re: Fails: mounting Linux filesystem from ISC 3.0/4.0 via NFS
Date: Tue, 5 Oct 1993 20:09:46 GMT

ad@cat.de (Axel Dunkel) writes:

>Hi,

>I am trying to mount a Linux filesystem via NFS from an ISC 3.0/4.0 .
>The mount fails with 

>mount: Permission denied
>mount: cannot mount /dev/nfsd

I have exactly the same problem (From ISC3.2 -> linux0.99pl12)
I found the following in /usr/log/notice, but I have no ideas what to
do with that.

... cat nfsd[41]: NFS request from 141.2.34.23 originated on 
                                 insecure port, psychoanalysis suggested

Denis
--
Denis Endisch                 Phone:  (519) 661 - 2111x6413
Department of Physics         Fax:    (519) 661 - 2033
Univ. of Western Ontario      email:  dendisch@uwo.ca
London, Ontario, Canada N6A 3K7

------------------------------

From: root@Brindisi.Rose-Hulman.Edu (Shockadelica)
Subject: Re: Setting up SLIP gateways and PLIP
Date: 5 Oct 1993 19:54:23 GMT

Tommy Thorn (tthorn@daimi.aau.dk) wrote:
: root@Brindisi.Rose-Hulman.Edu (Shockadelica) writes:

: >On a side note, has anyone gotten PLIP to work....at all?
: >I keep getting device timeouts and a screen full of garbage...

: PLIP doesn't work in vanilla Linux 0.99.13. The new Net2E is in
: beta test, and PLIP works there (at least it did in alpha 4, which
: I use.)

: Join the NET channel, or better wait just a little longer.

I am on the NET channel. I must've joined after they debated about PLIP.
Does PLIP work for pl11? That's what I'll stick with until after they decide
that they want to fix the networking again...

Christopher Seawood
root@seawoocl.student.rose-hulman.edu


------------------------------

From: terrym@meaddata.com (Terry Miesse)
Subject: disabling shadow passwords
Date: 5 Oct 1993 22:23:50 GMT

There was a thread going on a while back about the pros and cons of shadow passwords, but I don't remember the original question ever getting answered-- how to disable them.

I'd really rather not rehash the whole debate of whether or not to use them.  My machine is standalone, and I use it to help recreate problems from my job.  Our systems don't utilize shadow passwords, so it's a problem.  Also, xdm seems to object to anybody but root logging in.

So, the question is, how does one disable shadow passwords?

BTW, I'm running .99-pl10.

-- 

Terry Miesse             | If I could speak for
Internal Customer Support| my employer, I wouldn't
Mead Data Central        | have time to read News.
terrym@meaddata.com      | 


------------------------------

From: frank@manua.gsfc.nasa.gov (Frank Chen)
Crossposted-To: comp.os.linux,comp.os.linux.misc,comp.os.linux.help
Subject: Re: Bootdisk made by SLS install hangs during boot
Date: 5 Oct 93 21:13:43

Same thing happened to me on a Laptop 386SX. It hang after the code
to detect the soundcard. However, just after the floppy drive was
detected. A line 'floppy: unexpected interrupt' shown up. And I thought
that has something to do with the hangs. Hope this will help someone
trap down the problem.

--
===============================================================================
| Chih-Hung Chen (Frank)                    | email: frank@manua.gsfc.nasa.gov|
| General Sciences Corp.(SAIC)              | fax  : (301) 286-3221           |
| Software Development - SeaWiFS Data System| voice: (301) 286-9531           |
| System/Network         SeaWiFS Project    |                                 |
| NASA/Goddard Space Flight Center          |                                 |
| Code 970.2                                |                                 |
| Greenbelt, Maryland 20771                 |                                 |
===============================================================================

------------------------------

From: tornado@esu.edu (Reed Mangino)
Subject: X windows Docs
Date: 6 Oct 93 00:17:41 GMT


I know I will be kicked off the planet for asking this, but I must.  Can
some kind soul please tell me where I can find documentation on how to
install, setup, and maintain X Windows in Linux?  I have looked through
almost every subdir on sunsite.unc.edu---NOTHING!

I did see the manual before I CANNOT remember where!
Thank you! --
()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()
()  tornado@esu.edu               ()  "The EGGS are what            () 
()  Reed R. Mangino               ()              saved my family!" () 
()  East Stroudsburg University   ()                                ()
()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()()     
       

------------------------------

From: skn@engr.ucf.edu (Steve Nunez)
Crossposted-To: comp.os.linux.help
Subject: smail
Date: 6 Oct 1993 02:11:44 GMT

Would someone who has successfully compiled smail-3.1.28 please send me
some email? I've been trying to compile this program for about 4 days
now but without success. I am running into a problem with the depend
bombing out with a X_CC_X: command not found error. I've traced down
what I think is the problem, but don't know how to fix it. Prehaps
someone could send me their EDITME file? I'm using the 0.99.12+ tamu
distribution. I tried mailing the maintainer (Dave Safford) but am 
not sure the address is correct, as I've not received a reply. 
The EDITME from tamu also bombed out with the same error. *Any* help
with this would be most appreciated.

        - Steve Nunez



------------------------------

Crossposted-To: de.comp.os.linux
From: ad@cat.de (Axel Dunkel)
Subject: Re: Fails: mounting Linux filesystem from ISC 3.0/4.0 via NFS
Date: Wed, 6 Oct 1993 00:40:41 GMT

dendisch@cat.physics.uwo.ca (Denis Endisch) writes:

>>I am trying to mount a Linux filesystem via NFS from an ISC 3.0/4.0 .
>>The mount fails with 

>>mount: Permission denied
>>mount: cannot mount /dev/nfsd

>I have exactly the same problem (From ISC3.2 -> linux0.99pl12)
>I found the following in /usr/log/notice, but I have no ideas what to
>do with that.

>... cat nfsd[41]: NFS request from 141.2.34.23 originated on 
>                                 insecure port, psychoanalysis suggested

Using 0.99pl13, after installing net-2-debugged, the problem went away
and is working (after some first simple tests).

Helped me...

Axel

---
Systemberatung Axel Dunkel, Koenigsberger Strasse 41, D 65830 Kriftel, Germany
E-Mail: ad@cat.de, Voice: +49-6192-9988-0, Fax: +49-6192-9988-99


------------------------------

From: becker@super.org (Donald J. Becker)
Subject: Re: NetCom 3c503 grabs wrong IRQ
Date: Tue, 5 Oct 1993 14:04:46 GMT

In article <28lvkf$a9d@tamsun.tamu.edu>,
Duane K Fields <duane@tamsun.tamu.edu> wrote:
>I just installed a Netcom 3c503 card in my Linux box (pl13, net2 debug 2)
>but I have had some problems with the autoirq routine.  It grabs
>IRQ3 (which is used by the com1).  I can use lilo to tell it to use IRQ9
>by doing the "lilo: linux ether=9,0x300,0,1,eth0" but that is a pain.

You likely have the default IRQ set at '3' instead of '0' (autoIRQ).  Some
distribution (Slackware?) unwisely did this at one time.   A quick check is to
boot using the line
"lilo: linux ether=0,0x300,0,1,eth0" 
to see if autoIRQ works correctly for you.

>Can I force it to use IRQ9 some otherway?  Or can I configure this as
>a "default" option in lilo???

I think LILO 0.13 can pass default boot-time parameters.

-- 

Donald Becker                                          becker@super.org
IDA Supercomputing Research Center
17100 Science Drive, Bowie MD 20715                        301-805-7482

------------------------------

From: tthorn@daimi.aau.dk (Tommy Thorn)
Subject: Re: Setting up SLIP gateways and PLIP
Date: 6 Oct 1993 09:37:29 +0100

>: PLIP doesn't work in vanilla Linux 0.99.13. The new Net2E is in
>: beta test, and PLIP works there (at least it did in alpha 4, which
>: I use.)

>I am on the NET channel. I must've joined after they debated about PLIP.
>Does PLIP work for pl11? That's what I'll stick with until after they decide
>that they want to fix the networking again...

>Christopher Seawood
>root@seawoocl.student.rose-hulman.edu

There isn't much discussion on PLIP. Net2E is for 0.99.12. As far as I
know, plip doesn't exist in a working version for pl11.
-- 
Tommy.Thorn@daimi.aau.dk | If you use a PC consider upgrading to a real OS.
======================== | Linux is Posix (Unix). It has GCC,Emacs,X11,TCP,NFS,
*L*I*N*U*X* Fanatic (tm) | Doc,Interviews,Prolog...(you name it) and it's free!

------------------------------

Crossposted-To: comp.unix.admin
From: fjh@cs.mu.OZ.AU (Fergus Henderson)
Subject: Re: [Summary] /etc/shutdown by non-root
Date: Wed, 6 Oct 1993 10:35:30 GMT

tytso@athena.mit.edu (Theodore Y. Ts'o) writes:

>fjh@munta.cs.mu.OZ.AU (Fergus James HENDERSON) writes:
>>[someone writes]
>>>For example, in most versions of unix, /bin/sh will execute your
>>>.profile if it is invoked with a '-' as the first character of
>>>argv[0].  So if a mortal user makes a symbolic link to a setuid shell
>>>script with a name starting with '-', his .profile will run BEFORE the
>>>shell even opens the setuid shell script.
>
>>This is completely wrong.  Have you actually tried this?
>>The shell would get invoked with '-' as the first character of argv[1]
>>not argv[0].
>
>No, he's perfectly correct.

OK, I concede this point, at least partially: the correct answer
is that it's system-dependant.  It's not true for Linux (up to at
least version 0.99.11), but it's probably true for most other systems.
I apologize for being so dogmatic without trying it on more
than one system.

>This is not a kernel programming issue --- even if you have a kernel
>which support setuid shell scripts by handing the shell interpreter the
>script in a file descriptor (which is the only way to avoid the race
>condition security hole) --- if you have a shell which automatically
>becomes an interactive shell when argv[0] contains a leading '-', all is
>lost.

Yes, but it is a kernel programming issue, because the kernel can
avoid it: Linux doesn't pass the filename as argv[0], but even if
it did it still wouldn't have that problem, because Linux (well,
at least version 0.99.11) passes the filename as "./-" rather than
plain "-".  (This also avoids the -i problem.)

>The bottom line is that setuid shell scripts are tricky.  Even if you
>have a "secure system that supports setuid scripts", if the system
>administrator then installed the Bourne shell, and writes setuid scripts
>referencing it, you will still lose.

Sure.  I just think it should be up to the system administrator to
decide whether the risk of enabling setuid scripts is worthwhile for them.

>True, writing any type of setuid program is tricky; but adding in an
>additional level of interpretation on top of things compounds the
>possibilities for security holes.  

Yes, but there's a philosophical issue involved here: should the
operating system disallow setuid scripts just because the system
administrator might shoot himself or herself in the foot?
(It's somewhat akin to the philosophical difference between C and Ada.)
Some people might quite reasonably want to write setuid scripts in tcl,
which might be just as safe as C and a lot more convenient.
Should the system disallow the possibility of this on the grounds
that some foolish system administrators might enable setuid scripts,
install an unsafe shell, and then use that to shoot themselves in
the foot?


------------------------------

From: iiitac@swan.pyr (Alan Cox)
Subject: Re: Setting up SLIP gateways and PLIP
Date: Wed, 6 Oct 1993 11:18:03 GMT

In article <28qpve$pnr@moonshot.west.oic.com> dillon@moonshot.west.oic.com (Matthew Dillon) writes:
>    There are a number of bugs in currently packaged releases that make slip 
>    gateways problematic.  They HAVE been fixed in the latest net 2-Beta, 
>    but I would strongly recommend that non network hackers not fool with 
>    this release for at least another week or two while the bugs get ironed
>    out.
A new version of NET2Debugged that addresses the gateway memory leaks and
a couple of other slow leaks (arp requests for one) will be appearing soon.
Depending on the status of the net 2e beta after the network wizards have
finished chainsawing it net2e or come thursday the net2debugged with 
forwarding memory fixes will be the better release. At the moment there
are major problems with all forwarding in both versions and its
best avoided.

Alan
iiitac@pyr.swan.ac.uk

------------------------------

From: s.telford@ed.ac.uk (Scott Telford)
Subject: Re: syslog doesn't know timezone
Date: Wed, 6 Oct 1993 15:01:16 GMT

In article <1993Oct4.181028.1158@dan.uucp>, djm@dan.uucp (Dan McGuirk) writes:
> I'm having a problem with syslog screwing up my timezone on some
> messages.  For most messages, I get the local time in the log
> files.  But for any "ROOT LOGIN" messages, the time comes out in UTC,
> 7 hours ahead of local time.  This makes for some very confusing
> logs...  Anyone know what I don't have configured correctly?

If you are running an oldish version of poeigl init ("simpleinit"),
this maybe due to init setting $TZ to a null string for gettys. This
was fixed round about poeigl v1.18 (certainly fixed in v1.20).

-- 
Scott Telford, Edinburgh Parallel Computing Centre,        <s.telford@ed.ac.uk>
University of Edinburgh, Mayfield Rd, Edinburgh, EH9 3JZ, UK. (+44 31 650 5978)
-- "We do want to tour again, we will tour again" - Kate Bush, Munich, 1980. --

------------------------------

From: scier@thor.tjhsst.edu (Sean Cier)
Subject: [Q] NIS & shadow
Date: 6 Oct 1993 08:48:55 -0400

        I'm setting up a net running linux, and though I've found shadow-based
versions of xdm and other utilities, NIS seems to be eluding me.  Does anyone
know where I might find an NIS (Yellow Pages) system that uses the shadow 
password files?

-Sean


------------------------------

From: markmc@halcyon.com (Mark McWiggins)
Subject: Painless way to try Linux w/o killing SVR4?
Date: 6 Oct 1993 11:46:21 -0700

I want to move from my current Interactive SVR4 setup to something
better supported (what isn't?) and would like to try Linux.

I currently have a SCSI controller, disk, and tape. What I was thinking
of doing was to get an IDE controller and disk for Linux. That way
(my theory goes) I could easily  tweak the system setup to boot from
SCSI ("no disks installed") or IDE ("drive C: has these parameters")
and get Linux shaken out over a period of weeks, if necessary, without
disturbing my current setup.

Is this reasonable?  Any problems using IDE + SCSI together under Linux,
when I'm ready to convert the SCSI disk to Linux? Is there an even easier 
way I'm overlooking?

Thanks in advance for any suggestions.
-- 
Mark McWiggins      Hermes & Associates           +1 206 632 1905 (24 hrs.)
mark@hermes.com     Box 31356, Seattle WA 98103   +1 206 632 1738 (fax)

------------------------------

From: skn@engr.ucf.edu (Steve Nunez)
Subject: tamu distribution
Date: 6 Oct 1993 19:02:57 GMT

Does anyone have the address of any of the tamu maintainers? If so 
would you send me their address? Are any of the maintainers listening
to these groups? If so then please contact me, there is a problem
with your source dist. of smail that I have been unable to solve and
I would greatly appreciate any help you could give.

        - Steve Nunez
        skn@engr.ucf.edu

------------------------------

Subject: NFS & EXEs
From: mendels1@husc4.harvard.edu (Andrew Mendelsohn)
Date: 6 Oct 1993 18:46:54 GMT

I am having trouble with linux exporting filesystems to an
OS/2 machine.

Problem 1: I can mount the linux filesystems OK, except that
I can't see anything if I try to mount the exported ROOT
filesystem.  All other exported filesystems work OK.  The
exports file says: /   os2 (rw, insecure).  I suspect that
my permissions may not be set right.

Problem 2: When mounted to linux filesystems, I cannot
execute (on the os2 machines) DOS files that exist there, I
get an error about the EXE format of the command. This is
true of ext2 filesystems as well as DOS filesystems the
linux machine has access to.  Is there some problem with the
way NFS exports files?

Any helpful suggestions would be gratefully received.
andy mendelsohn



------------------------------

Crossposted-To: comp.unix.admin
From: tommy@aladdin.att.com (Tommy Reingold)
Subject: Re: [Summary] /etc/shutdown by non-root
Reply-To: tommy@aladdin.att.com
Date: Wed, 6 Oct 1993 19:09:54 GMT

fjh@cs.mu.OZ.AU (Fergus Henderson) writes:

> >The bottom line is that setuid shell scripts are tricky.  Even if you
> >have a "secure system that supports setuid scripts", if the system
> >administrator then installed the Bourne shell, and writes setuid scripts
> >referencing it, you will still lose.

> Sure.  I just think it should be up to the system administrator to
> decide whether the risk of enabling setuid scripts is worthwhile for them.

I agree.  I wasn't responding to you directly, although I was
responding to your post.  I don't mind the existence of setuid programs
of any type provided they're in the right context.  There were some
people in this thread -- I don't remember who -- who were saying that
either there's never anything wrong with setuid scripts or that they're
ok but you just have to write them carefully.  I wanted to debunk that
because, as I showed, in many versions of unix, the existence of a
setuid script totally breaks down the security of the system,
regardless of what that script tries to do.

> >True, writing any type of setuid program is tricky; but adding in an
> >additional level of interpretation on top of things compounds the
> >possibilities for security holes.  

> Yes, but there's a philosophical issue involved here: should the
> operating system disallow setuid scripts just because the system
> administrator might shoot himself or herself in the foot?
> (It's somewhat akin to the philosophical difference between C and Ada.)
> Some people might quite reasonably want to write setuid scripts in tcl,
> which might be just as safe as C and a lot more convenient.
> Should the system disallow the possibility of this on the grounds
> that some foolish system administrators might enable setuid scripts,
> install an unsafe shell, and then use that to shoot themselves in
> the foot?

Probably not, but in the case of SunOS 4.x, where the behavior I
described is so dangerous that setuid scripts are worse than useless, I
might not mind.  Then again, if I had an un-networked, single-user
system, I might resent the disablement of setuid scripts.

I don't want to address that philosophical issue, although it's a good
one.  My primary reason for jumping in here was to stop the promotion
of setuid scripts by people who didn't know how bad they can be.  Some
people thought that their experience on their particular flavors of
unix applied to all other flavors of unix.  It doesn't.
-- 
Tommy Reingold
AT&T Bell Labs, Red Hill Facility, NJ, USA
tommy@aladdin.att.com or att!aladdin!tommy

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Admin-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.admin) via:

    Internet: Linux-Admin@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Admin Digest
******************************
