From:     Digestifier <Linux-Activists-Request@senator-bedfellow.mit.edu>
To:       Linux-Activists@senator-bedfellow.mit.edu
Reply-To: Linux-Activists@senator-bedfellow.mit.edu
Date:     Mon, 23 Aug 93 03:13:05 EDT
Subject:  Linux-Activists Digest #158

Linux-Activists Digest #158, Volume #6           Mon, 23 Aug 93 03:13:05 EDT

Contents:
  Re: SLS 1.03: Installation and configuration [with fixes] (long) (Joe George)
  SLS 1.03: Where's /bin/hostname? (Joe George)
  Re: SCSI Performance (Yet Again) (Brandon S. Allbery)
  Re: SLS 1.03: Installation and configuration [with fixes] (long) (Yonik Christopher Seeley)
  Re: The meaning of DOS (Mark A. Davis)
  xli: how to get it running under linux (Robert Stockmann)
  SLS boot failure (Eric S. Wallace)
  Minicom 1.4 Beta problem (Zhuo Er Lin)
  Re: Searching for a LEX (Mark Lord)
  what moniter/VL vid card 2 buy? (Haslam / Damian Joseph Knowles (ISE))
  Kernel compile error (Zhuo Er Lin)
  Re: Alpha pl12 Problems Report (Rene COUGNENC)
  Re: Remote task-starting (Naved A. Surve)
  Wanted: Modula-2 compiler for Linux (Malcolm Ross Kinsella Ryan)
  RE: SLS 1.03: Where's bin/hostname? (Devin W. Dean)
  Re: Speedstar VGA (prh)
  Re: SCSI Performance (Yet Again) (Remco Treffkorn)

----------------------------------------------------------------------------

Subject: Re: SLS 1.03: Installation and configuration [with fixes] (long)
From: jgeorge@whiffer.mese.com (Joe George)
Date: Sun, 22 Aug 1993 09:09:11 EST

andreas@knobel.gun.de (Andreas Klemm) writes:

> iain.lea@anl433.erlm.siemens.de (Iain Lea) writes:
>
>>This article lists the problems I encountered installing and
>>configuring SLS 1.03 and the fixes I made (when possible).

Allow me to throw in a few small (and one BIG) gotcha from my
installation of SLS 1.03 yesterday.   I do not (did not) have much in my
older Minix partition, so I decided to start from scratch on an install.
Disks were obtained from sunsite.

1. The doinstall script drops csh in / instead of /bin, so once you
finish the install and reboot you cannot log on (without going back and
tweaking)

2. SLS 1.03 happily set up a swapfile for me on boot, and I thought that
was just peachy until I noticed that the distribution came with
/dev/swap linked to /dev/hda1, and in the process of giving me a little
swap space, Linux happily trashed over 100MB in my MSDOS partition.
Thanks, guys.

It is worth popping into another virt console and watching the 1.03
install to make sure that these things dont hose your machine as badly
as it hosed mine.

Joe
--
Joe George (jgeorge@whiffer.mese.com,emory!indigo!whiffer!jgeorge)
Actually, I _do_ speak for The Waffle Whiffer | begin 644 foo
M06YD('1H97D@<V%I9"!U;G1O($IE<W5S+"`B2&]W('1H92!(14Q,(&1I9"!Y
,;W4@9&\@=&AA=#\B ` end

------------------------------

Subject: SLS 1.03: Where's /bin/hostname?
From: jgeorge@whiffer.mese.com (Joe George)
Date: Sun, 22 Aug 1993 19:06:41 EST

Oh, yeah. One more thing:

Where's /bin/hostname in the SLS 1.03 distribution? Not on any disks I
have...

Is there a problem using a /bin/hostname from an older (like, from lx98)
distribution?

--
Joe George (jgeorge@whiffer.mese.com,emory!indigo!whiffer!jgeorge)
Actually, I _do_ speak for The Waffle Whiffer | begin 644 foo
M1W)A=FET>2!I<VXG="!M>2!F875L="P@22!V;W1E9"!F;W(@5F5L8W)O(0T* ` end

------------------------------

From: bsa@kf8nh.wariat.org (Brandon S. Allbery)
Subject: Re: SCSI Performance (Yet Again)
Date: Sun, 22 Aug 1993 23:55:34 GMT

In article <1993Aug22.150338.1810@jonh.wimsey.bc.ca> jhenders@jonh.wimsey.bc.ca (John Henders) writes:
>    Again, on my ST, there was a program that bypassed the filesystem
>completely to test raw disk i/o, and somehow they even made it
>non-destructive so you didn't have to use a clean partition to do tests.
>It seems there is no equivalent under *nix. 

Well, actually, there is; it's called the "raw disk device".  Unfortunately,
Linux doesn't implement raw disk devices; they're *all* buffered.

++Brandon
-- 
Brandon S. Allbery         kf8nh@kf8nh.ampr.org          bsa@kf8nh.wariat.org
"MSDOS didn't get as bad as it is overnight -- it took over ten years
of careful development."  ---dmeggins@aix1.uottawa.ca

------------------------------

From: yseeley@leland.Stanford.EDU (Yonik Christopher Seeley)
Subject: Re: SLS 1.03: Installation and configuration [with fixes] (long)
Date: Mon, 23 Aug 93 00:37:27 GMT

In article <930822.090911.1w1.rusnews.w165w@whiffer.mese.com> jgeorge@whiffer.mese.com (Joe George) writes:
>andreas@knobel.gun.de (Andreas Klemm) writes:
>
>> iain.lea@anl433.erlm.siemens.de (Iain Lea) writes:
>>
>>>This article lists the problems I encountered installing and
>>>configuring SLS 1.03 and the fixes I made (when possible).
>
>2. SLS 1.03 happily set up a swapfile for me on boot, and I thought that
>was just peachy until I noticed that the distribution came with
>/dev/swap linked to /dev/hda1, and in the process of giving me a little
>swap space, Linux happily trashed over 100MB in my MSDOS partition.
>Thanks, guys.

I don't know why this happens.  To my knowledge, the SLS installation
does not use /dev/swap, nor does anything else that I can see.  I'm
not sure why it is there.  I just checked my installation, and sure
enough, /dev/swap was linked to /dev/hda1 (my DOS partition).  I
have had no problems however.  I did change the link just to be
safe though.

Anyone out there know what /dev/swap is for?  Is it just a convenience
so one can do a "swapon /dec/swap"?


- Yonik Seeley
yseeley@cs.stanford.edu

>
>It is worth popping into another virt console and watching the 1.03
>install to make sure that these things dont hose your machine as badly
>as it hosed mine.
>
>Joe
>--
>Joe George (jgeorge@whiffer.mese.com,emory!indigo!whiffer!jgeorge)
>Actually, I _do_ speak for The Waffle Whiffer | begin 644 foo
>M06YD('1H97D@<V%I9"!U;G1O($IE<W5S+"`B2&]W('1H92!(14Q,(&1I9"!Y
>,;W4@9&\@=&AA=#\B ` end



------------------------------

From: mark@taylor.uucp (Mark A. Davis)
Subject: Re: The meaning of DOS
Date: Sun, 22 Aug 1993 23:40:24 GMT

KZUPAN@LSTC2VM.stortek.com writes:

>In article <1993Aug19.121336.28699@taylor.uucp>
>mark@taylor.uucp (Mark A. Davis) writes:
>>
>>simmons@borg.uucp (David Simmons) writes:

>>Linux is DOS.  DOS is Disk Operating System.  MS-"DOS" is a single user,
>>single tasking, single processing program loader; which is hardly an OS
>>at all.  In fact, one could say that Linux=DOS and MS-"DOS"<>DOS!  :) :)

>Mark
> Go home, drink a beer, and go back to bed!!!

o   o
  |
\___/
-- 
  /--------------------------------------------------------------------------\
  | Mark A. Davis    | Lake Taylor Hospital | Norfolk, VA (804)-461-5001x431 |
  | Sys.Administrator|  Computer Services   | mark@taylor.wyvern.com   .uucp |
  \--------------------------------------------------------------------------/

------------------------------

From: stock@dutsh7.tudelft.nl (Robert Stockmann)
Subject: xli: how to get it running under linux
Date: Mon, 23 Aug 1993 06:01:36 GMT

I noticed that some Linuxers have trouble to get xli
running. Whith me its running , i did the following:
get xli from sunsite.unc.edu in the directory
/pub/X11/contrib
I myself got xli.1.08.tar.Z but the patchlevel is now 14.

in window.c include the line
#include <gnu/types.h>
and replace  FD_ZERO by __FD_ZERO and FD_SET by __FD_SET

in misc.c window.c and xloadimage.c the line 
#include <signal.h> should be replaced with
#include <bsd/signal.h>

in misc.c the function strstr() should be deleted, because
its no where else being used, but does give errors. it should
be the lines 315 to 369 that are to be deleted. but make sure!
copy misc.c to misc.c.org and edit misc.c.

now edit the Imakefile (not much to edit, i think i did nothing)
run xmkmf and after that make all and make install. It should work.

good luck 8) 

Robert Stockmann  email: stock@dutsh7.tudelft.nl



------------------------------

From: esw@po.CWRU.Edu (Eric S. Wallace)
Subject: SLS boot failure
Date: 23 Aug 1993 00:52:04 GMT


   I recently made the SLS boot disk, a1, and attempted to boot
linux on my machine. It got past the autodetect sequence, and
while loading the ramdisk gave me the following error:

   RAMDISK I/O error on block 1200, aborting!

It then prompted me for a root disk and hung (even when I tried
putting a valid root disk in). I tried booting with the 'floppy'
option to avoid the ramdisk, but it still hung after prompting
for a root disk.

Does this sound familiar to anyone?

The system I have is: 486DX2-66, 8Meg RAM, 240Meg IDE drive, 3.5" and
5.25" floppies, Diamond SpeedStar PRO (VLB), AT&T Ethernet card, MIDI card.

Thanks for any help,

Eric Wallace
esw@po.cwru.edu

------------------------------

From: umlin000@ccu.umanitoba.ca (Zhuo Er Lin)
Subject: Minicom 1.4 Beta problem
Date: Mon, 23 Aug 1993 00:33:48 GMT

Hi, previously, I mentioned my screen doesn't scroll up when text reach the
bottom of the screen in minicom v1.3.

Some netters suggested compile the new minicom v1.4 Beta in tsx-11.mit.edu.

I did it and the problem now gone. I also can set color in minicom !
(see the Install file).  Great job !

But there is a new problem.  Now that I can use minicom as root only.
If I use it as normal user, after initialize modem, it pops up a window
says 'Killed by signal 11 !', 'hang up modem' and quits.

I check all files modes ok, what's wrong?
-- 
========================================================================
|  Eric Lin                       (Home):   (204) 783-2884             |
|    Computer Engineering      FAX Modem:   (204) 783-2884             |
|    University of Manitoba     Internet:   Umlin000@cc.Umanitoba.CA   |

------------------------------

From: mlord@bnr.ca (Mark Lord)
Subject: Re: Searching for a LEX
Date: Mon, 23 Aug 93 01:46:50 GMT

>In article <1993Aug18.122836.5041@exodus.abg.sub.org> root@exodus.abg.sub.org (Michael Boesch) writes:
>>I'm seaching for a LEX for Linux (not a FLEX), so
>>i also can use _normal_ LEX-Files with Linux, wich
>>don't work with FLEX.

Like xboard..

Get:   sunsite.unc.edu: /pub/Linux/development/compiler_tools/blex.bin.tar.Z
-- 
mlord@bnr.ca    Mark Lord       BNR Ottawa,Canada       613-763-7482

------------------------------

From: u913382@student.canberra.edu.au (Haslam / Damian Joseph Knowles (ISE))
Subject: what moniter/VL vid card 2 buy?
Date: Mon, 23 Aug 93 02:26:54 GMT


hi all...
        I wonder if some1 out there can recommend a good moniter (with
auto screen sizing?) and a VL video card (nice fast ones) that _will_ work
with Linux... I've got a Tseng card, and a really bad moniter, and i want
to upgrade, but don't want to spend the money... 
        if this Q is already in the FAQs, pls tell me, i looked but it
didn't leap out at me... 

        being a poorly student, I have not much $... :-/

thx in advance for all your help
        
        -damiAn

PS. pls mail me back... :)
-- 
= u913382@student.canberra.edu.au = Noli disturbare circulos meos - Archimedes
= damian@cairo.anu.edu.au = I know that you believe you understand what you
= Damian J. K. Haslam     = think i said, but I'm not sure you realise that
= Computer Engineering    = what you heard is not what i meant. - anon?

------------------------------

Crossposted-To: comp.os.linux.help
From: umlin000@ccu.umanitoba.ca (Zhuo Er Lin)
Subject: Kernel compile error
Date: Mon, 23 Aug 1993 02:22:30 GMT

I tried to compile the 0.99 p12 kernel.

I turned off Math emulation, quota file sys etc...

Here is the error message of 'make zImage':

kernel
chr_drv
sound
make[3]: Nothing to be done for `all'.
blk_drv
scsi
make[3]: `scsi.a' is up to date.
FPU-emu
make[2]: `math.a' is up to date.
mm
make[1]: `mm.o' is up to date.
fs
rm -f filesystems.a
ext2
make[2]: `ext2.o' is up to date.
msdos
make[2]: `msdos.o' is up to date.
proc
make[2]: `proc.o' is up to date.
isofs
make[2]: `isofs.o' is up to date.
net
drv
unix
make[2]: `unix.o' is up to date.
inet
make[2]: `inet.o' is up to date.
ld -r -o net.o Space.o ddi.o socket.o drv/drv.a network.a
ipc
make[1]: `ipc.o' is up to date.
ibcs
make[1]: `ibcs.o' is up to date.
lib
make[1]: `lib.a' is up to date.
ld  -T 100000 -M boot/head.o init/main.o tools/version.o kernel/kernel.o mm/mm.o fs/fs.o net/net.o ipc/ipc.o fs/filesystems.a kernel/blk_drv/blk_drv.a kernel/chr_drv/chr_drv.a kernel/blk_drv/scsi/scsi.a kernel/chr_drv/sound/sound.a ibcs/ibcs.o kernel/FPU-emu/math.a lib/lib.a -o tools/zSystem > zSystem.map
kernel/kernel.o: Undefined symbol _sys_quotactl referenced from data segment
make: *** [tools/zSystem] Error 1
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

What's this?  Is it caused by turnning off quota file system support?
I don't want to use quota anyway and I didn't install quota.
-- 
========================================================================
|  Eric Lin                       (Home):   (204) 783-2884             |
|    Computer Engineering      FAX Modem:   (204) 783-2884             |
|    University of Manitoba     Internet:   Umlin000@cc.Umanitoba.CA   |

------------------------------

From: rene@renux.frmug.fr.net (Rene COUGNENC)
Subject: Re: Alpha pl12 Problems Report
Date: 23 Aug 1993 00:05:38 +0200

> >Has the code for route.c in NET-2 been modified...?
> >The one I have is:

> > * Version:     @(#)route.c     1.04    05/27/93
> > *

>       neat....the one that comes with pl12-Alpha is 1.0.14...hmmm...
> is yours from net-2 Rev E, by some chance?


I was talking about the route command, from the net-2 package; in the kernel 
the file route.c is 1.0.14. 

(Sorry, this reply comes late, but I can no longuer post to c.o.l... And I
 often forget to read it :-). As a traditionnal Linuxer, I can become root
on my machine so I'll modify my active file to post this article here,
whith a follow-up to an active linux group).

Now I use the pl12 non-Alpha kernel, and the network works, thanks to the
people who helped me. And this route problem seems to be  FAQ now :-))

-- 
 linux linux linux linux linux linux linux linux linux linux linux linux 

------------------------------

From: surve_n@zebra.cs.jhu.edu (Naved A. Surve)
Subject: Re: Remote task-starting
Date: Mon, 23 Aug 1993 03:25:55 GMT

In article <746031749snx@fidonet.bbs.no> harald-f@fidonet.bbs.no (Harald Finnaas) writes:
>This isn't really Linux specific, but I'd guess it'll do.
>
>I would like to call a Linux/UNIX machine via modem, start a regular shell
>script (.sh) and be able to hang up without the script beeing killed before
>it's finished. Is this possible?
>

Easy as pie :)

Look up your man pages on nohup, or use csh, which defaults to nohup.
with nohup set, you can log off without killing your process.


-Naved




-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Naved A. Surve                   |      The Johns Hopkins University
surve_n@server.cs.jhu.edu        |      Baltimore, Maryland
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

------------------------------

Crossposted-To: aus.computers.linux,comp.lang.modula2
From: s2119737@cse.unsw.edu.au (Malcolm Ross Kinsella Ryan)
Subject: Wanted: Modula-2 compiler for Linux
Reply-To: s2119737@cse.unsw.edu.au (Malcolm Ross Kinsella Ryan)
Date: Mon, 23 Aug 1993 05:18:46 GMT

Hello.

As above, I am looking for a modula-2 compiler to run under Linux.
I would prefer gpm (gardens point modula) if it exists for this OS,
but any (decent) implementation would do. And pointers?

Also, while I'm about it, does anyone know of a 68000 simulated 
assembler for MSDOS or Linux?

Thanx in advance, 
Malcolm - s2117937@cs.spectrum.unsw.oz.au

------------------------------

From: ddean@lonestar.utsa.edu (Devin W. Dean)
Subject: RE: SLS 1.03: Where's bin/hostname?
Date: Mon, 23 Aug 1993 04:51:10 GMT

bin/hostname is located on the SLS a1 disk -- after installing the
root just mount the a1 disk and cp /????/bin/hostname /bin

Hope this helps.


------------------------------

From: prh@myhost.subdomain.domain (prh)
Subject: Re: Speedstar VGA
Date: Sun, 22 Aug 1993 21:30:53 +0000

To quote Hr.Rueschstroer (rue@PROBLEM_WITH_INEWS_GATEWAY_FILE):


:> My Hardware

:>      eizo 9070s
:>      speedstar vga

:> my problem
:>      when i startet X ( startx )
:>      i get no picture on my monitor
:>      all trys with modegen1 and entrys in Xconfig are bad
:>      ( also the clocks of the vga board are differs from 
:>           each start )

There is a file called diamond.tgz (I think) in which there's
a program called freq which will set your clock for you.  When
I track it down (it's in here somewhere) I'll mail it to you; 
in the meantime you could ask archie where it is.

:> a nice day

Thanks.  You too.

--
Rgds

Peter Humphrey  |  prh@essence.demon.co.uk  | Voice 0932-343158
Woking, UK.     |                           | Data  0932-353948

------------------------------

From: root@hip-hop.suvl.ca.us (Remco Treffkorn)
Subject: Re: SCSI Performance (Yet Again)
Date: Sun, 22 Aug 1993 20:01:38 GMT

bsa@kf8nh.wariat.org (Brandon S. Allbery) writes:
: 
: Any cacheing scheme has pathological cases where the result is actually slower
: than direct I/O.  For Linux the pathological case is iozone... a sequential
: write of a large file followed by a sequential read of the same file, if it's
: larger than the cache, results in Linux having to force cache writes so that
: there are enough free blocks to read into.
: 

I agree in part. The read case certainly gets all messed up by the fact that
th cache is full. Wether you flush write buffers (costs you right then) or
decide to *not* cache the reads (might cost you later) is a loosing proposition
anyway. That is what I agree with. I do *not* agree with the statement that
iozone makes the performance look worse than direct i/o. If it does there
is something to fix right here. If you look at the szenario you will see:

        iozone starts writing to an empty (ideally) cache. Lightning fast.
        Only memory moves involved. The only limiting factor is how fast
        your system can move data *plus* kernel/cache overhead.
        The overhead of a cleanly designed cache is small (whatever that means).
        The kernel (meaning everything BUT cache) overhead should be the same
        as in direct i/o.

        The cache gets full, now writes to disk actually start. Performance
        now should equal direct i/o plus cache overhead. Meaning: close to
        direct i/o performance if the cache overhead is really low.

        iozone is done writing and if compiled with fsync will hang around till
        all blocks are written to disk. The time saved in phase one by not
        writing to disk but into the cache instead will now be spend. This
        *is* direct i/o and as such should be *FAST* (?). Plus there is some
        overhead...

That is the write part if iozone is compiled with the fsync call in.
I bet most people do not have that, but anyway, I have! If you add it up
you get the time for x megabytes of direct i/o writes *plus* the cache
overhead for x megabytes. If this value is significantly different from
what you expect the time for purely direct i/o should be you face a dilemma.
Either your cache overhead is higher than it should be *or* (and?) the
direct i/o performance is worse than expected.

The read case is purely direct i/o performance *plus* cache overhead for
the entire file. (if the file was larger than the cache!). Remember, we
have already written all the buffers to disk with the fsync.

Again, if what you get here is not what you want, you have a bottleneck
somewhere.

Now let's assume the fsync does not happen. That is probably the case
for most people usinf iozone. But let us also assume the file is larger
than the cache. The write phase will end early now, giving you an unrealistic
impression about write performance. Now we start reading. Actually the
write for a buffer has to take place now, in order to make room for
the requested block. In addition to the read time you will spend time writing.
What you gained during the write part by not flushing the cache will now
being lost. On top of that you will probably get *much* worse numbers
if the writes are done in small chunks. The disk head will continously
move. Very bad! So the read performance will look *much* worse than it
really is. BUT the write performance will also look *MUCH* better than
it is.

The numbers I have seen here suggest that people do not have iozone
flushing the cache to disk before starting to read. Thus the WRITE
performance is measured too high! If that is so, then the write
performance is very disappointing.

There are some critical assumtions here:

        The cache is empty when beginning to write. Normally the case.
        Do a sync to be sure.
        The file written is larger than the cache. If not you get *very*
        god performance readings. Well, I guess we do not have to worry
        about that.
        You should do an fsync after writing and include the time till
        fsync returns. If you don't then the read performance is too high
        and write performance too high. BUT between the two you will see
        a glimmer of reality.

Bottom line: Under DOS I can see something like 750kB/s. Under ideal
circumstances I should be able to see at least that under Linux. The
only problem is to define 'ideal'. System in single user mode and only
one process writing/reading and not much else running qualifies for me.
If you do not agree, please explain where the bandwith gets burned!

I still think, something is fishy here!

Cheers
  Remco

P.s.: This posting is too long already. I know that there are some
          crucial omissions! I hope I still made my point. Especially
          the term 'direct i/o' could use some definition.

    remco@hip-hop.suvl.ca.us    DC2XT



------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Activists-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux) via:

    Internet: Linux-Activists@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    tupac-amaru.informatik.rwth-aachen.de	pub/msdos/replace

The current version of Linux is 0.99pl9 released on April 23, 1993

End of Linux-Activists Digest
******************************
