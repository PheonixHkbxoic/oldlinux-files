From:     Digestifier <Linux-Activists-Request@senator-bedfellow.mit.edu>
To:       Linux-Activists@senator-bedfellow.mit.edu
Reply-To: Linux-Activists@senator-bedfellow.mit.edu
Date:     Fri, 13 Aug 93 10:13:10 EDT
Subject:  Linux-Activists Digest #107

Linux-Activists Digest #107, Volume #6           Fri, 13 Aug 93 10:13:10 EDT

Contents:
  File systems dirty? read this! (Andrew Tefft)
  Re: lpd dies (SLS 1.03) (Brian McCauley)
  Re: More annoyance on the DMA problem (Jesus Monroy Jr)
  Re: e2fsck problems (Brian McCauley)
  clock -r strange results (was Re: what time is it?) (Nick Andrew)
  Re: Will OS/2 HPFS be supported in the future? (Nick Andrew)
  Re: Incredibly cheap ethercards available!!! ($20) (Anders Majland Pedersen)
  Re: Cheap ethernet card intro (Mark A. Davis)
  Q: 0.99pl11, WD8013 Ethernet card not accessable any more, please help (Andreas Klemm)
  Re: ttys0/ttys2 IRQ conflict (?) (J. M. O'Donnell)
  Few Things! (Rikk F Streng)
  Re: installing SLS from tape/HD (Chris Elmquist)
  Re: Which SCSI controller to get for Linux and OS/2 (Steven Drinovsky)
  Re: x8514 servers and ps/2 mouse (Johan Myreen)

----------------------------------------------------------------------------

From: Andrew Tefft <teffta@engr.dnet.ge.com>
Subject: File systems dirty? read this!
Date: 13 Aug 1993 08:36:17 -0400
Reply-To: teffta@engr.dnet.ge.com

So many people ask about this that I get tired of replying to them all.
So I might as well post my personal little tidbit on this topic now.

After I installed the bootutils package, and had everything set up correctly,
my filesystems were still not getting marked clean on shutdown.

What I did was replace the shutdown/reboot stuff with the ones from the utile
package. My originals were from SLS 1.0. This was sufficient to fix my problem,
perhaps it will fix yours too. Apparently the original was not attempting to
unmount my filesystems.

If you have the bootutils package, can unmount and then remount your partition
without it complaining, but it still complains about being dirty after you
shutdown, your shutdown is probably the culprit. Also check and see if you
have two mount/umount commands; perhaps shutdown is using the wrong one.

I should also mention that I have to use shutdown -r, not reboot, to get my
filesystems unmounted (at least last time I tried; I don't try very often
because it takes some time to finish the e2fsck!)


------------------------------

From: bam@wcl-l.bham.ac.uk (Brian McCauley)
Subject: Re: lpd dies (SLS 1.03)
Date: 13 Aug 1993 13:09:26 GMT

In article <24djphINN71g@tom.rz.uni-passau.de> claussen@db.fmi.uni-passau.de (Jens Claussen) writes:
   In article <1993Aug11.170302.111184@ua1ix.ua.edu> totake@ho17.eng.ua.edu () writes:
   >I just installed SLS 1.03 and got most of it working except for lpd.
...
   >and the FAQ didn't help either.
            ^^^^^^^^^^^^^^
   For my system, a missing directory 

   /var/spool/lpd

   was the reason for that. Just create it. Someone in this group gave me
   the hint.

No that _can't_ be the reason if the FAQ didn't help :-) This question
is being asked far too often of late - not old are people not reading
the FAQ (did not *SHOUT* about this specific point I admit but I'm
fixing that in the nest relese) but they are not even skimming the last
week's postings to c.o.l
--
    \\   ( )   No Bullshit!   | Email: B.A.McCauley@bham.ac.uk
 .  _\\__[oo       from       | Voice: +44 21 471 3789 (home)
.__/  \\ /\@  /~)  /~[   /\/[ |        +44 21 627 2171 (work)
.  l___\\    /~~) /~~[  /   [ |   Fax: +44 21 627 2175 (work)
 # ll  l\\  ~~~~ ~   ~ ~    ~ | Snail: 197 Harborne Lane, B29 6SS, UK
###LL  LL\\ (Brian McCauley)  |  ICBM: 52.5N 1.9W

------------------------------

Crossposted-To: comp.os.os2.programmer,comp.os.mach,comp.os.minix,comp.periphs,comp.unix.bsd,comp.unix.pc-clone.32bit,comp.os.386bsd.development
From: jmonroy@netcom.com (Jesus Monroy Jr)
Subject: Re: More annoyance on the DMA problem
Date: Fri, 13 Aug 1993 12:05:15 GMT

 
>> From: rooij@bashful.isp.cft.philips.nl (Guido van Rooij)
>> Subject: Re: More annoyance on the DMA problem
>> Organization: Philips Communications & Processing Services, Eindhoven
>> Date: Fri, 13 Aug 1993 09:39:00 GMT
>>
>> jmonroy@netcom.com (Jesus Monroy Jr) writes:
>>
>> >
>> >        The new FDC driver is reading a 1.44 meg diskette in
>> >        about 1 minute 30 seconds.  There are 2880 sectors on
>> >        a diskette of this size.  2880 divided by 90 seconds
>> >        is 302 sectors per second.    66,287  divided by 302
>> is it? 2880/90=32
>>
        Correct.  The ultimate in miscalculations on my part.
        I have errored.  I am human.
 
        At times I must communicate with non-humans,
        this may not include yourself. As I have no evidence of this.
 
        Again, I have errored.
 
        OK...32 sectors per second.
 
        66,287 / 32 = 2071 refreshes per sector transfer.
 
        1 / 32 =    0.03125  second per sector transfer
 
        Gee! Thanks for the correction.
 
        This makes the new index 5.  The numbers match exactly.
 
        MY POINT IS THE LOWER HARMONIC OF THE DMA REFRESH
        COLLIDES WITH THE FDC TRANSFER.
 
 
___________________________________________________________________________
Jesus Monroy Jr                                          jmonroy@netcom.com
/386BSD/device-drivers /fd /qic /clock /documentation
___________________________________________________________________________


------------------------------

From: bam@wcl-l.bham.ac.uk (Brian McCauley)
Subject: Re: e2fsck problems
Date: 13 Aug 1993 13:16:05 GMT

In article <CBnsLy.96q@da_vinci.it.uswc.uswest.com> lmulcah@lookout.mtt.it.uswc.uswest.com (Larry Mulcahy) writes:
   Brian McCauley (mccauleyba@vms1.bham.ac.uk) wrote:
   : > Overcome by nausea on 30 Jul 93 15:03:23 GMT, sheldon@iastate.edu (Steve
   : > Sheldon) retched up these words:

   : >> There must be an updated e2fsck, cause this one isn't working right.

   : > It looks to me like e2fsck never marks the file system as clean.  For
   : > example, yesterday I umounted my /usr partition, ran e2fsck on it and
   : > then mounted it, and still got the message that it was dirty.

   : I belive it only marks a fs as clean if you ask it to repair it. The
   : check only operation does not require write access to the partition
   : so cannot clear the dirty flag. I don't think this is elegant but
   : I think it is the current state of affairs.

   Recently I downloaded e2fsprogs(?).  The e2fsck in this package seems to
   be slighly more up to date than the one I was using from SLS 1.02.  With
   this I could at least do a 

       umount /usr
       e2fsck -rv /dev/sda4
       mount -a

   and it would not say the file system was dirty.  However after a
   shutdown or reboot the message that my ext2 file systems are dirty still
   appears when it gets to the mount -a in /etc/rc.  

Yes, (I seem to be syaying this twice a week) (and one already in this
thread ) _get_bootutils_.
--
    \\   ( )   No Bullshit!   | Email: B.A.McCauley@bham.ac.uk
 .  _\\__[oo       from       | Voice: +44 21 471 3789 (home)
.__/  \\ /\@  /~)  /~[   /\/[ |        +44 21 627 2171 (work)
.  l___\\    /~~) /~~[  /   [ |   Fax: +44 21 627 2175 (work)
 # ll  l\\  ~~~~ ~   ~ ~    ~ | Snail: 197 Harborne Lane, B29 6SS, UK
###LL  LL\\ (Brian McCauley)  |  ICBM: 52.5N 1.9W

------------------------------

From: nick@kralizec.zeta.org.au (Nick Andrew)
Subject: clock -r strange results (was Re: what time is it?)
Date: 12 Aug 1993 21:17:49 +1000

In <Aug.7.16.02.49.1993.13596@geneva.rutgers.edu> hedrick@geneva.rutgers.edu (Charles Hedrick) writes:

>    clock -s

Thanks for telling me about clock. I'm running SLS 1.02 and I see some
strange behaviour:

# clock -r ; clock -u -r
Mon Aug 12 21:07:30 1993
Thu Aug 12 21:07:30 1993
# date
Thu Aug 12 11:07:37 GMT 1993


Now bear in mind I just set my date back 10 hours (we're 10 hours ahead of
GMT here) which explains the difference between `date` and `clock -u -r`.

But why did the first execution of clock give the wrong day of the week?

Now watch the next 3 commands:

# clock -u -w ; clock -r ; clock -u -r
Thu Aug 12 11:10:14 1993
Thu Aug 12 11:10:14 1993

Can anybody explain why clock now emits the correct day of the week?

Nick.
-- 
Kralizec Dialup Unix (Public Access)    Data: +61-2-837-1183, 14400 24hrs 8N1
Zeta Microcomputer Software             Data: +61-2-837-1868, 2400 24hrs 8N1
P.O. Box 177, Riverstone NSW 2765       Plan: To beat Gnuchess 4.1 !

------------------------------

From: nick@kralizec.zeta.org.au (Nick Andrew)
Subject: Re: Will OS/2 HPFS be supported in the future?
Date: 12 Aug 1993 21:35:22 +1000

>>In article <18046@blue.cis.pitt.edu> hahn@neurocog.lrdc.pitt.edu (Mark Hahn) writes:
>>>it's just so trendy to bash microsoft...  anyway, MS journal ran a fairly
>>>elaborate article about the internals of HPFS, say, withing the last 3 years.

Trendy or not I don't know. But I had to find the HPFS specs early this
year. I followed the trail right back to the IBM Lab in Boca Raton and the
specification authors told me that it is copyrighted by Microsoft and is
considered Microsoft Confidential. So the "trendy" criticism is way off mark.

Nick.
-- 
Kralizec Dialup Unix (Public Access)    Data: +61-2-837-1183, 14400 24hrs 8N1
Zeta Microcomputer Software             Data: +61-2-837-1868, 2400 24hrs 8N1
P.O. Box 177, Riverstone NSW 2765       Plan: To beat Gnuchess 4.1 !

------------------------------

From: majland@nork.auc.dk (Anders Majland Pedersen)
Subject: Re: Incredibly cheap ethercards available!!! ($20)
Date: 13 Aug 93 15:00:13

In article <248ncc$eso@slab.mtholyoke.edu> jyanowit@mtholyoke.edu (Jason Yanowitz) writes:
   So I called up the company to price out cards ($79 regular price, not
   bad by itself) and they said, "Well, we have a special promotion right
   now, 1 per person, $19.95 for the card."  They take visa/mastercard.
   The promo is supposed to go thru Sept. 30, but I'd jump on this deal ASAP.
..
    projects :-)  So, anyways, the number is: (800) 424-5016, and they
   evidently had an advert in PC Week.  So good luck (the driver support
 
Since i don't have a copy of PC-week handy and the 800-number is'nt much
use from here. Could someone please suply me with the company's adress please.


--
   Anders Majland Pedersen              
                                        E-mail  maj91@kom.auc.dk
   Aalborg University                   S-mail  Anders Majland Pedersen    
   Institute of Electronic Systems              Sigrid Undsets Vej 254B
   Fr. Bajersvej 7                              DK-9220 Aalborg O   
   DK-9220 Aalborg O              ,,,   Phone   +45 98 15 24 43
                                 (o o)
   ----Linux 0.99pl11--------oOO--(_)--OOo-----carlsberg.nork.auc.dk----

------------------------------

From: mark@taylor.uucp (Mark A. Davis)
Subject: Re: Cheap ethernet card intro
Date: Fri, 13 Aug 1993 12:21:32 GMT

john.will@satalink.com (John Will) writes:

>R >There's a posting in comp.os.os2.networking about an introductory 
>R >deal from Accton for their EN1651 MPX ethernet cards--NE2000 clones.
>R >They apparently will sell two to a customer for $29 apiece.

>That's correct, I've ordered a couple, but I don't have them yet.

>R >Will these cards work with Linux?  I don't know if the offer is 
>R >thinnet, 10BaseT, or what.  I didn't find the cards on the
>R >net faq/net 2 faq lists of supported cards.

>The samples are for both thinnet & 10base-T if you ask, and they're 
>NE2000 clones, so they should work with Linux...

Do you two enjoy teasing us, or are you going to tell us the vendor name/
address/number?  Some of us don't have access to comp.os.os2.networking :)
-- 
  /--------------------------------------------------------------------------\
  | Mark A. Davis    | Lake Taylor Hospital | Norfolk, VA (804)-461-5001x431 |
  | Sys.Administrator|  Computer Services   | mark@taylor.wyvern.com   .uucp |
  \--------------------------------------------------------------------------/

------------------------------

From: andreas@knobel.gun.de (Andreas Klemm)
Subject: Q: 0.99pl11, WD8013 Ethernet card not accessable any more, please help
Date: Fri, 13 Aug 1993 14:04:30 GMT

Hello !

I need some help. Since I did an upgrade from the linux kernel,
that was released in SLS 1.01 - I think linux 0.99 pl7 -
The systems tells me on startup, that it cannot access the ethernet
card. I have an SMC 16 card builtin (a 16 bit WD8013) I/O 280, IRQ 2, 
Shmem c8000.

This reports the kernel during startup (thank's for a tool like
selection ... !)

....
eth0: WD8013 using IRQ 9 with shared memory at 0xc8000-0xcbfff.         <= that's ok !
wd.c:v0.99-10 5/28/93 Donald Becker (becker@super.org)
Calibrating delay loop.. ok - 16.44 BogoMips (tm)                       <= BTW - whats that ?!
...
/etc/rc.net: knobel(192.0.2.128)INET: Warning: old-style ioctl(IP_SET_DEV) called!
ioctl: Invalid argument
INET: Warning: old-style ioctl(IP_SET_DEV) called!
ioctl: Invalid argument
, portmap, inetd, namedAug 13 13:53:59 named[40]: restarted
, nfsdCannot register service: RPC: Unable to send; errno = Network is unreachable
unable to register(NFS_PROGRAM, NFS_VERSION, UDP).
, mountd
Cannot register service: RPC: Unable to send; errno = Network is unreachable

My config file in /usr/src/linux/net/inet/CONFIG looks like this :

#
# Set the address and IRQ here. The ne.c and 3c503 driver will autoprobe
# if you set the address or IRQ to zero, so we do that by default.
# Cards supportted:
#
#       WD80x3          The Western Digital (SMC) WD80x3 driver
#         WD_SHMEM=xxx  Forces the address of the shared memory
#         FORCE_8BIT    Force card into 8-bit mode (WD8003)
#       NE2000          The Novell NE-2000 driver
#       HPLAN           The HP-LAN driver
#       EL1             The 3c501 EtherLink I driver (source missing?)
#       EL2             The 3c503 EtherLink II driver
#         EL2_AUI       Selects the AUI port instead of the BNC port
#       PLIP            The Crynwe PL/IP driver
#       SLIP            The MicroWalt SLIP driver
#         SL_DUMP       Uses the "dump frame" debug code
#         SL_COMPRESSED Use CSLIP
#       D_LINK          The D-Link DE-600 Portable Ethernet Adaptor.
#         D_LINK_IO     The D-Link I/O address (0x378 == default)
#         D_LINK_IRQ    The D-Link IRQ number to use (IRQ7 == default)
#         D_LINK_DEBUG  Enable or disable D-Link debugging
#
# Note: for most WD (SMC) cards, the AutoProbe doesn't work.  You have
#       to force those cards into operation, by specifying the I/O add-
#       ress (EI8390=xxx), the IRQ (EI8390_IRQ=xxx) and the address of
#       the shared memory (WD_SHMEM=xxxx).  All other supported cards
#       behave like they should, you can leave the values to 0. -FvK
#
#CARDS          = -DSLIP -DPLIP -DWD80x3 -DNE2000 -DHPLAN -DEL2 -DD_LINK
CARDS           = -DSLIP -DWD80x3

# For WD and SMC cards:
#OPTS           = -DEI8390=0x280 -DEI8390_IRQ=15
#WD_OPTS                = -DWD_SHMEM=0xCC000 -UFORCE_8BIT
OPTS            = -DEI8390=0 -DEI8390_IRQ=0
WD_OPTS         = -DWD_SHMEM=0

# For all other cards:
#OPTS           = -DEI8390=0 -DEI8390_IRQ=0
#WD_OPTS        = -DUD_SHMEM=0xCC000 -UFORCE_8BIT

EL_OPTS         = -UEL2_AUI
NE_OPTS         =
HP_OPTS         =
PLIP_OPTS       =
SLIP_OPTS       = -DSL_DUMP -DSL_COMPRESSED
DL_OPTS         = -DD_LINK_IO=0x378 -DD_LINK_IRQ=7 -UD_LINK_DEBUG


Please, who can help ?!

Thanks in advance

        Andreas
-- 
Andreas Klemm - 41469 Neuss - Germany - phone: +49/ 2137 12609

------------------------------

From: odonnell@mpx2.lampf.lanl.gov (J. M. O'Donnell)
Subject: Re: ttys0/ttys2 IRQ conflict (?)
Date: Fri, 13 Aug 1993 14:13:00 GMT

In article <CBnp1H.624@dutiws.twi.tudelft.nl>, winfrdw@dutiws.twi.tudelft.nl (Rob de Winter) writes...
>I've encountered a problem in Linux I though it was beyond... the 'good old'
>shared IRQ conflict for serial lines. When I set up two getty's for ttys0
>and ttys2, neither of them works... Or very very slow, with response times 
>going to 25 seconds... or characters are eaten.

This is a problem at the hardware level.  Two devices giving the same signal -
how can the software know which one is requesting?

>So.... does anyone know how to solve this ? How I can install 4 serial lines
>and get them all working ? maybe some patches are needed... (there was 
>hardly any difference between the serial.c from pl 9 and pl 11 anyway).
> 

Configure all four lines so that they have different interreupts (requires
hardware that can be strapped to select the interrupt number).
For pl9 recompile kernel with IRQ auto-detect turned on, for pl11 run
setserial.

>Many thanks in advance (got a demo this monday...)
> 
Another way is to use a mulitport board, which deals with IRQ sharing at the
hardware level.

John.

------------------------------

From: rfs@world.std.com (Rikk F Streng)
Subject: Few Things!
Date: Fri, 13 Aug 1993 13:42:22 GMT

Hi!  I just finally got Linux working, but I am having some problems.  One
is that my a3 disk was currupt and I never got a new one, so I had to
borrow someone elses who I think has a different version of .99.  Where
can I get the "right" files and how do I install them over the old ones? 
Telltale signs are the "adduser is outdated" or something when I try to
add a user and some of the menus are "not available".

2.  I have a Cirrus Logic 5426 video card.  Is there a way I can find out
HOW to get XWindows working?  I have no idea how even to EDIT a file with
vi (I tried a million times!) and the config has to be changed.  What can
I set it to?  

3.  MSDos Emulator - I have .99 something.  What can this version do?  I
really want to run a BBS in the Emulator, can I?

I think the disks are dated 4/93.  The a3 I believe is 1/93 but don't
quote me on this.

Thanx!
rfs@world.std.com
Rikk Streng


------------------------------

From: elmquist@ribs.ssesco.com (Chris Elmquist)
Subject: Re: installing SLS from tape/HD
Date: Fri, 13 Aug 1993 13:47:00 GMT

In article <1993Aug13.012331.5090@dvorak.amd.com> rudy@dvorak.amd.com (Rudy Albachten) writes:
>
>I install SLS from cartridge tape and had problems figuring this out also.
>What I did was create a directory, downloaded all of SLS, and made an a1
>disk. I don't know if the order of the files on the tape is important, but
>I decided to play it safe, so I made sure I tarred the files in order.
>
>If you have a directory for each disk (same way the files are stored on tsx-11)
>just make a tar tape of the whole set:
>
>tar cvf /dev/your-tape-drive ?? ???
>
>(I use ?? and ??? so that the directories are in order: a2 a3 a4... x7 x8 x9 x10
>if I used . or * x10 would be between x1 and x2).

Should this work with an Exabyte too ?  I tried and had no success.  The
tape was written from gnutar under OS/2.1.   Perhaps there's some blocksize
problem (again!)...  

Has anyone built an 8mm install tape ??

>
>Hope this makes sense.... I sure like installing from tape better than doing 30
>floppy swaps.
I'd sure like it too !


--
Chris Elmquist, N0JCF
chrise@n0jcf.vware.mn.org
elmquist@SSESCO.com

------------------------------

From: stevend2@cs.utexas.edu (Steven Drinovsky)
Crossposted-To: comp.os.os2.misc
Subject: Re: Which SCSI controller to get for Linux and OS/2
Date: 13 Aug 1993 09:03:32 -0500

In article <1993Aug12.190716.26656@mksol.dseg.ti.com> mccall@mksol.dseg.ti.com (fred j mccall 575-3539) writes:
>
>I've got a machine with an AHA1542C.  I've only run DOS/Windows on it,
>but the controller has been a dream.  
>
>-- 
>"Insisting on perfect safety is for people who don't have the balls to live
> in the real world."   -- Mary Shafer, NASA Ames Dryden
>------------------------------------------------------------------------------
>Fred.McCall@dseg.ti.com - I don't speak for others and they don't speak for me.

Well I just got one also (AHA1542C) it installed into Linux with
no hassle what so ever.  Just a recompile on the kernel (30sec+a few
min compile) and addition to /etc/fstab (about 10sec) and a reboot
(about 2mins) and it was up. (total time <15mins (over 10mins of which
were compile))  And the conrol worked great with my new harddrive.
Well that is untill it crashed.  God it sucks to have a harddrive
crash with less the 2hr total up time.  Better now then 31 days from
now. (no refund and I would have lost a lot o' data)

Anyway the controller looked nice while I had a drive to run with it.

Steven
-- 
All that is, ever, ever was, will be ever,
twisting, turning, through the never, never.
   
                           -Metallica

------------------------------

From: jem@snakemail.hut.fi (Johan Myreen)
Subject: Re: x8514 servers and ps/2 mouse
Date: 13 Aug 93 15:00:50 GMT

In article <1993Aug12.173753.15919@b11.b11.ingr.com> jon@stimpy.b11.ingr.com (Jonathan Wilson) writes:


>We have been trying unsuccessfully to get an X implementation working on this
>system. The problem seems to be the PS/2 mouse support - specifically, the
>PS/2 mouse is supported with Xfree86 (although the video card isn't), but not
>with either X8514 or X8514scale servers (where the video card IS supported.)
>We can start the Xfree86 server and get munged video, but a working mouse.

X8514 is based on an ancient version of XFree86, which does not
support the PS/2 mouse protocol. The PS/2 mouse code could easily be
merged into the X8514 server, but nobody has bothered to do so.

You can use the 'mconv' utility, which is a PS/2 -> Microsoft mouse
protocol converter. This can be used to emulate a Microsoft serial
mouse. Mconv can be found on ftp.funet.fi in
pub/OS/Linux/tools/mconv.c and it's also on sunsite, somewhere.

-- 
Johan Myreen
jem@cs.hut.fi

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Activists-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux) via:

    Internet: Linux-Activists@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    tupac-amaru.informatik.rwth-aachen.de	pub/msdos/replace

The current version of Linux is 0.99pl9 released on April 23, 1993

End of Linux-Activists Digest
******************************
