From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Mon, 27 Sep 93 18:13:20 EDT
Subject:  Linux-Development Digest #131

Linux-Development Digest #131, Volume #1         Mon, 27 Sep 93 18:13:20 EDT

Contents:
  NET2 Debugged (Alan Cox)
  linux scheduler alternatives??? (Klaus ZLOEBL)
  Fixing Shutdown and Updating mount/umount (Matthew Grant)
  Lpmud on Linux. Alarm Clock. (Wayne Hodgen)
  Re: Linux Slowly Dying Off? (Lloyd Miller)
  Re: Linux Slowly Dying Off? + Lets make a game for Linux (The Cybard)
  Re: killer developmemt environment? (Uriarte Juan)
  Re: Mouseless X for Linux notebook (Booker C. Bense)
  MFM + IDE (Angelos Karageorgiou Greek and Macedon the only combination)
  Where do I get as86 (Suhail Qadeer)
  Re: To all device driver writers; boot-time (Warner Losh)
  Terminals off Serial Port ([Mark Smith])
  Re: Need help for a new pc-unix user. (Tri Tran)
  Re: MFM + IDE (Dave Sharp)
  security of programs using i/o-ports (Guenther Thomsen)
  Diffs for Motif (Jason M McAlexander)
  Ftape and 99pl13 (Matthew J. Ryan)
  Re: Boot-time messages (was: To all device driver writers; boot-time) (Lars Wirzenius)
  PL13 Problems with NFS & [2& Lost 3c509! (Chris Hafey)
  xcalentool, xview, and /usr/include/sys/ucontext.h ("Eric Jeschke")

----------------------------------------------------------------------------

From: iiitac@swan.pyr (Alan Cox)
Subject: NET2 Debugged
Date: Mon, 27 Sep 1993 10:27:33 GMT

There should hopefully be a new release of NET2Debugged on tuesday. This fixes
the race conditions reported by Jan, and adds some fixes by Herp to reset,
as well as some more of my fixes. I'd suggest until then everyone waits rather
than keep installing new versions.

Alan
iiitac@pyr.swan.ac.uk


------------------------------

From: zloebl@piis10.joanneum.ac.at (Klaus ZLOEBL)
Subject: linux scheduler alternatives???
Date: 27 Sep 1993 11:19:36 GMT

I found some time last weekend and read the khg
after looking around in the kernel sources i had to notice
that i don't fine the place where the timeout timer is set.
So could somebody be so nice and tell me where to find it.

Also i'd like to write a new scheduler (multilevel feedback queue)

is there a new khg ? (i haven't seen one)

What algorithm is use for paging?

I have played with osp (an operating system simulator), but
a real OS would be an even better playground!

Thanks for any hints and pointers
--

Klaus Zloebl          | E-Mail: zloebl@piis10.joanneum.ac.at
Joanneum Research     | PSI   : PSI%2631102911::ZLOEBL
Steyrergasse 17       |
A-8020 Graz           | Phone: ++43/316/8020/243
AUSTRIA               |

------------------------------

From: grantma@newton.otago.ac.nz (Matthew Grant)
Subject: Fixing Shutdown and Updating mount/umount
Date: Mon, 27 Sep 1993 12:12:55 GMT



------------------------------

From: hodgen@ozzy.uni-koblenz.de (Wayne Hodgen)
Subject: Lpmud on Linux. Alarm Clock.
Date: 27 Sep 1993 12:55:59 GMT

Hi all.

I'm having problems getting the driver for our Lpmud working under Linux. On
a Sun, no problem. Under Linux (Slackware 1.0.2) it keeps crashing with an
Alarm clock.

The driver uses SIGALARM to trigger a handler twice a second. The first time
I start up the driver it crashes almost instanteaniously. The second time,
I get as far as trying to login in with "telnet 127.0.0.1 3000".

Does anyone have an idea as to what could be wrong?
-- 
Wayne Hodgen   | hodgen@informatik.uni-koblenz.de | Have you heard about the
Uni Koblenz,   | or Fight-o-net 2:245/5600.11     | riscy project? A GPL based
Rheinau 3-4,   | Voice: +49 261 9119-645          | design for an R4000 PC MB.
56075 Koblenz. | Fax:   +49 261 9119-499          | MIPS, Power to the people!

------------------------------

Crossposted-To: comp.os.linux.help,comp.os.linux.misc
From: lloyd@lfmcal.cuc.ab.ca (Lloyd Miller)
Subject: Re: Linux Slowly Dying Off?
Date: Sun, 26 Sep 1993 14:24:10 GMT

Brandon S. Allbery (bsa@kf8nh.wariat.org) wrote:
> In article <sxjcb.8.0011F26F@alaska.edu> sxjcb@alaska.edu (Jay Beavers)
> writes:
> >In article <27t2au$3v1@samba.oit.unc.edu> mdw@sunSITE.unc.edu (Matt Welsh)
> > writes:
> >
> >>It's not dying off... not at all. It's simply stabilizing. Things aren't
> >>changing as rapidly, which is a sign of maturity. 
> >
> >So, like, CP/M is really really mature now?

> In the software publishing industry, "stable" is a euphemism for "outdated".

Yup, an excellent reason to never bother to change the version number
to 1.0 or greater.
-- 
 Lloyd Miller, Calgary
 lloyd@lfmcal.cuc.ab.ca
 Lloyd_Miller@f57.n17.z1.fidonet.org

------------------------------

Crossposted-To: comp.os.linux.help,comp.os.linux.misc
From: dudek@acsu.buffalo.edu (The Cybard)
Subject: Re: Linux Slowly Dying Off? + Lets make a game for Linux
Date: Mon, 27 Sep 1993 15:13:57 GMT

I think the successful development of the WINE (MS-Windows emulator)
program, Linux will get an amazing boost.  Further development on the DOS
emulator should do the same.  Just think, if WINE works, you could actually
use After Dark!!!  :-)


-- 
David Thomas Dudek /     098pwxs@ubvms.bitnet   \     __   _ The Cybard
 State University /    dudek@.acsu.buffalo.edu   \   /  `-' )      ,,, 
   of New York   / "If music be the food of love, \  | | ()|||||||[:::}
    @ Buffalo   /   play on!" - Wm. Shakespeare    \ `__.-._)      ''' 

------------------------------

From: ukl2@rzstud1.rz.uni-karlsruhe.de (Uriarte Juan)
Subject: Re: killer developmemt environment?
Date: 27 Sep 1993 15:50:12 GMT

Jan Nicolai Langfeldt (janl@ifi.uio.no) wrote:

: Some thoughts about nextstep, but it applies to linux as well (imho).

        [much deleted]

           If you wanted to start a flame war , the linux groups are the
        wrong ones. Too much noise for you. Go , whine in the next ones.


: Bj\o rn Remseth   !Institutt for Informatikk    !Net:  rmz@ifi.uio.no
: Phone:+47 22855802!Universitetet i Oslo, Norway !ICBM: N595625E104337

--
 *   Not that I have tested it - I just wrote the code and hope it works.  *
 *   "Real programmers" don't test: they assume it works the first time,   *
 *   and anyway, what do you think beta-testers are for?  -Linus Torvalds  *

------------------------------

From: bense@heart3.ucsd.edu (Booker C. Bense)
Subject: Re: Mouseless X for Linux notebook
Date: 27 Sep 1993 16:03:21 GMT

In article <BUCK.93Sep22102923@wic.wic.waterloo.shl.com>,
Charlie Krasic <buck@wic.waterloo.shl.com> wrote:
>
>In article <1993Sep19.200915.404@cs.wisc.edu> austin@aura.cs.wisc.edu
>(Todd Austin) writes:
>
>
>>  p.s. here's a tool us small memory types could use -- run gprof on
>>  an executable, recording the frequency of time spent in each executed
>>  procedure for a "typical" usage of the program, then feed this information
>>  back into "ld" so it could order procedures in the text in decreasing order
>>  of frequency of time executed.  This would minimize the internal fragmentation
>>  found in allocated pages, thus maximizing the utilization of allocated
>>  physical ram pages.  I suspect the typical program's working set size would
>>  decrease dramatically.
>
>This is a good idea.  A friend of mine who works at Microsoft did this
>for their OS/2 (blech!) linker.  Of course, there are all kinds of
>really nifty things you can do once you start feeding back profiler
>data into the compiler and linker...
>
>-- Buck
>

- NEXTStep also does this and it's the very first thing they teach you
the Developer's optimization class. It does make a really big
difference in the perceived speed of the program ( even on non-small
memory machines i.e. 32 meg NeXTStation ). NeXT uses gprof to
do this so the code is freely ( GPL'ly ) available for generating the
appropriate information. NEXT uses mach-O format and hurd will use
that as well, what format does LINUX use? ( a.out , coff ,ecoff, elf,
..... ) I think if you have a symbol table in the executable it should
be possible to do this kind of reordering, but I'm just guessing. I
assume the hard part would be finding the end of the routine, not the
beginning. Although with a decent loadmap that shouldn't be too hard
either.


- Random firings from the Neural Net of 

- Booker C. Bense               "News, News, It's long, It's ASCII?,  
prefered: benseb@grumpy.sdsc.edu   It's Wood. News, News, It's better
NeXT Mail: benseb@next.sdsc.edu      than bad, It's Good!"  Ren&Stimpy
Join the Association of Mathematician & Evildoers.................


------------------------------

From: angelos@scus1.ctstateu.edu (Angelos Karageorgiou Greek and Macedon the only combination)
Subject: MFM + IDE
Date: Mon, 27 Sep 1993 14:44:00 GMT


        Is it possible to have both IDE and MFM controllers on the same
machine ?
        I know that the bios try to boot from both controllers so it
locks up. Is there a work around ? like disabling some roms ?
        Just curious

--
Angelos Karageorgiou | The opinions expressed above are nobody else's but
Yeian kai Eytyxeian  | mine,MINE,MIIINNE,MIIINNEEEE,aaaarrgghhhh..(*&#$$*((+_$%
Live long & Prosper  | NO CARRIER

------------------------------

From: suhail@leland.Stanford.EDU (Suhail Qadeer)
Subject: Where do I get as86
Date: Mon, 27 Sep 93 17:07:32 GMT

  I need the as86 assembler to  rebuild the kernal from the SLS distribution. 
Where do I get it from. Can I use Gnu A386 assembler in its place without much
modification to the Makefile. Please send email. 
Thanks.

suhail@garfield.stanford.edu

------------------------------

From: imp@boulder.parcplace.com (Warner Losh)
Subject: Re: To all device driver writers; boot-time
Date: Mon, 27 Sep 1993 00:30:35 GMT


I'd like to toss two cents into the ring....

I don't think a scheme like I:, W:, E: would present any useful
infomation that isn't there w/o the prefix (pick other ones if you
want more/less verbosity).  For example, when the ethernet card is
probing for cards, is it an error not to find one?  Is it a warning?
Well, it is an error if the card is really in the machine, and
information if it isn't.  And there is no way for the kernel to know.
A kernel core dump is an error.  Would anything less be an error or a
warning.  What is the difference between errors and warnings?  What
about warnings and information.  They tend to blur at the edges and no
two device driver writers/kernel hackers will draw the line at the
same place.  Another reason that they will be meaningless.

Second, I like the idea of shutting off most messages at boot time via
a binary flag.  Like -v or -q to say "I want it verbose" or "I want it
quiet."  Make it a config option.  That way I can have it quiet until
I get an error or have problems booting, then I can tell lilo to make
it verbose.  The exact mechanism is left as an excersize for the
reader.

All I'll say about color is that some people like using every color in
their color board, others have a more monochromic view of the world.

As much as I like VMS's messages, I think it would be wrong to make
Linux do that.  It doesn't make sense in this context.  The following
glosses over lots of things, but is basically accurate.  In VMS, you
would "signal" an exception and the stack would unwind and anything
that is unhandled would result in a message.  Sometimes it would
continue, other times it wouldn't.  Part of "knowing" what message to
print was the number that was signaled.  It encoded where to get the
message and what to print, mostly for internationalization.  Linux
doesn't have this concept at all, and I think it would be a giant leap
backwards to try to emulate VMS's message for boot.  There was a lot
of mechanism behind the scense that made it work, and the Linux kernel
doesn't need bloat like that.

Warner
-- 
Warner Losh             imp@boulder.parcplace.COM       ParcPlace Boulder
I've almost finished my brute force solution to subtlety.

------------------------------

From: mj_smith@onion.uwe.ac.uk ([Mark Smith])
Subject: Terminals off Serial Port
Date: Mon, 27 Sep 1993 18:05:44 GMT

Does anybody know how to, or know of a program that will enable me to plug
a dumb terminal (or my friends Linux running PC) into the serial or any
other port (I don't have and cannot afford a network card) of my machine,
and have it work as a terminal, (just VT100 or some such not X)

Any help would be appreciated :)

P.S.    -  I don't know much about Linux yet, but I'm learning.


------------------------------

Crossposted-To: gnu.gnusenet.test,comp.unix.sysv386,comp.unix.sysv.r3,comp.unix.pc-clone.32bit,biz.sco.general
From: tran@f18sun5.nwc.navy.mil (Tri Tran)
Subject: Re: Need help for a new pc-unix user.
Date: Mon, 27 Sep 1993 18:44:07 GMT


Thanks to all who responded.  Got quite a bit of info from
you people.  I've decided to give linux a try (since it's
free and I'm not a millionare).  Hope it's live up to all
of my expextation.  Thanks again.  

Tri

------------------------------

From: dsharp@nyx.cs.du.edu (Dave Sharp)
Subject: Re: MFM + IDE
Date: Mon, 27 Sep 93 19:18:15 GMT

angelos@scus1.ctstateu.edu (Angelos Karageorgiou Greek and Macedon the only combination) writes:


>       Is it possible to have both IDE and MFM controllers on the same
>machine ?
>       I know that the bios try to boot from both controllers so it
>locks up. Is there a work around ? like disabling some roms ?
>       Just curious

MFM and IDE can not coexist on the same machine.  I understand that
you can get IDE and SCSI -or- MFM and SCSI to work together, tho.


--
___________________________________________________________________________
 Dave Sharp, NU8H                   | "Eagles may soar, but weasels
 Dayton, Ohio                       |  don't get sucked into jet engines"
 Email: dsharp@nyx.cs.du.edu        | -Unknown

------------------------------

From: thomsen@cs.tu-berlin.de (Guenther Thomsen)
Subject: security of programs using i/o-ports
Date: 27 Sep 1993 19:32:43 GMT


Hello linuxer,

at least since people like Karsten Ballueder prevent Linux to get boring
by porting games to it, an old problem becomes current : 
        the security hole of programs using i/o-ports directly.

 Karsten Ballueder writes in the README of BDASH21b: 
> As BDASH uses the VGA-memory directly, it must be run as root, 
> or with setuid root (Just type "chmod +s bdash" and trust me.). 

I do not doubt about Karsten's honorable intention and I don't want to support
a virus-, worm-, trojan-horse-attack-hysteria, but  a (multi user) OS should be
as save ( secure ) as possible. And I am too lazy and maybe not competent 
enough to check the code of all programs either by looking through the source 
or by running strace or gdb.
And in addition we all know there is no program longer than a few hundred source
 code lines without errors. And mailfunctions cauesd by a setuid root program 
maybe broke the whole system.
Hence in my opinion we need a possibility to allow non-setuid root programs to
 use selected i/o-ports. I would prefer a (super-)vga driver and a /dev/vga 
special device with lock-files and VT-switching like that offered by the dosemu
 by Robert Sanders .

Guenther.
-- 

------------------------------

From: jmcalexa@iastate.edu (Jason M McAlexander)
Subject: Diffs for Motif
Date: Mon, 27 Sep 1993 19:16:35 GMT

I have purchased the source code for Motif 1.2.2 and I am wanting to find
the diff files that will allow to [3~me to compile it.  Any ideas.
I am not interisted in purchasing anohter set of binaries sence I ha

ave the source


------------------------------

From: ryanm4@hall106.its.rpi.edu (Matthew J. Ryan)
Subject: Ftape and 99pl13
Date: 27 Sep 1993 20:10:12 GMT

  Has anyone gotten ftape-0.9.6 to work with the new kernel?
I managed, with very little hacking, to get it to compile
and install, and I seem to be able to control the drive,
but I am unable to read or write data.
  Userft gave a 0x1f error (I believe thats Rate Selection 
Error) on command 0x1b ( i have no idea what this is) on
starting up the program.  dd simply does not work - trying
to read back the data, I get an error correction control
error, and the file looks like a blank, formatted tape.

--
"Still looking for a funky quote..."
Matthew Ryan
ryanm4@rpi.edu

------------------------------

From: wirzeniu@klaava.Helsinki.FI (Lars Wirzenius)
Subject: Re: Boot-time messages (was: To all device driver writers; boot-time)
Date: 27 Sep 1993 22:13:59 +0200

We've had a bit of discussion about the usefulness of turning off
`noise' messages at boot time, or at least making error messages
stand out.  This would have been useful to me today.

Daylight savings time (or whatever it's called in English) ended in
Finland last night.  So today, when I booted my machine, I had to set
the CMOS clock (I decided to set it to GMT while I was at it, since I
no longer need to have it in local time because of DOS).
Unfortunately, I didn't quite hit the Delete key in time to enter the
CMOS setup program before the system booted LILO and LILO started
reading the kernel.  So, being an impatient fool, I pressed
ctrl-alt-del at once and rebooted the machine, this time being more
successful with CMOS.

Nothing wrong so far, except that my partition table got screwed.  The
last entry, the one for my 120 MB (with 80 MB in use), un-backed up
home partition, was completely bogus, with, e.g., a size of about 2
terabytes.

The kernel probably printed an error message about this when it read
the partition table, but I never saw it: it was buried among the
dozens of lines of uninteresting stuff that is printed every time I
boot.  The first I knew of the problem was that I couldn't log in as
myself since my home directory didn't exist.  When I tried to fsck the
partition, it complained about a bad magic number in the super block.
Was I scared?  You bet.

Fortunately, after spending an anxious day at the university, I had
the good idea of fscking all the partitions, and checking the
partition table as well.  When I ran fdisk, all became clear.
Since I had written down on a piece of paper the exact contents of the
partition table (a _very_ good idea, you might want to do it too), I
was able to repair the table with no problems.  I am happy to report
that I am now using my system with no problems whatsoever (that I
didn't have before this trouble started).

--
Lars.Wirzenius@helsinki.fi  (finger wirzeniu@klaava.helsinki.fi)
It doesn't matter who you are, it's what you do that takes you far. --Madonna

------------------------------

From: chafey@ecst.csuchico.edu (Chris Hafey)
Subject: PL13 Problems with NFS & [2& Lost 3c509!
Date: 27 Sep 1993 21:20:41 GMT

Hello All,
  We have been running SLS 1.03 with a patch level 12 kernel for about 2 or 3
weeks now.  This weekend, we upgraded to pl13 and things seem to work ok 
except for the following:

1) Remote nfs mountd seem to hang and eventually give us an RPC-timed out
   message.  I have seen posts regarding new rsh and rlogin binaries.  Do we
   need new updates?  PS- we can cure this by killing the nfsd and mountd
   processes on the machine and restarting them.  For each mount we need to
   do this.

2) We tried going back to the pl12 kernel, but now it doesn't recognize our
   3c509 card!  This is really strange since the same kernel in a different
   machine will recognize the 3c509, but it won't see the 3c509 in any machine
   where we have run pl13.  Any ideas?

3) The 3c509 driver still complains about missing interrupts.  I remember
   Donald Becker saying he still had a page of coding to do on this driver,
   is this still true, or is the pl13 3c509 driver "done"?

** Thanks for all the hard work everyone - the 3c509 is VERY fast.  Although
   it complains about missing interrupts, it still recovers and works 
   prefectly about 98% of the time.


System Configurations:

486-33 / 486-DX2/50 / 486-DX2/66 Machines  (GATEWAY 2000)
8-16 Megs Ram
3c509 Cards
Original sls 1.03 binaries except for kernel

Chris Hafey


-- 
Chris Hafey                     |  True programming is rebooting the machine
chafey@ecst.csuchico.edu        |  after each crash until it works. 

------------------------------

From: "Eric Jeschke" <jeschke@cs.indiana.edu>
Subject: xcalentool, xview, and /usr/include/sys/ucontext.h
Date: Mon, 27 Sep 1993 16:25:13 -0500

I am trying to compile a version of calentool 2.2X using Ken
Osterberg's Linux XView port.  I grabbed the stock sources off
of sunsite (/pub/X11/contrib), configured a makefile and tried
to build.  It bombs trying to include <sys/ucontext.h> 
which is nowhere to be found on my box.  I'm running .99p12
upgraded periodically from back to .99p6 or so.  I looked at
the openwin/include/xview files and it looks like it assumes
sys/ucontext.h to be in "standard" Linux.

Q: has this file been added to the default distributions at some
point and I have missed it?   Anybody else compiled calentool for
Linux?  If you have could you drop me a line about how you did it?

Thanks,

-- 
Eric Jeschke                      |          Indiana University
jeschke@cs.indiana.edu            |     Computer Science Department
eric%marmot@moose.cs.indiana.edu  |

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
