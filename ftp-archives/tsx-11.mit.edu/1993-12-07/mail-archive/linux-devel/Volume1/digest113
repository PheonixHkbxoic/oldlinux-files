From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Mon, 20 Sep 93 21:13:12 EDT
Subject:  Linux-Development Digest #113

Linux-Development Digest #113, Volume #1         Mon, 20 Sep 93 21:13:12 EDT

Contents:
  Re: program in vgalib (Joakim Rosqvist)
  BT455S problem w/new kernel (denouden)
  Re: Mouseless X for Linux notebook (Robert Nation)
  Re: SCSI Timeouts (Eric Youngdale)
  Refining the TAMU install... (Rick Miller - Linux Device Registrar)
  Re: Linux, Notebooks, XFree86, and LCDs (Sehyo Chang)
  Re: What do people think about /config? (Angelito So)
  Re: Snow in a Cirrus Logic 5426 card with XFree 1.3 (Linux) (Herve Soulard)
  Re: SCSI Timeouts (Alan Peterson)
  Using a quickport mouse with vgalib.  Where is mconv.c? (David S. Fox)
  Re: What do people think about /config? (Geoffrey Hart)
  Re: Anybody ever try crashme on Linux? (Reid Allen Forrest)
  apex.test (Torsten Ackemann)
  Re: BT455S problem w/new kernel (Eric Youngdale)
  Ultrastor driver (Eric Youngdale)
  To all device driver writers; boot-time messages. (Russell Nelson)
  Re: Ultrastor driver (Scott A. Laird)
  Re: Test of the Intel 8254 shut-down/parity-check command (Dyane Bruce)

----------------------------------------------------------------------------

Crossposted-To: comp.lang.c
From: dvljrt@cs.umu.se (Joakim Rosqvist)
Subject: Re: program in vgalib
Date: Mon, 20 Sep 1993 11:00:48 GMT

In article <f8Hx#lF@quack.kfu.com> benjie@quack.kfu.com (Android) writes:
>New with vgalib on linux.  Is there a way to program the computer in C
>so that it could draw me a dot at a position (x,y) on the screen?  I
>am using gcc with vgalib on linux.

Look at the example program!

  vga_draw_pixel(x,y);

(after a vga_setmode(<whatever>); )     

/Joakim Rosqvist  dvljrt@cs.umu.se


------------------------------

From: denouden@xs4all.hacktic.nl (denouden)
Subject: BT455S problem w/new kernel
Date: 20 Sep 1993 09:12:59 GMT

[ Article crossposted from list.linux.scsi ]
[ Author was denouden ]
[ Posted on 20 Sep 1993 09:11:55 GMT ]

I wrote:

   kernel 0.99.13 halts in scsi initialization [...]

It turned out that the problem was related to my MAXTOR MXT-540SL
drive.

After adding an entry to the blacklist in scsi.c the maxtor drive
and linux 0.99.13 are on friendly terms again. It seems that the
drive locks up when LUN's other than 0 are scanned. Which still
bugs me because I was under the impression that kernels < pl13 
scanned all LUN's too. 

BTW, I would like to try the command linking patches, but they fail
patching 0.99.13. Now I could try changing the sources by hand, but
that's not something I'm looking forward to. So, could somebody
(Eric Youngdale?) please post command linking patches for the new 
kernel version? Thanks!

Cheers,
Jan den Ouden


------------------------------

From: nation@snoopy.sanders.lockheed.com (Robert Nation)
Subject: Re: Mouseless X for Linux notebook
Date: 20 Sep 93 09:39:21


>> There is a window manager FWM which says it can be run
>>under Linux wothout a mouse. There is a combination of
>>keystrokes which can move you about.

>olwm/olvwm and probably even the *twm window managers can be
>configured to run mouseless also.

As the author of fvwm, I thought that I might clarify this point.

Most all X window managers allow you to bind actions to keystrokes,
so that you can perform some operations without using the mouse.

Fvwm tries to go one step further, providing kkeyboard shortcuts which
allow you to operate menus and move/resize windows in a fairly
intuitive way. I do not think that twm or olwm allow this (I could be
wrong, twm and olwm are very complex programs). There is, at this
point no way of simulating a mouse button press for an application's
pushbutton. (If someone knows how to do that, please tell me.)
Mouse-less functionality of fvwm will be enhanced in 0.97 (due out
soon) which will allow mouse movement on the screen using keyboard 
shortcuts too.

Fvwm was designed with mouseless operation in mind, but was also
designed for easily manipulating really big windows (3000x300 pixels
or more), and low memory use.

Rob Nation
(nation@rocket.sanders.lockheed.com)



------------------------------

Crossposted-To: comp.os.linux.misc
From: eric@tantalus.nrl.navy.mil (Eric Youngdale)
Subject: Re: SCSI Timeouts
Date: Mon, 20 Sep 1993 14:09:58 GMT

In article <CDn0vD.r42@ns1.nodak.edu> apeterso@badlands.NoDak.edu (Alan Peterson) writes:
>Bill Mitchell (mitchell@mdd.comm.mot.com) wrote:
>I, too, am seeing timeouts with two SCSI disks and a Tandberg 3600 tape
>drive. All are internal with the Tandberg at the end of the chain and 
>terminated.  Unfortunately, I'm also seeing 'in2000_abort' with the alpha
>version of the IN-2000 driver and the partition table on the second
>330 meg drive (where linux lives) is trashed. I can't even do an fdisk write
>without hanging the system. 

        The problem is that the in2000 driver is written to only handle one
outstanding command at a time.  If you attempt to use the tape drive, then you
effectively block access to the disk drives until the tape finishes.  At some
point, someone should update the in2000 driver to handle more than one
outstanding command at one time - once this happens, then using a tape drive on
this system will work much better.

-Eric
-- 
"When Gregor Samsa woke up one morning from unsettling dreams, he
found himself changed in his bed into a lawyer."

------------------------------

From: rick@ee.uwm.edu (Rick Miller - Linux Device Registrar)
Subject: Refining the TAMU install...
Date: 20 Sep 1993 16:12:00 GMT

I tried installing the TAMU (0.99.12) distribution of Linux, and WOW!
I was pleased to see X Windows come up -=<IN COLOR>=- on my Compaq for
the very first time.  :-)  I am now a happy camper.

However, I've got a smaller box right next to it (also a Compaq) which
only has 60 MB of hard drive in it.  The TAMU needs about 68 MB.

So... I looked through the installed TAMU and found that "emacs" (which
I *never* use) takes up about 17 MB !!!  Well, the next step was obvious...
I hacked the TAMU installation script (/bin/doadmin on the boot disk) so
that if you install X Windows, then emacs is left off.  (I set EXCLUDE
to '+exclude-from /etc/emacslist' which had a list of emacs files.

This was a rough hack though...  Has anyone got any better ideas for a
package-by-package selection option for the TAMU distribution?

RICK MILLER           <rick@ee.uwm.edu>            Voice:  +1 414 221-3403
P.O. BOX 1759                                        FAX:  +1 414 221-4744
MILWAUKEE, WI                      Send a postcard and I'll send one back.
53150-1759 USA                    Sendu bildkarton kaj mi retrosendos unu.

------------------------------

Crossposted-To: comp.os.linux.help,comp.windows.x.i386unix
From: sehyo@netcom.com (Sehyo Chang)
Subject: Re: Linux, Notebooks, XFree86, and LCDs
Date: Mon, 20 Sep 1993 16:51:13 GMT

In article <1993Sep19.002720.1526@super.org> pcolsen@super.org (Peter C Olsen) writes:
>
>I'm looking for anyone who has ever successfully installed Linux and
>XFree86 on an LCD laptop.  I have a laptop that I carry for school and
>Reserves and I have been told that getting XFree to run on an LCD will
>be non-trivial.  
>
>I have read the FAQ.  I'm using XFree86 version 1.3.  The mono server
>runs on my laptop driving an external monitor but does not drive the
>LCD.  I have tried Xega, but cannot get it to run.   I'm willing to
>invest substantial time, but I would like an existance proof before I
>do so.
>
>Peter

I have successfully running Linux on My Nec Ultralite Versa with
12M of memory of 60M paritition(others running Dos & OS/2).
I am running XFree86 1.3 mono server ( I am still waiting for XFree
2.0 to run color).  Installing Linux was trivial but still took some
time ( I was using MCC-intermim release).  

Good luck!

------------------------------

From: aso@ic.sunysb.edu (Angelito So)
Subject: Re: What do people think about /config?
Date: 20 Sep 1993 16:59:10 GMT


        Personally, I like the idea of having /conf and then linking the 
files from there to their normal *nix area. This made my life a whole lot
easier when I re-installed the slackware distribution and just restored the
links since I have everything setup in /conf like this:
        /conf
        ----/conf/X11
        ---------/conf/X11/app-defaults
        ----/conf/net
        ...
That way you can just go in and do a 
        ln -sf /conf/X11/app-defaults/* /usr/X386/lib/app-defaults
to restore your defaults. This also applys to other files like Xconfig,
net-2 stuff, etc...

                                -Angelito-
                                aso@ic.sunysb.edu

------------------------------

From: soulard@goudurix.inria.fr (Herve Soulard)
Crossposted-To: comp.windows.x.i386unix,comp.os.linux,comp.os.linux.misc
Subject: Re: Snow in a Cirrus Logic 5426 card with XFree 1.3 (Linux)
Date: 20 Sep 93 16:37:14 GMT
Reply-To: soulard@sor.inria.fr

> Is this already known or is my card broken?

I don't know if this is already known but I have exactly the same problem.

I think I've seen a message saying that some Cirrus clone boards are bad.
May be we have both such a card.

I have another question. Before my VLB 5426 based video card, I was usind an 
ISA Paradise clone with XFree 1.2. And I now, it seems that my new card have
lower performances. This is specially true during scrolling in a xterm that
is full of text. Is it the same for every one having a 5426 board ?

                Herve Soulard.

------------------------------

Crossposted-To: comp.os.linux.misc
From: apeterso@badlands.NoDak.edu (Alan Peterson)
Subject: Re: SCSI Timeouts
Date: Mon, 20 Sep 1993 18:09:24 GMT

Eric Youngdale (eric@tantalus.nrl.navy.mil) wrote:
:       The problem is that the in2000 driver is written to only handle one
: outstanding command at a time.  If you attempt to use the tape drive, then you
: effectively block access to the disk drives until the tape finishes.  At some
: point, someone should update the in2000 driver to handle more than one
: outstanding command at one time - once this happens, then using a tape drive on
: this system will work much better.

I was not using the tape drive. This happens immediately after rebooting and
trying to create a partition with fdisk. One command (fdisk) - uptime 10 
seconds. If the problem, however, is that it can only handle one command
at a time, perhaps what is happening is a write followed immediately by
a read of the partition before it has finished writing. Could this be the
problem?

Alan Peterson
apeterso@plains.nodak.edu

------------------------------

From: fox@graphics.cs.nyu.edu (David S. Fox)
Subject: Using a quickport mouse with vgalib.  Where is mconv.c?
Date: 20 Sep 1993 18:19:08 GMT

I guess this is the right group to post this, since it seems
the kernel-only focus has not materialized.  I want to write
a vgalib program that uses the mouse.  If I'm using a normal
mouse I can figure out how to interpret what I read from
/dev/mouse by looking at the code in /usr/X386/tst/mouse,
but to use a quickport mouse I believe I'll need to have the
program mconv to convert its output to something mouse.c
understands.  Unfortunately I can't locate mconv.c on the
servers.  Does anyone know where it is, or have a copy they
could send me?  Or is there a more general way of doing this?
--
David S. Fox -- fox@graphics.cs.nyu.edu -- I have spoken.  All depart.

------------------------------

From: ghart@empros.com (Geoffrey Hart)
Subject: Re: What do people think about /config?
Date: Mon, 20 Sep 1993 19:56:33 GMT
Reply-To: ghart@empros.com

In article <27kngu$7nl@max.physics.sunysb.edu>, aso@ic.sunysb.edu (Angelito So) writes:
|> 
|>      Personally, I like the idea of having /conf and then linking the 
|> files from there to their normal *nix area. This made my life a whole lot
|> easier when I re-installed the slackware distribution and just restored the
|> links since I have everything setup in /conf like this:
|>      /conf
|>      ----/conf/X11
|>      ---------/conf/X11/app-defaults
|>      ----/conf/net
|>      ...
|> That way you can just go in and do a 
|>      ln -sf /conf/X11/app-defaults/* /usr/X386/lib/app-defaults
|> to restore your defaults. This also applys to other files like Xconfig,
|> net-2 stuff, etc...

Exactly, that is why I'd like to see a /conf also.  Don't try and add
another layer of interpretation (ala IBM's ODM disaster).  Just collect all
the *user* modified config files.  Imagine a read-only /usr :-)!!

One thing I'd suggest is just use the whole path prefixed by /conf. 
Example:

  /conf/etc/passwd                  <-- /etc/passwd
  /conf/usr/X386/lib/app-defaults/* <-- /usr/X386/lib/app-defaults/*

Then I could just run a straight "find" to re-establish my old config when
I upgrade SLS/Slackware/MCC/...  Of course, if things moved, I'd have some
work to do (but this a could be used as a plus, when config files change
format, they could be intentionally moved.  Also, config files that you
don't want automatically upgraded could be placed in bogus directories in
/conf, to ensure they fail).

Of course, if you wanted to create another "user friendly" layer on top of
this, that's fine.  Trying to "standardize" all these config files is
noble.  Eliminating redundancy, and adding validation are both good ideas. 
But those things can be added on top, and therefore discarded if unwanted.

But first I'd like to see the upgrade problem solved (and a read-only /usr
would be great too :-).

-- 
    geoff hart ghart@empros.com news@empros.com library@empros.com   x4273

------------------------------

From: raf4482@TAMUTS.TAMU.EDU (Reid Allen Forrest)
Subject: Re: Anybody ever try crashme on Linux?
Date: 20 Sep 1993 15:54:12 -0500

I haven't tried crashme, but my pl12 came to a grinding halt when I ran
~30 top processes. It took up all available core and slowed the system 
down to where I it wouldn't even accept a keystroke.  AND it was done
from non-root.  Anyone know of a fix?


------------------------------

From: ta@apex.central.de (Torsten Ackemann)
Subject: apex.test
Date: Sun, 19 Sep 1993 22:41:37 GMT


test

-- 
Torsten Ackemann - email: ta@apex.central.de - vox: +49-551-22192

------------------------------

From: eric@tantalus.nrl.navy.mil (Eric Youngdale)
Subject: Re: BT455S problem w/new kernel
Date: Mon, 20 Sep 1993 23:20:00 GMT

In article <27js79$1m2@xs4some.hacktic.nl> denouden@xs4all.hacktic.nl (denouden) writes:
>BTW, I would like to try the command linking patches, but they fail
>patching 0.99.13. Now I could try changing the sources by hand, but
>that's not something I'm looking forward to. So, could somebody
>(Eric Youngdale?) please post command linking patches for the new 
>kernel version? Thanks!

        The indications that I have had so far are that many drives do not do
this correctly, and for those that do, there is not much of a performance
increase at all.  It was an interesting experiment, but for better performance
we may have to try something else.  I still have some ideas.....

-Eric

-- 
"When Gregor Samsa woke up one morning from unsettling dreams, he
found himself changed in his bed into a lawyer."

------------------------------

From: eric@tantalus.nrl.navy.mil (Eric Youngdale)
Subject: Ultrastor driver
Date: Mon, 20 Sep 1993 23:23:14 GMT

        Someone has suggested that we replace the ultrastor driver in the
distribution kernel with the ALPHA version that John Carr originally wrote (and
Caleb Epstein has maintained since then).

        Apparently the 24f card is not supported with the distribution kernel,
so I am not too concerned about people with that card right now.  I am more
interested in hearing about people with 14f and 34f cards, and whether there
are any cases where the ALPHA driver fails to work properly while the driver in
the distribution kernel works correctly.

-Eric
-- 
"When Gregor Samsa woke up one morning from unsettling dreams, he
found himself changed in his bed into a lawyer."

------------------------------

From: nelson@crynwr.com (Russell Nelson)
Subject: To all device driver writers; boot-time messages.
Date: 21 Sep 93 00:34:56 GMT

In article <1993Sep17.184413.6604@super.org> becker@super.org writes:

   I'm still looking for comments on the main points, especially suggestions on
   the content and (loose) format of boot-time messages.

I'd like to see a prefix, of say, "I:" for informative messages, "W:"
for warnings (something is not standard, e.g. COM1 using IRQ 3), and
"E:" for an actual drop-dead error, e.g. trying to mount a MS-DOS
partition as root.

That would let a newbie sysadmin separate problems from non-problems.

-russ <nelson@crynwr.com> What canst *thou* say?
Crynwr Software           Crynwr Software sells packet driver support.
11 Grant St.              315-268-1925 Voice  |  LPF member - ask me about
Potsdam, NY 13676         315-268-9201 FAX    |  the harm software patents do.

------------------------------

From: lair@kimbark.uchicago.edu (Scott A. Laird)
Subject: Re: Ultrastor driver
Reply-To: lair@midway.uchicago.edu
Date: Tue, 21 Sep 1993 00:40:47 GMT

In article <CDoEAr.7t0@ra.nrl.navy.mil> eric@tantalus.nrl.navy.mil (Eric Youngdale) writes:

>       Apparently the 24f card is not supported with the distribution
>kernel, so I am not too concerned about people with that card right
>now.  I am more interested in hearing about people with 14f and 34f
>cards, and whether there are any cases where the ALPHA driver fails to
>work properly while the driver in the distribution kernel works
>correctly.

I haven't used the ALPHA Ultrastor driver, but I've been having some
fairly substantial problems with the driver in the first 0.99pl13
ALPHA.  I Just repartitioned my 500 Mb Fujitsu, and 

1)  Apparently the Ultrastor has an off-by-one error in the code that
    determines the translation mode that the BIOS uses.  It
    incorrectly reported 497 cylinders, instead of 496.

2)  It died whenever I tried to mke2fs thae drive, when I was using
    the wrong setting.  I got a 'scsi0: reseting for second half of
    retries' message, and the process hang, and would not die, even
    with kill -9.  I get the same message 7 times at startup (only
    with this ALPHA, pl12 is fine.), but the system still works. 
    When I rebooted with pl12, I got many error messages (syslogd
    wasn't running, but they were basically messages saying I was
    reading off the end of the drive.  I then noticed the problem with
    the cylinder count, and was able to format the drive.

I'm not really comfortable hacking with the SCSI drivers, mostly since
I'm having troubles backing up, and I don't really want to lose
things.

On a better note, using the srawread utility, I get 2241274 bytes/sec
(at 64k) off this drive with the Ultrastor.  I can't find my drive
docs, but that should be close to the drive's limit.  I tried dd'ing
from /dev/sda, and I only got ~800k, so I wrote a program that took
three arguments and read x byte chunks y times from file z.  I got
1046KB/sec from /dev/sda reading 16k blocks, and ~700k/sec from a
large contiguous file on the same device (ext2fs).

My 200 MB WD2200 (IDE) got 1135KB/sec on the same test, and peaked at
1286KB/sec at 64k.  The SCSI drive should be far faster, but is still
slower in higher level tests.  If I had a good program for tweaking
the cache mode pages, I could probably get it going faster, but I
don't.  Any suggestions?

Scott.
-- 
Scott A. Laird            |  "But this goes to 18,446,744,073,709,551,615"
lair@midway.uchicago.edu  |                - Nigel on his 64-bit computer
The University of Chicago |  

------------------------------

Crossposted-To: comp.os.os2.programmer.misc,comp.os.minix,comp.periphs,comp.unix.bsd,comp.unix.pc-clone.32bit,comp.sys.ibm.pc.hardware,comp.sys.ibm.ps2.hardware
From: db@diana.ocunix.on.ca (Dyane Bruce)
Subject: Re: Test of the Intel 8254 shut-down/parity-check command
Date: Mon, 20 Sep 1993 16:34:01 GMT

In article <1993Sep20.101341.15898@rcvie.co.at> lan_lada@rcvie.co.at (Marino Ladavac) writes:
>I have to confess that the name of one Jesus Monroy Jr. has broken the 
>virginity seal of my *global* kill file.
>

ditto.
  But, it's too bad that he still costs people *money*. e.g. I'm a leaf
uucp only node...

  Why doesn't he just set up a mailing list if he insists so many
people want to read his drivel?

  Hmm. Global kill file at uunet _before_ his posts gets onto uucp sites
that don't want him, and costs them money. Could be done in the batcher...

  Well, I like the idea.... :-)

-- 
Dyane Bruce                             db@diana.ocunix.on.ca
29 Vanson Ave. Nepean On, K2E 6A9       So who first started the tradition of
613-225-9920                            putting witty sayings in sigs anyway?

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
