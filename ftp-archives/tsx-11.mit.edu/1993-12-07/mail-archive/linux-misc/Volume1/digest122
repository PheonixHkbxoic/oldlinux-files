From:     Digestifier <Linux-Misc-Request@senator-bedfellow.mit.edu>
To:       Linux-Misc@senator-bedfellow.mit.edu
Reply-To: Linux-Misc@senator-bedfellow.mit.edu
Date:     Sat, 11 Sep 93 15:13:14 EDT
Subject:  Linux-Misc Digest #122

Linux-Misc Digest #122, Volume #1                Sat, 11 Sep 93 15:13:14 EDT

Contents:
  C++ translator? (John Peter Brzezniak)
  Re: Bash 1.13.cwru (beta) available for Linux (Brandon S. Allbery)
  swap speed: file vs. partition (Lindsay Patten)
  Re: swap speed: file vs. partition (Rich)
  Re: bind() is broken (Michael O'Reilly)
  Re: swap speed: file vs. partition (Mark Lord)
  Re: *** Commercial app developer and Linux! *** (Joe Buck)
  *** PLEASE READ THIS BEFORE POSTING *** (misc-2.04) (Ian Jackson)
  Colorado tapesSummary:  (J.J. Paijmans)
  Re: bind() is broken (Olaf Titz)
  col.admin - what for ? Re: IT WORKS! e2fsck now marks root CLEAN! (Ian Jackson)
  gated where to find it ? (BARRY TITMARSH)
  Re: Does Local Bus video card help Xfree display faster? (Jon Tombs)
  Re: SLIP & Site... (Charles Hedrick)
  Where to find Alpha's and Beta's of Linux and XFree?? (Kent A Vander Velden)
  Re: *** Commercial app developer and Linux! *** (David Jeske)
  Re: Where's the PostScript stuff for groff? (Andreas Klemm)
  Re: *** Commercial app developer and Linux! *** (Michael K. Johnson)

----------------------------------------------------------------------------

From: jb7026@eehpx11 (John Peter Brzezniak)
Crossposted-To: comp.os.linux,comp.os.linux.help
Subject: C++ translator?
Date: 11 Sep 1993 03:17:45 GMT

Is there a C++ translator for linux like CC which translate C++ source
code to C source code? CC uses cpp, cfront, and cc for preprocessing,
syntax and type checking, and codegeneration respectively.

I don't see any utilities like this for linux. The reason i need CC is
for debugging code with UPS which has just been ported to linux. I've gotton
very used to UPS and would like to keep on using it. I've debugged
C++ code generated with CC with UPS and its harder than straightforward C
code but its still better than xxgdb IMHO. UPS cannot debug C++ code
generated by linux C++ compilers. It crashes every time one wants to
access a class. If CC for linux does not exist then are there any other
debuggers other than xxgdb, xgdb for debugging using X11?

Thanks
        John 


------------------------------

From: bsa@kf8nh.wariat.org (Brandon S. Allbery)
Subject: Re: Bash 1.13.cwru (beta) available for Linux
Date: Sat, 11 Sep 1993 03:01:35 GMT

In article <CD58GI.94r@haapi.mn.org> clay@haapi.mn.org (Clayton Haapala) writes:
>In article <1993Sep10.004311.28165@kf8nh.wariat.org> bsa@kf8nh.wariat.org (Brandon S. Allbery) writes:
>>Shared text, remember.  If even one interactive bash is running, you will
>>*save* memory by letting scripts run the same binary, because they'll share
>>the parts of the text they both use.  Use a separate /bin/sh and things like
>>the command parser *won't* be shared because they came from different
>>binaries, which will result in *wasting* memory.
>>
>And, isn't it demand-paged, as well?  The pages with readline, etc. likely
>won't even be loaded to run a script.  The fact that they might be in memory
>because I just happen to be typing on a console doesn't matter.

Right --- but because it didn't matter I didn't mention it.  I actually said
something about it in my first draft, but removed it before posting.

++Brandon


-- 
Brandon S. Allbery         kf8nh@kf8nh.ampr.org          bsa@kf8nh.wariat.org
"MSDOS didn't get as bad as it is overnight -- it took over ten years
of careful development."  ---dmeggins@aix1.uottawa.ca

------------------------------

From: lindsay@cybervision.uucp (Lindsay Patten)
Subject: swap speed: file vs. partition
Date: Fri, 10 Sep 1993 21:38:04 GMT

In article <26n50a$j8m@kruuna.Helsinki.FI> wirzeniu@kruuna.Helsinki.FI (Lars Wirzenius) writes:
|>X).  If yours are significantly slower, there might be something wrong
|>in your setup.  Are your swaps files or partitions?  Partitions are
|>much faster. 

Is this true?  How much faster is "much faster"?

Thanks,
        Lindsay

------------------------------

From: rich@isr0004.urh.uiuc.edu (Rich)
Subject: Re: swap speed: file vs. partition
Date: 11 Sep 1993 03:52:30 GMT

lindsay@cybervision.uucp (Lindsay Patten) writes:

>In article <26n50a$j8m@kruuna.Helsinki.FI> wirzeniu@kruuna.Helsinki.FI (Lars Wirzenius) writes:
>|>X).  If yours are significantly slower, there might be something wrong
>|>in your setup.  Are your swaps files or partitions?  Partitions are
>|>much faster. 

>Is this true?  How much faster is "much faster"?

>Thanks,
>       Lindsay

i used to have 4 meg ram, so swap was necessary to run X
and i would say that a partition is nearly twice as fast..

===========================================================================
Richard A. Nuttle                       Internet: Richnut@uiuc.edu
"I'll do it tomorrow...."               NeXT: ran59961@sumter.cso.uiuc.edu
"or maybe the next day.."               Bitnet: FREE3277@UIUCVMD
===========================================================================

------------------------------

From: oreillym@tartarus.uwa.edu.au (Michael O'Reilly)
Subject: Re: bind() is broken
Date: 11 Sep 1993 03:55:31 GMT

Olaf Titz (uknf@rzstud1.rz.uni-karlsruhe.de) wrote:
: Just wondering why my tredir suddenly stopped working, I found out
: following really annoying kernel bug: if bind() on a given port # is
: called by root, it will assign an arbitrary port #, like when it is
: called with port 0. It won't bind the intended port but rather some
: other (making things worse, it will happily pick that from the
: privileged port numbers).

This is very strange. I haven't seen this behaviour, and I run slap
exclusively as root (and did run term as root).

Bugs I HAVE seen. If you 
        server: bind()
        client: connect()
        server: close() /* yes. close. no accept */

the port # is dead. You can't re-bind it, and you can't connect to it.
Pretty bad is the port # is something like smtp or nntp.


: This only happens when called as root. An ultra-quick look at the
: source seems to tell me that I'm right and some checks on the port
: numbers are commented out and/or marked as "buggy". Apparently the bug
: is carried over from at least the 0.99.9 version, i.e. from the Net-1
: version...  (But now we have netstat to see it...)

: Anyone working on that problem?

: Olaf

: -- 
:         olaf titz     o       olaf@bigred.ka.sub.org          praetorius@irc
:   comp.sc.student    _>\ _         s_titz@ira.uka.de      LINUX - the choice
: karlsruhe germany   (_)<(_)      uknf@dkauni2.bitnet     of a GNU generation

Michael.


------------------------------

From: mlord@bnr.ca (Mark Lord)
Subject: Re: swap speed: file vs. partition
Date: 11 Sep 93 05:13:30 GMT

In article <1993Sep10.213804.18966@cybervision.uucp> lindsay@cybervision.uucp writes:
>In article <26n50a$j8m@kruuna.Helsinki.FI> wirzeniu@kruuna.Helsinki.FI (Lars Wirzenius) writes:
>|>X).  If yours are significantly slower, there might be something wrong
>|>in your setup.  Are your swaps files or partitions?  Partitions are
>|>much faster. 
>
>Is this true?  How much faster is "much faster"?

From a quick peck at the code, perhaps 300% or better.
The prime difference being in ll_rw_blk.c, where the two kinds of paging
requests get translated into block-device (disk) requests.  A single page
request for a swap partition generates a single disk action to move 8 sectors.
A similar swap-file request generates *four* disk actions for 2 sectors each.

Eventually I may have a shot at improving that code, including adding a means
of gathering adjacent paging requests into fewer disk requests.

Another possible optimization is to change the way disk requests are ordered
in the request queue.  Most paging seems to consist of a request to READ a 
page followed shortly by a WRITE to the same address on disk.  The current
IN_ORDER macros ensure that these requests get scattered about in sequence,
rather than being done together.  More head movement.  Slower system response.

For example, try this patch to ll_rw_blk.c under a heavy paging load
(run startx and then two copies of xboard, each playing itself):

--- ll_rw_blk.c.pl13    Sat Aug 14 23:47:22 1993
+++ ll_rw_blk.c Fri Sep 10 23:07:24 1993
@@ -114,20 +114,26 @@
                return;
        }
        for ( ; tmp->next ; tmp = tmp->next) {
-               if ((IN_ORDER(tmp,req) ||
-                   !IN_ORDER(tmp,tmp->next)) &&
-                   IN_ORDER(req,tmp->next))
+#define ABSVAL(a) (((a)>=0)?(a):(0-a))
+               /* we could do this even better if we had dev->cur_sector */
+               if (tmp->dev == req->dev && tmp->next->dev == req->dev) {
+                       int cur_sector = tmp->sector + tmp->nr_sectors - 1;
+                       int next_delta = cur_sector - tmp->next->sector;
+                       int req_delta  = cur_sector - req->sector;
+                       if ( ABSVAL(req_delta) < ABSVAL(next_delta) )
+                               break;
+               } else if (tmp->next->dev > req->dev)
                        break;
        }
        req->next = tmp->next;

-- 
mlord@bnr.ca    Mark Lord       BNR Ottawa,Canada       613-763-7482

------------------------------

From: jbuck@synopsys.com (Joe Buck)
Subject: Re: *** Commercial app developer and Linux! ***
Date: Sat, 11 Sep 1993 00:52:14 GMT

mark@taylor.uucp (Mark A. Davis) writes:
>SimCity has been available for some versions of Unix for quite some time.

What's more, its GUI is built on top of Tcl/Tk.  An earlier version used
(boo, hiss) NeWS.



-- 
-- Joe Buck     jbuck@synopsys.com
Posting from but not speaking for Synopsys, Inc.
Formerly jbuck@<various-hosts>.eecs.berkeley.edu

------------------------------

From: ijackson@nyx.cs.du.edu (Ian Jackson)
Subject: *** PLEASE READ THIS BEFORE POSTING *** (misc-2.04)
Date: Sat, 11 Sep 1993 10:03:00 GMT

Please do not post questions to comp.os.linux.misc - read on for details of
which groups you should read and post to.

If you have a question about Linux you should get and read the Linux Frequently
Asked Questions with Answers list from sunsite.unc.edu, in /pub/Linux/docs, or
from another Linux FTP site.

In particular, read the question `You still haven't answered my question!'
The FAQ will refer you to the Linux HOWTOs (more detailed descriptions of
particular topics) found in the HOWTO directory in the same place.

Then you should consider posting to comp.os.linux.help - not
comp.os.linux.misc.

Note that X Windows related questions should go to comp.windows.x.i386unix, and
that non-Linux-specific Unix questions should go to comp.unix.questions.
Please read the FAQs for these groups before posting - look on rtfm.mit.edu in
/pub/usenet/news.answers/Intel-Unix-X-faq and .../unix-faq.


Comments on this posting are welcomed - please email me !
--
Ian Jackson  <ijackson@nyx.cs.du.edu>  (urgent email: iwj10@phx.cam.ac.uk)
35 Molewood Close, Cambridge, CB4 3SR, England;  phone: +44 223 327029

------------------------------

Crossposted-To: comp.os.linux.help,comp.os.linux.admin
From: paai@kub.nl (J.J. Paijmans)
Subject: Colorado tapesSummary: 
Date: Sat, 11 Sep 93 09:53:09 GMT

Hi.
I have seen fleeting allusions to the use of Colorado tape drives
on this thread, but I don't seem to be able to find my answers among
them.
The question is:
"is it possible to use my colorado-clone, using DC2120 tapes
in QIC-80 format and connected to the floppy-controler, under
Linux? (and how to go about it)"
Don't flame immediatly: I already tried to find the answers in FAQs
etc...
Paai.



------------------------------

From: uknf@rzstud1.rz.uni-karlsruhe.de (Olaf Titz)
Subject: Re: bind() is broken
Date: 11 Sep 1993 13:52:08 GMT

In article <26ri7j$mfr@uniwa.uwa.edu.au>,
Michael O'Reilly <oreillym@tartarus.uwa.edu.au> wrote:
> Olaf Titz (uknf@rzstud1.rz.uni-karlsruhe.de) wrote:

> : other (making things worse, it will happily pick that from the
> : privileged port numbers).

Correcting myself, it will pick unprivileged ports but they remain
bogus... 

> This is very strange. I haven't seen this behaviour, and I run slap
> exclusively as root (and did run term as root).

Perhaps it depends on the kernel version. I run 99.12 (not exactly
sure *which* 99.12 :-/ but it has no "alpha" in it) , and I only
suspect that 99.9 had similar problems.

> Bugs I HAVE seen. If you 
>       server: bind()
>       client: connect()
>       server: close() /* yes. close. no accept */
> the port # is dead. You can't re-bind it, and you can't connect to it.

Urx. What is the effect on the clients side? It should get a
connection refused error, right?

I have had similar problems with dead ports after a term session in
99.9, but I'd hoped they would go away in the net2 version... 

Another twist: I accidentally typed tredir 2301 2301, which (no
surprise) caused an endless loop upon connection attempt, but after
killing the offending term and tredir two connections (ESTABLISHED and
TIME_WAIT, with port 2301 at the local and the remote end,
respectively) remained and did not go away until reboot.

Olaf


-- 
        olaf titz     o       olaf@bigred.ka.sub.org          praetorius@irc
  comp.sc.student    _>\ _         s_titz@ira.uka.de      LINUX - the choice
karlsruhe germany   (_)<(_)      uknf@dkauni2.bitnet     of a GNU generation
what good is a photograph of you? everytime i look at it it makes me feel blue

------------------------------

Crossposted-To: comp.os.linux.admin
From: iwj10@cus.cam.ac.uk (Ian Jackson)
Subject: col.admin - what for ? Re: IT WORKS! e2fsck now marks root CLEAN!
Date: Fri, 10 Sep 1993 17:55:40 GMT

In article <HJSTEIN.93Sep9103650@sunrise.huji.ac.il>,
Harvey J. Stein <hjstein@sunrise.huji.ac.il> wrote:
>
>(Please forgive me for having also posted this to col.help also, but
>the discussion has been on both lists.)

Don't worry about it.  I have yet to see someone explain what
col.admin is for.

Should one post an admin question (which well over half of the
questions are) to .help or .admin ?  Should one post about Linux
development in .admin or .development ?

I said this during the RFD but they ignored me ...

Crossposed to and followups to col.misc.
-- 
Ian Jackson, at home  <ijackson@nyx.cs.du.edu> or <iwj10@cus.cam.ac.uk>
PGP2 public key available on server.  Urgent email: <iwj10@phx.cam.ac.uk>
2 Lexington Close, Cambridge, CB4 3LS, England;  phone: +44 223 64238

------------------------------

Date: Sat, 11 Sep 1993 10:23:30 CET
From: BARRY TITMARSH <BTITMARS@ESOC.BITNET>
Subject: gated where to find it ?

Hi .. Im looking for the
gated daemon for linux any ftp site where to find it please
Thanks.
Barry.

------------------------------

From: jon@robots.ox.ac.uk (Jon Tombs)
Subject: Re: Does Local Bus video card help Xfree display faster?
Date: Sat, 11 Sep 1993 16:28:54 GMT

In article <1993Sep10.102608.25270@doug.cae.wisc.edu> wdj@vlsidsp.ece.wisc.edu (Duen-Jeng (D-J) Wang) writes:
>
>I am looking for a PC to run Linux/X. In order to do the best
>investment, I have a naive question below (if it is FAQ, please
>point me the place for answer). 
>
>If my memory is correct, Linux was developed for ISA bus and 
>before the time of major popularity of local bus. I remember
>somewhere in June's version FAQ said EISA won't help improve
>the performance of Linux. I am wondering whether the latest
>XFree can take the advantage from some of the so-called
>window-accelerated video cards and makes display faster?

Localbus will accelarate dumb video cards greatly, in the test I've done
a localbus video card on a 496/33 can do between 36 and 44 500x500 8 bit
pixmaps per second. A fast (13Mhz) ISA bus will do about 16.  I've used at
three S3/805 localbus machines. Two (a Dan and an SMC (UK brands)) both got
the 36 an Opus got 44.

IO seems to be a different matter. Of the three I've had access to the Opus
was about the same speed as an ISA bus - the Dan and SMC were about 50%
slower.  As the S3 does all its accelarated commands using IO, this make the
two slow IO localbus machines be about 30% slower in xstones than the ISA
machines.  It is possible the ALPHA Xfree86-2.0 is doing something wrong but
my only guess is that some localbus machines either halt the processor or
wait many cycles during the IO recovery period and hence reduce thoughput.
If somebody can explain the apparent slowness of IO on some machines please
email me - I'd love to know it is avoidable.

Localbus video cards also have the advantage that they can map the entire
video ram linearly into the high 32bit address space. This would make porting
most /dev/fb based code pretty easy and when it is used would speed up graphics
operations over the banked ISA cards.

Jon

------------------------------

From: hedrick@geneva.rutgers.edu (Charles Hedrick)
Subject: Re: SLIP & Site...
Date: 11 Sep 93 17:41:19 GMT

sg@slip-c13.cis.ufl.edu (Synthetic Genius) writes:

>MTU to 276, and continued to recieve some [but not nearly as much]
>fragmentation, when accessing specific services. It turns out that
>all the services now that cause fragmentation are UDP protcol services:
>nslookup, archie client, fsp, etc.  Anyone have any idea why? Anyway,

Setting the MTU low fixes TCP, because TCP negotiates the maximum
package size.  Thus the other end knows you've got a small MTU and
acts appropriately.  UDP doesn't do this.  So if some service you are
using needs to send a packet longer than 276, you lose.  There's no
complete solution other than fixing Linux TCP/IP.  Fragmentation is
not optional -- TCP/IP implementations are required to support it.
Linux' TCP/IP is broken.  If you're lucky you'll be able to find
an MTU that is large enough to handle any UDP packets you need but
small enough not to trigger fragmentation for TCP.  I'd try 1000.

------------------------------

From: graphix@iastate.edu (Kent A Vander Velden)
Subject: Where to find Alpha's and Beta's of Linux and XFree??
Date: Sat, 11 Sep 1993 18:01:42 GMT

Where does one turn when they are willing to try the unknown Alpha's and Beta's
of this wonderful operating system.  I have not seen them at most of the
larger Linux FTP sites (or am I looking in the wrong place). 


                                
                                                thanks,
                                                Kent Vander Velden
                                                graphix@iastate.edu
                                                kvander@ins.infonet.net



------------------------------

From: djeske@chameleon.uiuc.edu (David Jeske)
Subject: Re: *** Commercial app developer and Linux! ***
Date: 11 Sep 1993 18:23:08 GMT
Reply-To: jeske@ux4.cso.uiuc.edu

In article <26qpliINN1f0@no-names.nerdc.ufl.edu> kem@prl.ufl.edu (Kelly  
Murray) writes:
>> In article <JOHNSONM.93Sep9214636@calypso.oit.unc.edu>,  
johnsonm@calypso.oit.unc.edu (Michael K. Johnson) writes:
>> |> 
>> |> In article <m8suuiINNdij@exodus.Eng.Sun.COM> david.spott@Eng.Sun.COM  
(Dave Spott) writes:
>> |>       This is an excellent opportunity to validate Linux as a viable  
OS.  I'm
>> |>    not saying that a port of one commercial game/simulation is the  
defining
>> |>    metric by which viable OS's are judged, but this could be the  
first step
>> |>    in getting other 3rd party vendors to notice Linux.
>> |> 
>> |> Simcity is not the only one.  I will be changing jobs in a while, to  
a
>> |> company with a *sharp* X11 product.  They want to port it to Linux,  
if
>> |> the user base is there.  I'm considering doing the port for free, to
>> |> show that there are people willing to buy it, and then if enough
>> |> people buy it, my work will have been justified.
>> |> 
>> 
>> Which version of Linux will SimCity or your product be ported to?
>> 
>> -Kelly Murray

I certainly love SimCity. However, ANY product like SimCity which was
available for Linux, I would be more than willing to buy AT LEAST
one copy of it. More for "political reasons". I love freeware as much
as the next buy, but I find nothing wrong with Commercial software and
feel it's a much needed part of any computing environment.

I woud certainly want to reward those companies who choose to break the
"invisible wall" of commercial software for linux by purchasing the  
products they offered. Mind you I do not have unlimited funds, like alot of  
you I'm sure, but the companies must be "told" that there is a market in  
Linux before they will produce the app that YOU want for it. I think those  
who are interested in seeing a wealth of commercial software would be well  
advised to consider this as well.

David Jeske
jeske@ux4.cso.uiuc.edu

------------------------------

Crossposted-To: comp.os.linux.admin,comp.os.linux.help
From: andreas@knobel.knirsch.de (Andreas Klemm)
Subject: Re: Where's the PostScript stuff for groff?
Date: Sat, 11 Sep 1993 18:17:57 GMT

rick@ee.uwm.edu (Rick Miller) writes:

>I've got all the nifty groff stuff that came with the SLS-1.03, but it
>doesn't seem to include a directory needed by "groff" to produce PostScript
>output.  The error I get is:

>       gtroff: can't open `DESC'
>       gtroff: fatal error: sorry, I can't continue

>I looked around with "find" and have deduced that I need a directory called
>"/usr/lib/groff/font/ps" (which would contain the file DESC, among others).

So it's in SLS 1.03 not included, too ????  Two Releases after 1.01 ???

My advice ... complain about that to Peter Mc Donald
sls                  pmacdona@sanjuan.uvic.ca (Peter MacDonald)

I didn't do that, 'cause I recompiled it myself ... and groff-1.08
works perfectly now for me ...
-- 
/-\       Andreas Klemm   <andreas@knobel.knirsch.de>      +-----------------+
|@|########################################################-@ "pay for it !" |
\-/   41469 Neuss     Germany     phone +49/ 2137 12609    +-----------------+

------------------------------

From: johnsonm@calypso.oit.unc.edu (Michael K. Johnson)
Subject: Re: *** Commercial app developer and Linux! ***
Date: 11 Sep 1993 18:51:55 GMT


In article <26qpliINN1f0@no-names.nerdc.ufl.edu> kem@prl.ufl.edu (Kelly Murray) writes:
   Which version of Linux will SimCity or your product be ported to?

   -Kelly Murray

I'm not sure what you mean by this question.  The current version at
the time, I imagine, and it should keep working as Linux versions
progress.

Do you mean "SLS or MCC or <foo> or <bar>"?  In that case, I explain:
It doesn't matter!  It is the kernel that matters -- the distribution
is (or at least should be...) just the utilities that come with a
kernel.  The port I'm talking about should work on a properly
configured Linux system, whether it is put out by MCC, DEBIAN,
Linux/PRO, Purple, or even SLS (modified to work, of course. Grrrr.)

Which question were you asking, and was your question answered?

michaelkjohnson

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Misc-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.misc) via:

    Internet: Linux-Misc@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Misc Digest
******************************
