From:     Digestifier <Linux-Misc-Request@senator-bedfellow.mit.edu>
To:       Linux-Misc@senator-bedfellow.mit.edu
Reply-To: Linux-Misc@senator-bedfellow.mit.edu
Date:     Tue, 26 Oct 93 18:13:13 EDT
Subject:  Linux-Misc Digest #245

Linux-Misc Digest #245, Volume #1                Tue, 26 Oct 93 18:13:13 EDT

Contents:
  New channel on niksula : PPP (Patrick Naubert)
  Re: Optimizing Swap Space (Steef S.G. de Bruijn)
  Re: Optimizing Swap Space (Steef S.G. de Bruijn)
  Re: SLS flaming <yawn> ! (Andrej Bauer)
  Re: TeX (xdvi) with SLS (Chris Flatters)
  Re: Help with SLIP...please! (Nick Simicich)
  Re: SLIP (Nick Simicich)
  Compiling reduced kernel with LGX (Grant Edwards)
  Linux file system for OS/2: info requested (Jeff Garzik)
  Re: CDrom loadable/runable linux (Alex Freed)
  Re: Bogomip (Jongyoon Lee)
  Re: Compiling reduced kernel with LGX (Randy Suess)
  Bug in Term 1.0.7 (with a fix) (esa@cyclone.atl.ga.us)
  Re: compare after backup nesecery ? (Bill Heiser)
  Re: Optimizing Swap Space (Andrew McGregor)

----------------------------------------------------------------------------

From: naubertp@cognos.COM (Patrick Naubert)
Subject: New channel on niksula : PPP
Date: Tue, 26 Oct 1993 14:26:30 GMT

**** Announcing the PPP channel ****

Following the number of posts in the c.o.l.* groups about the
availability of the Point-to-Point Protocol on Linux, we have
decided to create a channel that will discuss the porting/
programming/testing of a Linux implementation of PPP.

This channel was created on niksula.hut.fi (the same machine
as the "NORMAL" linux mailing list) and can be subscribed to
by sending an Email to linux-activists-request@niksula.hut.fi
and include the following line in the body of the message :

X-Mn-Admin: join PPP

The main players for now will be Ian Wells, as the main
code-guru/protocol-expert, and me (Patrick Naubert) as the
main coordinator of the effort (I offer no other skills than
an obsession with rock-climbing :-) ).

Ian and I will be posting on the channel directly in the next few
days.

Please subscribe now and show your interest !


Patrick Naubert
naubertp@cognos.com  or
root@qube.ocunix.on.ca

------------------------------

From: debruijn@cs.utwente.nl (Steef S.G. de Bruijn)
Subject: Re: Optimizing Swap Space
Reply-To: debruijn@cs.utwente.nl
Date: Tue, 26 Oct 1993 15:10:05 GMT

About swap space...

Sun claims that swap space should be at least the amount of RAM available.
I even use four times the size of swap. (8MB RAM, 32MB SWAP)

Normally this space is not used, but if your system is truly multi-user, and everyone stays logged in (locking their displays) all the time, this swapspace will be used for dumping their processes.

So swapspace is not just for extending your active RAM. As is claimed, that is
just too slow, and should happen only in emergency cases.
Normally SWAP is used only for dumping non-active processes.

Steef.
---
S.G. de Bruijn
Twente University of Technoloy, Dept. of Computer Science 
E-Mail: debruijn@cs.utwente.nl
                                  #####
                                 /     \
                                <  o o  >
                                 |  C  |
Stevie "SpikerJack" de Bruijn  /--\___/--\
                              /     |o    \
                             / /|   |o  |\ \
                            / / |   |o  | \ \
                            --  |   |o  |  --
                                ---------

Planning is a difficult thing... Using Linux is not!



------------------------------

From: debruijn@cs.utwente.nl (Steef S.G. de Bruijn)
Subject: Re: Optimizing Swap Space
Reply-To: debruijn@cs.utwente.nl
Date: Tue, 26 Oct 1993 15:36:13 GMT

About swap space...

Sun claims that optimal swap space should be minimal the amount of RAM installed.
I even have 4 times my RAM available as SWAP (8M RAM, 32M SWAP)

If swap-space is used for "running" processes, this should be an emergency case.
If it is not, you need more RAM, because, as is stated before, SWAP as RAM is verrrry slow.

Swap should be used for dumping processes that are inactive, for example when
multiple people are not working but are logged in (and propably have locked their displays).

So, if you are the only available user, AND you do not do very much at the same time,
then you won't need much SWAP, if your HD capacity is low. Oherwise, you
probably should set up much SWAP, because it won't harm you.

Steef
---
S.G. de Bruijn
Twente University of Technoloy, Dept. of Computer Science 
E-Mail: debruijn@cs.utwente.nl
                                  #####
                                 /     \
                                <  o o  >
                                 |  C  |
Stevie "SpikerJack" de Bruijn  /--\___/--\
                              /     |o    \
                             / /|   |o  |\ \
                            / / |   |o  | \ \
                            --  |   |o  |  --
                                ---------

Planning is a difficult thing... Using Linux is not!



------------------------------

From: Andrej.Bauer@ijs.si (Andrej Bauer)
Subject: Re: SLS flaming <yawn> !
Date: 26 Oct 93 15:42:12 +0100

> : Though SLS has had its share of problems, which Linux distribution has
> : been has been flawless?  Once I ran through the setups and finally a basic
> : understanding about Unix/Linux began to dawn, things worked just fine. 
> 
> : What do people want for nothing?  Perfection? 
> 
> : Apparently.

No. But we have the right to point out that something has been done
badly, don't we? I expect even people from Softlanding are happy to hear
what is wrong with their distribution (well, perhaps it's not fair to
say that there are Aleph_0 bugs in it :-).

GNU software is perfection for nothing.

> I have to agree.  I have had nowhere near as many problems with SLS or Linux
> as I see people whining about.  Reading manals and reading the posts here daily
> certainly helps.  Many people are too reilant on 'plug -n- play' programs and
> just aren't ready to have to get in there, dig a little bit and learn something.

I have to disagree. I guess you just haven't noticed all those 'features'
and 'bugs'. I am not a newbie in Unix at all, and in my opinion SLS
distribution gives one a rather badly configured Unix. I dig quite a bit
and have learned a lot this way, yet, there are still things in SLS
that puzzle me.

Only yesterdat I noticed a file /dev/ttys3 (not /dev/ttyS3!),
which was 80kb long, had time stamp from April 1993, and was a plain
file (not a 'device driver'). Since I bought my computer in August,
I guessed this file came together with SLS. Now, that is a small nuisance,
isn't it? Could someone check if they have the same file?

I also have this problem with 'lpd', which is probably not connected
with SLS distribution. My lpd runs, but doesn't want to print anything.
When I put something in print queue with 'lpr', I have to kill lpd and
run it again. Then it prints the file. I have to do so for every file.
I saw a description of this problem somewhere, but no solution.

Hmm, perhaps all this belongs to comp.os.linux.help. Sorry.
(e-mail any suggestion, I'll post a summary in comp.os.linux.help).

Andrej

===================
Andrej.Bauer@IJS.si

------------------------------

From: cflatter@nrao.edu (Chris Flatters)
Subject: Re: TeX (xdvi) with SLS
Reply-To: cflatter@nrao.edu
Date: Tue, 26 Oct 93 15:47:17 GMT

In article 18643@infodev.cam.ac.uk, tjrc1@mbfs.bio.cam.ac.uk (Tim Cutts (Zoology)) writes:
>The version of xdvi that came with the SLS used to have buttons, but since I
>defected to the MCC distribution, I wouldn't know now.  I have tried to find
>xdvi sources for the version with buttons, but have so far been unsuccessful...
>anyone know where they are?

        ftp.x.org:/contrib/xdvi+selfile.pl16.tar.Z

Or your nearest X mirror site

        Chris Flatters
        cflatter@nrao.edu



------------------------------

From: njs@watson.ibm.com (Nick Simicich)
Subject: Re: Help with SLIP...please!
Date: Tue, 26 Oct 1993 14:15:54 GMT

In article <2a6uoc$ge5@senator-bedfellow.MIT.EDU> dpjunk@mmm.com writes:
>I have slip up and running to a node at work.  I can telnet, ping,
>ftp, etc to this node, but only this node.  Whenever I try any other
>node in our network, it hangs (telnet, ping, ftp).  I have my name
>server pointing to the node at work and nslookup works fine.  Anybody
>have any ideas?  If you need more information, please tell me.
>
>Kernel 99.p11
>Net 2 code
>
>Output from ifconfig:
>lo        IP ADDR 127.0.0.1  BCAST 127.255.255.255  NETMASK 255.255.255.0
>          MTU 2000  METRIC 0  POINT-TO-POINT ADDR 0.0.0.0
>          FLAGS: 0x0049 ( UP LOOPBACK RUNNING )
>
>sl0       IP ADDR 130.99.231.100  BCAST 130.99.231.255  NETMASK 255.255.255.0
>          MTU 296  METRIC 0  POINT-TO-POINT ADDR 130.99.231.4
>          FLAGS: 0x0053 ( UP BROADCAST POINTOPOINT RUNNING )
>
>Output from route:
>default                   bulldog.mmm.com           UGN        0     98 sl0
>localhost                 *                         UH         0      0 lo
>
>My linux node is 130.99.231.100(grumpy) and the node I am connected to is 
>130.99.231.4(bulldog).

Hmmm..offhand, I'd say that either the machine at work needs to proxy
arp for you, or you need to get on a different subnet and have routing
for your subnet set up to point to that machine.  Assuming that your
netmasks are universal at ffffff00, the other machines on 130.99.231.0
don't know to route to your slip connection unless the slip connection
proxy-arps for you on your ethernet.

If this isn't it, show us the results of an arp query on bulldog and a
netstat -r on bulldog.

Nick Simicich
njs@watson.ibm.com

------------------------------

From: njs@watson.ibm.com (Nick Simicich)
Subject: Re: SLIP
Date: Tue, 26 Oct 1993 14:23:12 GMT

In article <2a7c1o$kai@senator-bedfellow.MIT.EDU> dpjunk@mmm.com writes:
>Has anybody had SLIP running for more than 8 hours?  It seems that at the
>6 hour mark, it becomes so slow that it is un-usable.  Any help would
>be appreciated.

I've run SL/IP for over 24 hours, with no noticable degredation.  Our
SL/IP server doesn't speak the same compressed SL/IP that Linux does, so
I'm using it in uncompressed mode.  The connection was from BSD/RT to a
Linux 99PL13 on a 486 using USR V.32 BSD modems and a standard dial-up
line.  Run 'top' to see if there is anything else eating you up, or if
you are running out of memory.

Nick Simicich
njs@watson.ibm.com

------------------------------

From: grante@aquarius.rosemount.com (Grant Edwards)
Subject: Compiling reduced kernel with LGX
Date: Tue, 26 Oct 1993 15:36:37 GMT

I just finished re-compiling the 0.99.13 kernel sources that come with
the LGX distribution.  I ran into a few snags along the way, but did
get it to compile after editting some kernel sources, and creating 
a symbolic link to get the right autoconfig.h file included.

Why did I have to make these source code changes?  Did LGX ship broken
kernel sources or do all 0.99.13 kernels have the following problems:

1) /usr/include/linux/autoconfig.h is used instead of 
   /usr/src/linux/include/linux/autoconfig.h

2) hosts.c won't compile if you configure without IN2000 support

3) fs.o won't link if you configure with /proc fs support

4) sbpcd.c won't compile if you configure without SB-Pro CD-ROM support

What follows are the details on the above four problems (in case anybody
cares):

========================================================================
autoconfig.h

When I did the make the /usr/include/linux include files were used
instead of the /usr/src/linux/include/linux files, which is fine
except for autoconfig.h which is placed in the latter directory by
a "make config."

So, I created a symbolic link:

/usr/include/linux/autoconfig.h -> /usr/src/linux/include/autoconfig.h

There were a also few source files that I had to change to get them to
compile.

========================================================================
hosts.c

The hosts.c file won't compile if you don't configure IN2000 SCSI
controller support.  There are a few lines of code that reference
in2000_detect (or something like that).  I had to put an #ifdef around
them.

========================================================================
fs.o

Won't link if you configure /proc filesystem support.  I don't know if
there are source files missing or what.  I reconfigured for no /proc
support.

========================================================================
sbpcd.c  

(memory of exact file name is kind of fuzzy, but it's the file that
implements SB-pro CD-ROM SCSI support.)

If you disable sound-blaster pro CD-ROM support, the file doesn't
compile.  It contains lines something like

#ifndef CONFIG_SOUNDBLASTER_CDROM
#error "reconfigure with soundblaster cd-rom support"
#endif

(I don't have access to my source files, so the above isn't exact.

I ifdef'd almost everything in that file after the #include <linux/config.h>

========================================================================

--
Grant Edwards                                 |Yow!  Once, there was NO
Rosemount Inc.                                |fun...  This was before MENU
                                              |planning, FASHION statements
grante@rosemount.com                          |or NAUTILUS equipment...
                                              |Then, in 1985..  FUN was
                                              |completely encoded in this
                                              |tiny MICROCHIP..  It contain
                                              |14,768 vaguely amusing
                                              |SIT-COM pilots!!  We had to
                                              |wait FOUR BILLION years but
                                              |we finally got JERRY LEWIS,
                                              |MTV and a large selection of
                                              |creme-filled snack cakes!

------------------------------

From: gtd543a@acme.gatech.edu (Jeff Garzik)
Subject: Linux file system for OS/2: info requested
Date: 26 Oct 93 06:01:47 GMT
Reply-To: gtd543a@prism.gatech.edu

[ Article crossposted from comp.os.linux,comp.os.linux.development ]
[ Author was Jeff Garzik ]
[ Posted on 26 Oct 93 05:59:53 GMT ]

I am considering writing an OS/2 IFS that would read linux partitions
natively.  Unfortunately, I don't run linux and don't know where the
source code for the most commonly used filessystem is.

I would appreciate it if anyone can direct me to the filesystem source
code and any accompanying document.

Thanks!

(Follow-ups directed to e-mail b/c I don't read these newsgroups)
--
Money is the root of all evil, and man needs roots

--
Finagle's Creed:
        Science is true.  Don't be misled by facts.

------------------------------

From: freed@europa.orion.adobe.com (Alex Freed)
Subject: Re: CDrom loadable/runable linux
Date: Tue, 26 Oct 1993 18:50:31 GMT


I have found the Trans-Ameritech Linux plus CDROM to answer most of my
prayers. It has both SLS and Slackware distributions plus uncompressed
filesystems that can be used directly. It supports SB based CDROMS too.
Send email to roman@Trans-Ameritech.com for more info.

--
 _______________________________________________________
| -Alex Freed (The opinions expressed are my own.       |                   
|               However everyone is entitled to them.)  |                   
| freed%adobe.com@uucp-gw-1.pa.dec.com                  |
 -------------------------------------------------------

------------------------------

From: mr2@netcom.com (Jongyoon Lee)
Subject: Re: Bogomip
Date: 26 Oct 93 18:09:26 GMT

Elmar Folba (elmar@gulasch.hanse.de) wrote:

> Remember, folks, that in mass production the properties of the goods produced
> follow some distribution - within specified limits. In the market we are
> talking about you can expect those limits to be pretty wide, too: I'd
> consider 5% off the nominal value still pretty normal.
> Therefore, if you wonder about BogoMips(tm), try Norton Utilities'
> SYSINFO: you'll be surprised about the differences you'll get betweeen
> not only identical processor chips, but motherboards of the same brand, etc.

> I won't bother you with neither BogoMips(tm) nor the SYSINFO value of my
> 386/40.

I agree completely.  I was tweaking BIOS setup the other day since my
486DX2-66 showed only 32.7 bogo mips, and I managed to bring up bogo mips
rating to 33.5!  But when I booted to DOS and ran sysinfo, CPU benchmark
dropped from ~120 to ~90.  
Very weird.


Jongyoon

-- 


+---------------------------+-----------------------------------------------+
|       Jongyoon Lee        |    _/_/        _/             _/_/            |
| University of California  |  _/  _/       _/            _/  _/            |
|        Los Angeles        |     _/       _/            _/  _/             |
|     Computer Science      |    _/       _/    _/_/_/  _/  _/    _/_/_/    |
|    jong@seas.ucla.edu     |   _/       _/   _/    _/  _/_/    _/     _/   |
|   jong@soldev.tti.com     |  _/      _/_/  _/         _/     _/     _/    |
|      mr2@netcom.com       |   _/_/_/_/  _/_/ _/_/_/_/_/ _/_/_/ _/_/_/ _/  |
+---------------------------+-----------------------------------------------+

------------------------------

From: randy@chinet.chinet.com (Randy Suess)
Subject: Re: Compiling reduced kernel with LGX
Date: Tue, 26 Oct 1993 19:21:36 GMT

In article <1993Oct26.153637.13378@rosevax.rosemount.com>,
Grant Edwards <grante@aquarius.rosemount.com> wrote:
>I just finished re-compiling the 0.99.13 kernel sources that come with
>the LGX distribution.  I ran into a few snags along the way, but did
>get it to compile after editting some kernel sources, and creating 
>a symbolic link to get the right autoconfig.h file included.
>3) fs.o won't link if you configure with /proc fs support
>------------------------------------------------------------------------
>fs.o
>
>Won't link if you configure /proc filesystem support.  I don't know if
>there are source files missing or what.  I reconfigured for no /proc
>support.
>

        The install program didn't copy some files.  Do a mkdir
        /usr/src/linux/fs/proc and copy the files off the cdrom
        from the same directory into the newly made directory.
        I have no idea how they get forgotten.

-- 
        They stand on a wall, and say: 
        "Nothing is gonna hurt you tonite.  Not on my watch"

Randy Suess                                      randy@chinet.chinet.com

------------------------------

Crossposted-To: comp.sources.bugs,comp.unix.misc
From: esa@cyclone.atl.ga.us
Subject: Bug in Term 1.0.7 (with a fix)
Date: Tue, 26 Oct 1993 20:15:58 GMT

Term 1.0.7 harbors an integer overflow bug in its time update routine.  
Because of the bug the code stopped working effective today, and will 
start working again in approximately three years (!).

A crude hack to fix the bug:

*** misc.c.orig Tue Oct 26 15:53:14 1993
--- misc.c      Tue Oct 26 15:55:42 1993
***************
*** 13,18 ****
--- 13,22 ----
    struct timeval t;
    extern int bytes_left;
    long old_time = current_time;
+   static long timefix = -1;
+ 
+   if (timefix < 0)
+       timefix = time(NULL);
    
  #ifdef SVR4
    gettimeofday(&t);
***************
*** 19,25 ****
  #else
    gettimeofday(&t, (struct timezone *) 0 );
  #endif
!   current_time = t.tv_sec * 20 + t.tv_usec / 50000;
    
    bytes_left += (((current_time - old_time) * baudrate) / 200);
    if (bytes_left > (baudrate/10)) bytes_left = (baudrate/10);
--- 23,29 ----
  #else
    gettimeofday(&t, (struct timezone *) 0 );
  #endif
!   current_time = (t.tv_sec - timefix) * 20 + t.tv_usec / 50000;
    
    bytes_left += (((current_time - old_time) * baudrate) / 200);
    if (bytes_left > (baudrate/10)) bytes_left = (baudrate/10);
-- 
Esa Ahola       esa@cyclone.atl.ga.us / emory!cyclone!esa / CIS:70012,2753

------------------------------

From: bill@bhhome.ci.net (Bill Heiser)
Subject: Re: compare after backup nesecery ?
Date: Tue, 26 Oct 1993 00:49:39 GMT

ej@pumuckel.gun.de (Elmar Jansen) writes:

>I'm baccking up my hard-disk on a SCSI-Streamer with the cpio
>command. Is there a way to check if everything on the tape is ok ?


Well you can at least verify that the tape is readable to the extent
that you can list files (and their attributes) .. "cpio -itcvB < /dev/st0".
You could also capture the last name inthat list, restore it to a temporary
directory, and do a checksum, comparing it with the original version of
the file still on disk.

I normally verify to the extent of re-reading the tape (getting a directory
listing), and use that listing as the "backup journal file".

-- 
Bill Heiser   bill@bhhome.ci.net       heiser@world.std.com

------------------------------

From: physadm@phys.canterbury.ac.nz (Andrew McGregor)
Subject: Re: Optimizing Swap Space
Date: Tue, 26 Oct 1993 21:26:52 GMT

Steef S.G. de Bruijn (debruijn@cs.utwente.nl) wrote:
: About swap space...

: Sun claims that swap space should be at least the amount of RAM available.
: I even use four times the size of swap. (8MB RAM, 32MB SWAP)

: Normally this space is not used, but if your system is truly
multi-user, and everyone stays logged in (locking their displays) all
the time, this swapspace will be used for dumping their processes.

On a multi-user sun where people use lots of X-terminals, 4x physical in
swap is very dangerous; that system WILL thrash if too many people expose
windows at the same time... we've had one take many minutes to recover.
Linux running X + background jobs will probably have the same problem.

: So swapspace is not just for extending your active RAM. As is claimed, that is
: just too slow, and should happen only in emergency cases.
: Normally SWAP is used only for dumping non-active processes.

And freeing up RAM for caches for this that and the other, and paging
out inactive portions of tasks. But, 3x physical memory is about the
limit.

: Steef.
: ---
: S.G. de Bruijn
: Twente University of Technoloy, Dept. of Computer Science 
: E-Mail: debruijn@cs.utwente.nl

--
Andrew McGregor,
Physics, University of Canterbury, Christchurch, New Zealand.
adm@phys.canterbury.ac.nz

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Misc-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.misc) via:

    Internet: Linux-Misc@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Misc Digest
******************************
