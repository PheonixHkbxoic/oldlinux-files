From:     Digestifier <Linux-Misc-Request@senator-bedfellow.mit.edu>
To:       Linux-Misc@senator-bedfellow.mit.edu
Reply-To: Linux-Misc@senator-bedfellow.mit.edu
Date:     Sat, 28 Aug 93 11:13:09 EDT
Subject:  Linux-Misc Digest #65

Linux-Misc Digest #65, Volume #1                 Sat, 28 Aug 93 11:13:09 EDT

Contents:
  Re: [TAPE] Sankyo / Archive / Summit (Steve Sheldon)
  Re: NT versus Linux (Nathan Silva)
  Re: High speed modems & Linux (Bill Heiser)
  Re: High speed modems & Linux (Bill Heiser)
  Re: WABI available on Linux or not (Bob Amstadt)
  *** PLEASE READ THIS BEFORE POSTING *** (misc-2.01) (Ian Jackson)
  Stacker-like Compression? (Edward Galarza)
  Re: "Spying" on ttyS0 (Steve VanDevender)
  Re: WABI available on Linux or not (Arthur Tateishi)
  Re: NT versus Linux (Charles Hedrick)
  Re: Anyone got **UPS DEBUGGER** working for LINUX (FireStorm/DarkStar II)
  Re: Seyon where ? (FireStorm/DarkStar II)
  Re: High speed modems & Linux (John Henders)
  Re: High speed modems & Linux (Seng-Poh Lee, Speedy)
  ATI 28800-6 100 column mode (Mark Buckaway)
  GNU tar buggy - here is a patch (wasRe: BACKUP:  tar or cpio?) (Ian Jackson)
  SLS considered harmful (wasRe: Bashing Peter MacDonald) (Ian Jackson)

----------------------------------------------------------------------------

From: sheldon@iastate.edu (Steve Sheldon)
Subject: Re: [TAPE] Sankyo / Archive / Summit
Date: Sat, 28 Aug 1993 03:28:33 GMT

In <CCFqCy.ErI@oea.hobby.nl> dan@oea.hobby.nl writes:
>- SCSI based Sankyo tapestreamer for about $450. 250 MB capacity.
>- SCSI based Archive ""          for about $600. 525 MB capacity. (includes
>  an Adaptec SCSI controller, which I don't need).

 I believe either of these two should work fine.  You can get the Archive
2150S SCSI streamer for around $350-400.  I've also most recently seen them
used for around $200.

>- IDE based Summit tapestreamer for about $350. 300 MB capacity.

 I truely doubt this one will work.

-- 
sheldon@iastate.edu                                Steve Sheldon
#insert "standard disclaimer"                      Iowa State University

------------------------------

Crossposted-To: comp.os.ms-windows.advocacy
From: nathans@pacifier.rain.com (Nathan Silva)
Subject: Re: NT versus Linux
Date: Fri, 27 Aug 1993 17:18:08 GMT

In article <CCBJIv.1B4@beeble.omahug.org> walker@beeble.omahug.org (Art Walker) writes:
>muts@compi.hobby.nl (Peter Mutsaers) writes:
>>Not lynch mob of everything, but yes indeed against Microsoft, because
>>they are evil and want to strangle us all with a monopoly; every
>>computer user with some moral should resist this.
>
>But why bother?  In general, Microsoft products are so horridly *bad* that as
>time goes on, they will collaspe under the weight of their own incompetence.

Yeah, like Microsoft Word!  What a piece of junk.  How did it ever manage
to be the number one Mac WP for the last eight years?

Or, that worthless program Excel, that, just by sheer accident manages to
be the number one spreadsheet for Mac and Windows.

Or Visual Basic -- who needs that?

>- Art
>
>-- 
>Art Walker, Somewhere In Iowa           |            walker@beeble.omahug.org
>This message made from 25% or more post-consumer recycled plastic.

-- 
 Nathan Silva (nathans@pacifier.rain.com)
 Vancouver, Washington, USA
 Data is not information is not knowledge is not wisdom.

------------------------------

From: heiser@bumetb.bu.edu (Bill Heiser)
Subject: Re: High speed modems & Linux
Date: 28 Aug 1993 03:58:29 GMT
Reply-To: heiser@bumetb.bu.edu (Bill Heiser)

In article <25blk2$d7m@agate.berkeley.edu> dancy@uclink.berkeley.edu (Ahmon Dancy) writes:
>UUCP isn't really a good way to test transfer times.

Why not?  If UUCP is what I'm doing, then that's what I want to time!
A V32bis modem does LOTS better than 800CPS on other unix systems.



------------------------------

From: heiser@bumetb.bu.edu (Bill Heiser)
Subject: Re: High speed modems & Linux
Date: 28 Aug 1993 04:03:00 GMT
Reply-To: heiser@bumetb.bu.edu (Bill Heiser)

In article <25cqq3$jq9@hdxu03.telecom.ptt.nl> arthur@ptt-iat.uucp (Arthur Donkers) writes:
>
>Did you _really_ connect at 14k4 from UUCP ? Your feed may be using a slower
>modem than yours !. Furthermore, did you enable v42bis (MNP5) ? While
>transfering ASCII this might be a large benefit, on binary (compressed)
>data this is not a real improvement (still better than nothing though).
>Where did you connect to from DOS ? The same node or someplace else ?

Naw, the modems I connect to at that remote site are all at least 14.4K.
When I ran ESIX, I got more like 1200CPS at at that same site.  When
I transfer files from there using DOS, even in WINDOWS, from that same
site, I get about 1600CPS.  The file I was transferring was a compressed
tarfile.

>It might even be that you have small packet size enabled on your UUCP (g
>protocol with 64 byte packets). This incurs a large overhead and thus
>reduces the effective throughput. This overhead might also explain the
>amount of CPU used by uucico.

Interesting possibility.  I am using the uucp in its default
configuration as "delivered out of the box" from SLS 1.03, Linux
.99P12.

-Bill

------------------------------

From: bob@amscons.com (Bob Amstadt)
Subject: Re: WABI available on Linux or not
Date: Sat, 28 Aug 1993 03:21:00 GMT

In <25loku$3t3@europa.eng.gtefsd.com> niemidc@oasis.gtefsd.com (David C. Niemi) writes:

>In article 93Aug27090637@mafalda.ime.usp.br, am@ime.usp.br (Arnaldo Mandel) writes:
>>In article <xtifrCCEto9.MMo@netcom.com> xtifr@netcom.com (Chris Waters) writes:
>>
>>> For those of us in the user community, the threat of Microsquishy
>>> winning their appeal to have the word "Windows" trademarked is mostly
>>> irrelevant.  But perhaps the Linux group should consider calling their
>>> version of Wabi "WAW" ("WAW ain't Windows(tm)").  This would preserve
>>> the grand old tradition of recursive acronyms, and would also be a good
>>> nose-thumbing at the sorry gits in Redmond.
>>
>>WAW!
>>
>>I hope the Wine team takes the suggestion seriously.

>How about "Wine Is Not an Emulator"?

My orignal line of thinking was "winemu", but I didn't like that.  Then
I thought of shortening it to "wine".  This led me to think of "whine"
and "whinny".  I liked "whine", but felt that it was too long.
-- 
Bob Amstadt
bob@amscons.com

------------------------------

From: ijackson@nyx.cs.du.edu (Ian Jackson)
Subject: *** PLEASE READ THIS BEFORE POSTING *** (misc-2.01)
Date: Sat, 28 Aug 1993 04:23:01 GMT

Please do not post questions to comp.os.linux.misc.

If you have a question about Linux you should get and read the Linux Frequently
Asked Questions with Answers list from sunsite.unc.edu, in /pub/Linux/docs, or
from another Linux FTP site.

In particular, read the question `You still haven't answered my question!'

Then you should consider posting to comp.os.linux.help - not
comp.os.linux.misc.

Note that X Windows related questions should go to comp.windows.x.i386unix.
The FAQ for this group is available on rtfm.mit.edu in
/pub/usenet/news.answers/Intel-Unix-X-faq.


Comments on this posting are welcomed - please email me !
--
Ian Jackson  <ijackson@nyx.cs.du.edu>  (urgent email: iwj10@phx.cam.ac.uk)
35 Molewood Close, Cambridge, CB4 3SR, England;  phone: +44 223 327029

------------------------------

Subject: Stacker-like Compression?
From: Edward Galarza <LENBC@CUNYVM.BITNET>
Date: Friday, 27 Aug 1993 21:24:41 EDT

Hi folks,

Is there a stacker-like on the fly disk compression software
for Linux?  I'm running out of disk space real quick.



                                                       Edward Galarza/2 2.1
                                                           Brooklyn College
                                                City University of New York
                                                      Lenbc@cunyvm.cuny.edu
                                                        Lenbc@cunyvm.bitnet


------------------------------

From: stevev@miser.uoregon.edu (Steve VanDevender)
Subject: Re: "Spying" on ttyS0
Date: 27 Aug 93 22:45:26

In article <25bqu5INN6d4@uwm.edu> zak@csd4.csd.uwm.edu
(Zachary S Smith) writes:

   I run a dial-in system, and most of my users are new to unix.  Is there any
   way I can assign, say, tty8 to look like the remote user's screen?  I just
   need a way to see if they are floundering, so I can give them a hand.

The TTY driver doesn't even try to keep track of the state of the
user's screen.  The best you can do is monitor their current
input and output.  You can't hope to see exactly what they are
seeing at the moment.  The problem comes mostly from the user
being able to use any of a huge number of terminal types; the TTY
driver would have to be able to understand any of those terminal
control sequences in order to keep track of a current screen
image.  This is the kind of problem nobody feels like tackling.
--
Steve VanDevender       stevev@greylady.uoregon.edu
"Bipedalism--an unrecognized disease affecting over 99% of the population.
Symptoms include lack of traffic sense, slow rate of travel, and the
classic, easily recognized behavior known as walking."

------------------------------

From: ruhtra@turing.toronto.edu (Arthur Tateishi)
Subject: Re: WABI available on Linux or not
Date: 28 Aug 93 06:20:55 GMT

In article <CCE1D4.85q@boulder.parcplace.com> imp@boulder.parcplace.com (Warner Losh) writes:
>In article <25iv0s$f8h@usenet.INS.CWRU.Edu>
>ag173@cleveland.Freenet.Edu (Jason Hitesman) writes: 
>>to call the project Windows Application Binary Interface Technology.  That
>>way they could call it WABIT...
>
>Kill the wabbit, kill the wabbit.  Just think of the marketing gimmoks
>that Microsoft could use if it was called that :-)

Yup. Bill could buy up Warner Bros. and remake the classic Elmer Fudd
cartoons saying "ooo, I'll get you, you wascally WABIT!" and have a
likeness of Bob and the rest of the Wine crew. Bill would make sure
Elmer wins.

Of course, we would all know who _really_ wins in the end.

arthur

-- 
"The first fact to face is that UNIX was not developed with security, in any
reliable sense, in mind; this fact alone guarantees a vast number of holes."
    -- "On the Security of UNIX", Dennis M. Ritchie
Arthur Tateishi                 ruhtra@turing.utoronto.ca

------------------------------

From: hedrick@geneva.rutgers.edu (Charles Hedrick)
Subject: Re: NT versus Linux
Date: 28 Aug 93 07:01:22 GMT

jcburt@gats486.larc.nasa.gov writes:

>Ummm...perhaps I'm being a little dense here, but *why* would you want
>to have *any* UNIX running as a subsystem of Windows NT? For some reason
>that just doesn't make a whole lot of sense to me. The *primary* advantage
>of Windows NT is the Windows applications available for it. This you could
>accomplish via something along the lines of the Sun Wabi product. The other
>conceptual problem is running a *multi-user* subsystem under a *single-user*
>system. 

NT is actually a multi-user system.  In a full-scale installation,
there can be a user on the console doing window-ish things, an SQL
server, network file service, and if Microsoft's idea of client-server
catches on, user-written servers for client-server applications.

It's being marketed as single-user, and there seem to be some
utilities missing (e.g.  an incoming telnetd).  But as far as the
internal mechanisms all the necessary stuff is there.  It's pretty
clear that you'll see telnetd and login fairly soon from third
parties, at which point it will be effectively multiuser.  They are
set up to do authentication for multiple simultaneous users.  They
have to do this to handle things like their SQL server.  The sense in
which it isn't multi-user is that they don't supply the software to
handle more than one interactive user.

I think Wine is a good idea.  But while that may be practical for
normal Windows, I think NT is going to be too complex to handle that
way (though win32s should be possible, and probably most normal user
applications will be written to that rather than the full win32).

My ideal setup would be a microkernel, with a commercial system and
Linux running side by side as equals.  Then you can run commercial
software without having to spend lots of time continually reverse
engineering a changing world, but you've still got a system you can
use for hacking that's under your control.  NT isn't exactly a
microkernel, but it's got at least some of the same properties.  It is
designed specifically to support multiple API's running on top of it.
If IBM really does OS2 under Mach, that might be a better target.

------------------------------

Subject: Re: Anyone got **UPS DEBUGGER** working for LINUX
From: jina@satyrs.       (FireStorm/DarkStar II)
Date: 28 Aug 93 00:40:33 PDT

In article <CCF073.K38@autelca.ascom.ch> nbladt@autelca.ascom.ch (Norbert Bladt) writes:
>iyer@npg-sd.SanDiegoCA.NCR.COM (Rajappa Iyer) writes:
>
>>In <ben.746268165@mardo> ben@cs.uwa.oz.au (Ben Robbins) writes:
>
>>>UPS surely has to be the best C debugger available for X windows, not
>>>having it under Linux really detracts from all the great work that is
>>>being done here, especially as (as I've already said) IT WORKS UNDER
>>>386BSD.
>
>>I think the original author (I'm sorry, I forget his name) was
>>working on using the bfd library which gdb uses. Then it would work
>>on all platforms that bfd supports.
>Yes, but it's has not been done, obviously.
>
>>Actually, I am surprised to hear that ups is working under 386BSD.
>>My impression was that it was too closely tied to the SPARC
>>architecture. Who did the port? Any reasons why bfd wasn't used?
>I won't take the credit for "porting" it to 386BSD, because I "just compiled"
>it and it worked. That's it.
>And, I can tell you, it's VERY NICE to work with.
>
>Come on, Linux MUST be better than 386BSD, somebody should do the port,
>I am waiting for it :-) :-)
>No O/S war again, please.
>I know the differences between 386BSD, NetBSD and Linux well enough to do
>my own decision. It wouldn't be 386BSD any more, now.
>
>Norbert.
>P.S.
>Is the Zorn-shell (zsh) available on Linux ? It was easily "ported" (ah,
>configured and compiled) on SunOS, 386BSD and even SVR4 (Unisys == Convergent ?)
>but NOT on ISC V.3 Rel. 4.0
>-- 
>Norbert Bladt, Ascom Autelca AG, Worbstr. 201, CH-3073 Guemligen, Switzerland
>Phone: +41 31 999 65 52                        FAX: +41 31 999 65 44
>Mail: nbladt@autelca.ascom.ch   UUCP: ..!uunet!mcsun!chsun!hslrswi!aut!nbladt

Zsh compiled without any problems on Linux. Go get it .... :)

Jina



------------------------------

Subject: Re: Seyon where ?
From: jina@satyrs.       (FireStorm/DarkStar II)
Date: 28 Aug 93 00:44:25 PDT

In article <2779@rc1.vub.ac.be> rherzog@dec5.ulb.ac.be (Robert Herzog) writes:
>I read that Seyon is a nice comms package under Linux. Where can I find this ?

You can find it at Sunsite.

Jina



------------------------------

From: jhenders@jonh.wimsey.bc.ca (John Henders)
Subject: Re: High speed modems & Linux
Date: Sun, 29 Aug 1993 07:10:36 GMT


heiser@bumetb.bu.edu (Bill Heiser) writes:

>In article <25blk2$d7m@agate.berkeley.edu> dancy@uclink.berkeley.edu (Ahmon Dancy) writes:
>>UUCP isn't really a good way to test transfer times.

>Why not?  If UUCP is what I'm doing, then that's what I want to time!
>A V32bis modem does LOTS better than 800CPS on other unix systems.

    UUCP is quite fast for me under linux. Here's the result of uurate
for the last 24 hours here. This is with a USR dual standard 14,400 

Remote  ------- Bytes -------- --- Time ---- -- Avg CPS -- -- Files --
Host      Rcvd    Sent   Total   Rcvd   Sent   Rcvd   Sent  Rcvd  Sent
======== ======= ======= ======= ====== ====== ====== =========== =====
van-bc      2.5M   63.6K 2597.1K  00:29  00:01 1444.6  851.5   134    80
    
-- 
John Henders       GO/MU/E d* -p+ c+++ l++ t- m--- s/++ g+ w+++ -x+

------------------------------

From: splee@pd.org (Seng-Poh Lee, Speedy)
Subject: Re: High speed modems & Linux
Date: 28 Aug 1993 13:36:32 GMT


> Well I just tried a UUCP transfer of an 800kb file using a Hayes
> 14.4K modem ... and only averaged 700cps.  Not good, since with he

Try uucp using the 'f' protocol. You'll see significant improvements on your
transfer speed. No point acking every packet, when your modem has MNP or
V.42 error correction.

--
Seng-Poh Lee    <splee@pd.org>

------------------------------

From: mark@datasoft.north.net (Mark Buckaway)
Subject: ATI 28800-6 100 column mode
Date: Fri, 27 Aug 1993 22:32:33 GMT

I have had a fair number of requests for this information. This is a
small "patch" to the linux/boot/setup.S file to allow your 28800-5,
28800-6, or mach32 cards to do 100 column modes. These text modems are
seem to be undocumented and may not work on all cards. (NOTE: Some
Graphics ULTRA's and some Graphics VANTAGE's have the 28800-5 or -6
on them)

Before you rebuild you kernel, type this in under DOS (not DOSEMU):

install 21
  or
vinstall 21

If you get an error, they you cannot do it. Like I said, this is
undocumented from what I have seen in the ATI programming manuals.
I figured it out by playing with the vinstall and install programs.
The 18800 and 28800-1,-2,-4 chips don't seem to support it.

Here is the info:

Modify these lines in  linux/boot/setup.S

moati:          .byte   0x06,   0x23, 0x33, 0x22, 0x21 

dscati:         .word   0x5032, 0x501c, 0x8419, 0x842c, 0x641e, 0x6419


You can now use the 100 modes by adding the
-DSVGA_MODE=4 to your Makefile for 100x30 and
-DSVGA_MODE=5 for 100x25.

Have fun!
Mark
--
Mark Buckaway            | "UNIX and OS/2 are operating systems,
DataSoft Communications  |  Windows is a pitiful shell,
System Administrator     |  DOS is an installible virus."
root@datasoft.north.net  |  
uunorth!datasoft!root    | ======================================

------------------------------

From: ijackson@nyx.cs.du.edu (Ian Jackson)
Subject: GNU tar buggy - here is a patch (wasRe: BACKUP:  tar or cpio?)
Date: Fri, 27 Aug 1993 20:10:33 GMT

In article <1993Aug27.032201.2076@kf8nh.wariat.org> bsa@kf8nh.wariat.org (Brandon S. Allbery) writes:
>Unfortunately, tar won't restore the right ownerships unless the password file
>is intact, because it records user and group names instead of uids and gids;
>and the only option I've seen to change this (in the SLS version of tar, at
>least) also prevents it from backing up device nodes.  So if you boot from the
>a1 disk and restore yoru backup to the hard drive, everything ends up owned by
>root.  :-(

This is a bug in GNU tar, which I reported, with a fix, to
gnu.utils.bug in February.  Since then one more version of tar came
out, which didn't include a fix.  I reported the bug again in June.

The good news is that the actual uid/gids are stored in the archive,
but are just being ignored when extracting.

I don't know when the FSF are going to get their act together and
release a working version.  Documentation would be nice as well ...

I enclose the patches (relative to FSF GNU tar 1.11.2) I used to
generate the working version of tar, which I use for my backups.  It
worked last time I trashed my disk and had to do a restore :-), but I
don't guarantee it, of course.  My emergency floppy hasn't got an
/etc/passwd or /etc/group.


diff -u tar-1.11.2/ChangeLog tar-1.11.2-mine/ChangeLog
--- tar-1.11.2/ChangeLog        Thu Mar 25 18:54:56 1993
+++ tar-1.11.2-mine/ChangeLog   Wed Jun 23 01:07:02 1993
@@ -1,3 +1,22 @@
+Wed Jun 23 00:55:39 BST 1993  Ian W Jackson  (ijackson@nyx.cs.du.edu)
+
+       * list.c, names.c: Fixed bug which extracted files with wrong
+          ownership if there were names in the archive but the
+          user/group names couldn't be mapped to uids. It used to use
+          the extractor's IDs, now it uses the numeric IDs from the
+          archive.
+
+       * list.c, names.c, create.c, tar.c, tar.h: Added a new
+          --numeric-owner option which allows (ANSI) archives to be
+          written without user/group name information or such
+          information to be ignored when extracting.
+
+        * create.c: Fixed bug which could cause uname/gname to fail to
+          be cleared when the names are not available. Ensured that
+          the new default linkflag of LF_NORMAL and the ANSI magic
+          number are used when writing ANSI archives even if NONAMES
+          is set at compile-time.
+
 Thu Mar 25 13:32:40 1993  Michael I Bushnell  (mib@geech.gnu.ai.mit.edu)
 
        * version.c: Released version 1.11.2.
Only in tar-1.11.2-mine: ChangeLog~
Only in tar-1.11.2-mine: Makefile
Only in tar-1.11.2-mine: config.status
diff -u tar-1.11.2/create.c tar-1.11.2-mine/create.c
--- tar-1.11.2/create.c Thu Mar 25 18:32:31 1993
+++ tar-1.11.2-mine/create.c    Wed Jun 23 01:00:28 1993
@@ -1289,16 +1289,22 @@
       to_oct ((long) st->st_ctime, 1 + 12, header->header.ctime);
     }
 
-#ifndef NONAMES
+  header->header.uname[0] = '\0';
+  header->header.gname[0] = '\0';
   /* Fill in new Unix Standard fields if desired. */
   if (f_standard)
     {
       header->header.linkflag = LF_NORMAL;     /* New default */
       strcpy (header->header.magic, TMAGIC);   /* Mark as Unix Std */
-      finduname (header->header.uname, st->st_uid);
-      findgname (header->header.gname, st->st_gid);
-    }
+#ifndef NONAMES
+      if (!f_nonames)
+        {
+          finduname (header->header.uname, st->st_uid);
+          findgname (header->header.gname, st->st_gid);
+        }
 #endif
+    }
+      
   return header;
 }
 
Only in tar-1.11.2-mine: create.c~
diff -u tar-1.11.2/list.c tar-1.11.2-mine/list.c
--- tar-1.11.2/list.c   Tue Mar 16 19:56:01 1993
+++ tar-1.11.2-mine/list.c      Wed Jun 23 01:00:27 1993
@@ -461,18 +461,16 @@
       *stdp = 1;
       if (wantug)
        {
-#ifdef NONAMES
          st->st_uid = from_oct (8, header->header.uid);
          st->st_gid = from_oct (8, header->header.gid);
-#else
-         st->st_uid =
-           (*header->header.uname
-            ? finduid (header->header.uname)
-            : from_oct (8, header->header.uid));
-         st->st_gid =
-           (*header->header.gname
-            ? findgid (header->header.gname)
-            : from_oct (8, header->header.gid));
+#ifndef NONAMES
+          if (!f_nonames)
+            {
+              if (*header->header.uname)
+                finduid (header->header.uname, &st->st_uid);
+              if (*header->header.gname)
+                findgid (header->header.gname, &st->st_gid);
+            }
 #endif
        }
 #if defined(S_IFBLK) || defined(S_IFCHR)
Only in tar-1.11.2-mine: list.c~
diff -u tar-1.11.2/names.c tar-1.11.2-mine/names.c
--- tar-1.11.2/names.c  Fri Sep 18 19:45:08 1992
+++ tar-1.11.2-mine/names.c     Wed Jun 23 01:07:02 1993
@@ -74,28 +74,26 @@
   strncpy (uname, saveuname, TUNMLEN);
 }
 
-int
-finduid (uname)
+void
+finduid (uname, uidp)
      char uname[TUNMLEN];
+     uid_t *uidp;
 {
   struct passwd *pw;
   extern struct passwd *getpwnam ();
 
-  if (uname[0] != saveuname[0] /* Quick test w/o proc call */
-      || 0 != strncmp (uname, saveuname, TUNMLEN))
+  if (uname[0] == saveuname[0] /* Quick test w/o proc call */
+      && 0 == strncmp (uname, saveuname, TUNMLEN))
+    {
+      *uidp = saveuid;
+      return;
+    }
+  pw = getpwnam (uname);
+  if (pw)
     {
+      saveuid = *uidp = pw->pw_uid;
       strncpy (saveuname, uname, TUNMLEN);
-      pw = getpwnam (uname);
-      if (pw)
-       {
-         saveuid = pw->pw_uid;
-       }
-      else
-       {
-         saveuid = myuid;
-       }
     }
-  return saveuid;
 }
 
 
@@ -122,28 +120,26 @@
 }
 
 
-int
-findgid (gname)
+void
+findgid (gname, gidp)
      char gname[TUNMLEN];
+     gid_t *gidp;
 {
   struct group *gr;
   extern struct group *getgrnam ();
 
-  if (gname[0] != savegname[0] /* Quick test w/o proc call */
-      || 0 != strncmp (gname, savegname, TUNMLEN))
+  if (gname[0] == savegname[0] /* Quick test w/o proc call */
+      && 0 == strncmp (gname, savegname, TUNMLEN))
     {
+      *gidp = savegid;
+      return;
+    }
+  gr = getgrnam (gname);
+  if (gr)
+    {
+      savegid = *gidp = gr->gr_gid;
       strncpy (savegname, gname, TUNMLEN);
-      gr = getgrnam (gname);
-      if (gr)
-       {
-         savegid = gr->gr_gid;
-       }
-      else
-       {
-         savegid = mygid;
-       }
     }
-  return savegid;
 }
 
 #endif
Only in tar-1.11.2-mine: names.c~
diff -u tar-1.11.2/tar.c tar-1.11.2-mine/tar.c
--- tar-1.11.2/tar.c    Wed Mar 17 15:30:46 1993
+++ tar-1.11.2-mine/tar.c       Wed Jun 23 01:07:01 1993
@@ -143,6 +143,7 @@
   {"preserve", 0, 0, 10},
   {"same-order", 0, &f_sorted_names, 1},
   {"same-owner", 0, &f_do_chown, 1},
+  {"numeric-owner", 0, &f_nonames, 1},
   {"preserve-order", 0, &f_sorted_names, 1},
 
   {"newer", 1, 0, 'N'},
@@ -735,6 +736,7 @@
 -s, --same-order,\n\
     --preserve-order   list of names to extract is sorted to match archive\n\
 --same-owner           create extracted files with the same ownership \n\
+--numeric-owner                don't dump or extract user/group names; use numbers\n\
 -S, --sparse           handle sparse files efficiently\n\
 -T, --files-from F     get names to extract or create from file F\n\
 --null                 -T reads null-terminated names, disable -C\n\
Only in tar-1.11.2-mine: tar.c~
diff -u tar-1.11.2/tar.h tar-1.11.2-mine/tar.h
--- tar-1.11.2/tar.h    Tue Mar 16 20:31:39 1993
+++ tar-1.11.2-mine/tar.h       Wed Jun 23 01:00:28 1993
@@ -224,6 +224,7 @@
 TAR_EXTERN int f_exclude;      /* -X */
 TAR_EXTERN char *f_compressprog;       /* -z and -Z */
 TAR_EXTERN int f_do_chown;     /* --do-chown */
+TAR_EXTERN int f_nonames;      /* --numeric-owner */
 TAR_EXTERN int f_totals;       /* --totals */
 TAR_EXTERN int f_remove_files; /* --remove-files */
 TAR_EXTERN int f_ignore_failed_read;   /* --ignore-failed-read */
Only in tar-1.11.2-mine: tar.h~
-- 
Ian Jackson  <ijackson@nyx.cs.du.edu>  (urgent email: iwj10@phx.cam.ac.uk)
35 Molewood Close, Cambridge, CB4 3SR, England;  phone: +44 223 327029
PGP2 public key on request; fingerprint = 5906F687 BD03ACAD 0D8E602E FCF37657

------------------------------

From: ijackson@nyx.cs.du.edu (Ian Jackson)
Subject: SLS considered harmful (wasRe: Bashing Peter MacDonald)
Date: Fri, 27 Aug 1993 20:24:41 GMT

In article <1993Aug27.024517.19825@VFL.Paramax.COM> eds@VFL.Paramax.COM (Ed Skladany) writes:
>
>It's amazing that some people keep bashing Peter MacDonald for problems
>with SLS.  SLS is not a perfect release, but it is the release responsible
>for getting thousands of people started with Linux, including me.  For this,
>we owe Peter our gratitude.  His product must have taken a lot of work, but
>it's effectively free for the asking.  The simple installation of Linux
>is something that can always be improved upon, but Peter made it happen.

I'm one of the people that `keep bashing Peter MacDonald'.

I have to say that I think that all the criticisms of SLS that have
been made recently have been perfectly reasonable and well-justified.
Most of the support seems to be coming from (with all due respect)
people new to the Unix community who are probably not always aware
when things go wrong and what the problem is when they do.

I'm surprised it has taken this long for people to really start to
complain; I suppose it must be the fact that the increasing size of
the user community makes it harder to continually answer the questions
that are generated by poorly put together and poorly documented
software.

We have seen plenty of very elementary mistakes made with SLS, and
then released on the unsuspecting world at large.  IMHO someone who
makes that kind of mistake regularly is not enough of a Unix expert to
administer a major system, let alone put together a release for other
people.

I am grateful to Peter for being willing to put in the effort, but
when all's said and done I have to say that IMO the Linux community
might have been better off if he hadn't; perhaps the MCC release would
have carried on across the gap, or someone else would have taken up
the mantle.

>Lighten up, grouches.  If you're willing to devote the time to produce your
>own binary Linux distribution that's better than SLS, then you have a right to
>complain.

Unfortunately some of us don't have the disk space for that kind of
thing.  I would probably make the time to do something about it,
otherwise.  MCC is a very good starting point; from the experiences
I've had with going to see other people's Linux installations locally
(often resulting in curses after 5 minutes or so) it is almost always
a better idea for even a complete newbie to put together their system
by untarring a bunch of separate packages over the top of MCC.

>Otherwise, just describe the problem objectively and keep the 
>childish remarks to yourself.

I don't recall anybody having made any childish remarks.  In any case,
if you feel that they have here is not the place to say so; that kind
of advice is best sent by email.  If nothing else it means that the
person you're criticising can agree with you without feeling publicly
humiliated :-).
-- 
Ian Jackson  <ijackson@nyx.cs.du.edu>  (urgent email: iwj10@phx.cam.ac.uk)
35 Molewood Close, Cambridge, CB4 3SR, England;  phone: +44 223 327029
PGP2 public key on request; fingerprint = 5906F687 BD03ACAD 0D8E602E FCF37657

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Misc-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.misc) via:

    Internet: Linux-Misc@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Misc Digest
******************************
