From:     Digestifier <Linux-Misc-Request@senator-bedfellow.mit.edu>
To:       Linux-Misc@senator-bedfellow.mit.edu
Reply-To: Linux-Misc@senator-bedfellow.mit.edu
Date:     Fri, 1 Oct 93 00:13:13 EDT
Subject:  Linux-Misc Digest #172

Linux-Misc Digest #172, Volume #1                 Fri, 1 Oct 93 00:13:13 EDT

Contents:
  Re: $25.95 *NEW* Yggdrasil CD-ROM (H. Peter Anvin N9ITP)
  Re: [Q]: mtools for other FS (Brandon S. Allbery)
  Random program crashes under heavy disk use (Raymond L. Toy)
  Re: Timed to Linux? (Kai Kretschmann)
  Re: Bogomip (Karsten Steffens)
  Re: How does SLIP really work? (Matthew Dillon)
  Re: Bogomip (Matthew Dillon)
  Re: Bogomip (Andrew J. Cosgriff !)
  X is running..now what? (Rod Troch)
  Re: What's with these Magazine ad's??? (Kevin Brown)
  [A] Why 486 Turbo off same as on (or close) Re: Bogomip (Joe Brown)

----------------------------------------------------------------------------

From: hpa@ahab.eecs.nwu.edu (H. Peter Anvin N9ITP)
Subject: Re: $25.95 *NEW* Yggdrasil CD-ROM
Reply-To: hpa@nwu.edu (H. Peter Anvin)
Date: Thu, 30 Sep 1993 21:32:29 GMT

In article <281g6c$7hm@kruuna.helsinki.fi> of comp.os.linux.misc,
  wirzeniu@kruuna.Helsinki.FI (Lars Wirzenius) writes:
> 
> I don't think there's been anything in col.announce saying that
> 0.99pl13 is official.
> 
> When it comes to just about anything except coding, Linus is among the
> laziest people around.
> 

Heck... I guess it is the Law of Averages coing into play (or more
like it the Law of the Limited Time in a Day).

-- 
INTERNET: hpa@nwu.edu         FINGER/TALK: hpa@ahab.eecs.nwu.edu
IBM MAIL: I036073 at IBMMAIL  NeXTMAIL:    hpa@speedy.acns.nwu.edu
ANMÄRKNING: Heja Sverige friskt humör!  EG väntar utanför!
This article might have been generated by a buggy newsreader.

------------------------------

From: bsa@kf8nh.wariat.org (Brandon S. Allbery)
Subject: Re: [Q]: mtools for other FS
Date: Thu, 30 Sep 1993 22:23:34 GMT

In article <28dlll$e0u@usenet.rpi.edu> ryanm4@rebecca.its.rpi.edu (Matthew J. Ryan) writes:
>In article <1993Sep29.221515.10414@rd.hydro.on.ca>,
>Timothy Writer <twriter@rd.hydro.on.ca> wrote:
>>kunze@informatik.uni-hannover.de (Richard Kunze) writes:
>>>In article 2R380B1w165w@pegasus.rni.sub.org, root@pegasus.rni.sub.org (Nils Faerber) writes:
>>Let me restate your problem: you want to put a bunch of files onto
>>floppy but you don't want to be restricted to DOS filename conventions.
>>      tar cf - files-for-floppy | dd of=/dev/fd0 bs=16k
>>      dd if=/dev/fd0 bs=16k | tar tvf -
>>      dd if=/dev/fd0 bs=16k | tar xf - files-to-extract
> Umm... Why the repititive-redundancy?  Tar can use the disk driver,
>too.  Using dd doesn't make much sense.  

Well, it sort-of does:  he wants blocking.  But tar can do that too:

        tar tvfb 32 /dev/fd0

Just remember that the argument for "b" is in 512 byte blocks, so to get a
block size in K multiply by 2 as above ("32" for 16k).

++Brandon
-- 
Brandon S. Allbery         kf8nh@kf8nh.ampr.org          bsa@kf8nh.wariat.org
"MSDOS didn't get as bad as it is overnight -- it took over ten years
of careful development."  ---dmeggins@aix1.uottawa.ca

------------------------------

Crossposted-To: comp.os.linux.help
From: toy@soho.crd.ge.com (Raymond L. Toy)
Subject: Random program crashes under heavy disk use
Date: Thu, 30 Sep 1993 22:38:11 GMT


A while back I posted a message about getting random program crashes
under heavy disk usage.  Here's the scenario:

Start "dd if=/dev/sdb of=/dev/null" and "dd if=/dev/sda of=/dev/null"
at the same time.  Then under X, cyclically raise windows, compile the
kernel, or otherwise cause some swapping.  Shortly thereafter, random
programs will crash.  Sometimes, an xterm, the clock, emacs, one of
the dd's, or even the window manager will disappear with a core dump.

This is not a memory problem.  I have 8MB RAM with 16 MB swap file.
With out the dd's running, I have plenty of swap left.


The problem is definitely with accessing both disks.  If I do
everything on one disk, nothing crashes.  Once I do some reasonable
disk activity on the second disk, things start crashing.  

One other symptom is that, sometimes, before things die under heavy
disk usage, I get random white bars across menus popped up from the
window manager.  This seems to indicate that some memory is getting
corrupted somehow.

Some machine specifics:

        Linux 0.99 pl 13, libc 4.4.1, xfree 1.3
        386 33MHz, Mylex motherboard, 8 MB RAM
        FD-1680 SCSI controller
        Conner CP30200
        Quantum LPS240

Does anyone else have this problem?  Is this a kernel bug, perhaps in
the SCSI driver?

At first this didn't bother me too much, but I'm starting to get
annoyed with it.  

Thanks for any help,

Ray


--
Ray -----> toy@soho.crd.ge.com
Toy -----> GE CR&D, KW-C407, 0x6270

------------------------------

From: kai@fix.kmk.rhein-main.de (Kai Kretschmann)
Subject: Re: Timed to Linux?
Date: Thu, 30 Sep 1993 12:10:19 GMT

Kimmo Lahtinen (lahtinen@saha.fmi.fi) wrote:
: I have not seen timed in any Linux directories, has it ported to Linux?

It's function is builtin within inetd. I can use netdate between two
Linux-Boxes via ethernet, no problem. My inetd.conf for example:

This is what I corrected:
        time    stream  tcp     nowait  root    internal
        time    dgram   udp     wait    root    internal

This was the installed default, no 'timed' program there!
        #time   stream  tcp     wait    root    /usr/etc/tcpd   timed
        #time   dgram   udp     wait    root    /usr/etc/tcpd   timed
-- 
Kai Kretschmann,
  >>>   FidoNet:  2:248/312, 21:100/5729, 16:100/6006    <<<
  >>>   Internet: kai@fix.kmk.rhein-main.de              <<<
  >>>   FAX/BBS:  +49-6172-305379                        <<<

------------------------------

From: karsten@kshome.ruhr.de (Karsten Steffens)
Subject: Re: Bogomip
Date: Thu, 30 Sep 1993 18:09:30 GMT

Vaughan R. Pratt (pratt@Sunburn.Stanford.EDU) wrote:
: Looking at an AMD386SXL/25 just now I see 2.9 Bogomips, while a
: 486SLC2/50 (25 Mhz external) is saying 14.6, and a 486DX-33 gives
: 16.6.  For reasons I *completely* do not understand, turning off Turbo
: reduces the SLC to only 14.2 while the DX drops to 3.67.  This makes no
: sense to me.

Hi Vaughan, sure that makes sense. This is because your TURBO button is
incorrectly labeled. It should bear a writing saying: FLUSH-THE-CASH-ALWAYS
That is the usual way to slow down a modern machine: fake the dirty bits,
so that it always has to access memory and never read from the cache. 

As the 486 (Intel) has 8kB internal cache, but the 486SLC only has 1kB,
its pretty sure that the reduction factor cannot be that high compared
to the normal operation mode for the SLC. That means, a SLC has to
update the cache in normal mode much more often than an Intel one, so
running without cache is much close to normal operation for the SLC than
for the Intel.

Regards, Karsten
-- 
==================>         Karsten Steffens        <=====================
   karsten@kshome.ruhr.de          |      steffens@ikp.uni-muenster.de
Marl - close to Recklinghausen     |         Institut fuer Kernphysik
  North of the Ruhrgebiet          |   Westf.Wilhelms-Universitaet Muenster

------------------------------

From: dillon@moonshot.west.oic.com (Matthew Dillon)
Subject: Re: How does SLIP really work?
Date: 27 Sep 1993 18:51:56 -0700

In article <1993Sep27.203023.1098@unlv.edu> ftlofaro@unlv.edu (Frank Lofaro)  
writes:
:       How does SLIP really work on Linux? Especially as a server. I would 
:like to know what steps are used (i.e. what ioctls, etc) to activate the 
:connection, etc. I know about DIP and have looked at the source, but it isn't 
:100% clear for me to see what exactly is going on. Specifically, if an 
:incoming SLIP packet comes in on the serial line, does the kernel or a user 
:mode process pass it on the net or what? What actually handles the escaping 
:of END and ESC characters, the kernel or a user mode process?
:
:       I need to know because I want to have a SLIP server that would serve 
:telnet encapsulated SLIP packets. (Yeah, I know it is a kludge and a pain, 
:but I can handle all the telnet negotiation, etc stuff).

    Basically SLIP breaks down into two parts -- a network INTERFACE (sl0, sl1
sl2, sl3, etc...) and a tty LINE DISCIPLINE.  In theory, all you have to do is
open a tty and then use an ioctl to set the line discipline to SLIP, which
connects the tty to one of the slip interfaces (the return value from the ioctl
tells you which interface was allocated and attached to the tty).

    In reality its a bit more difficult then that.  For one, you can't attach
the slip interface (by changing the line discipline) until after you are ready
to start up slip... that is, after you connect, log in, etc...  Secondly, you
generally need to keep the tty descriptor open to prevent the line discipline
from being reset (this can be highly OS dependant!).. it's just as well,
because the line discipline will also generally ignore carrier detect, so you
have to stick around to monitor carrier detect to 'do the right thing' when
your modem disconnects.

    Also, tty/pty stuff can be extremely confusing when it comes to the
controlling terminal.  That is, the machine can get  confused :-) .. in order
to prevent the confusion you generally disassociate your control scripts /
programs from their tty (another ioctl) and then reassociate them with the tty
you intend to run slip over.  If you do it right, you can set it up so a lost
carrier kills the monitor program thus closing the tty and detaching the slip
interface from the tty.

    Confused?  Here are the ioctl's (note that this is all pseudo code, you
    should ALWAYS check error codes when doing any slip related ioctl!

    * Disassociate your current control terminal.  Next open of a tty will
      cause that tty to automatically be made your control terminal:

        fd = open("/dev/tty", O_RDWR);
        ioctl(fd, TIOCNOTTY, 0);
        close(fd)

    * After openning the tty you intend to run slip over, you ought to use
      TCGETS and TCSETS to fixup the tty modes, baud, etc.

        #include <termios.h>

        struct termios tios;
        ioctl(ttyFd, TCGETS, &tios);
        <fixup modes in termios structure here>
        ioctl(ttyFd, TCSETS, &tios);

    * The TIOCMGET ioctl will give you access to the modem control lines so
      you can monitor CD (after you dialout or whatever).  Note that hardwired
      permanent slip lines should still be setup so CD is asserted so you know
      that the line is plugged in.

        int n = 0;
        ioctl(ttyFd, TIOCMGET, &n)

        if ((n & TIOCM_CAR) == 0) {
            <carrier has been lost>
        }

    * The TIOCSETD ioctl will change the line discipline, thus attaching the
      SLIP interface.  The ioctl will return the interface number or a negative
      number on error.  For example, if the ioctl returns 3 then the tty has
      been attached to interface "sl3".

        int n = N_SLIP;
        int ifcNo;

        ifcNo = ioctl(ttyFd, TIOCSETD, &n);

    * The TIOCGETD ioctl will tell you what the current line discipline is.
      You should always call TIOCGETD after TIOCSETD to make sure it set the
      line discipline to slip.  Presetting n is not necessary, but a good idea
      to ensure that the system actually did modify the variable!

        int n = -1;

        ioctl(ttyFd, TIOCGETD, &n);

        if (n != N_SLIP) ...

    * Linux does not seem to disassociate the line discipline properly on the
      final close, you may have to call TIOCSETD again with n = N_TTY to
      disassociate the slip interface from the tty.

    And, YES, you can normally connect pty's to slip interfaces... at least, 
    you can on a sun.  It ought to work under linux too :-)

    Note that SLIP interfaces are normally setup as point-to-point.  I
    personally have NEVER understood why... I generally setup my SLIP stuff
    to look like a normal network instead of a point-to-point network.  This
    requires kernel hacking so my suggestion to most people is to just use it
    as you get it.

    Finally, most heavy slip users use the 'expect' program (a tcl extension)
    to handle the dialup / login portions of the script.  'dip' is extremely
    primitive!

                                                -Matt

------------------------------

From: dillon@moonshot.west.oic.com (Matthew Dillon)
Subject: Re: Bogomip
Date: 28 Sep 1993 17:11:03 -0700

In article <CE2yMo.48v@mailer.cc.fsu.edu> rnunez@mailer.cc.fsu.edu (Rudy Nunez  
(LAW)) writes:
:
:       I gotta know the answer to this, and It is nothing life threating
:       <or linux threating>. When I boot, I get a "36.09 BogoMip <tm>". 
:       My question is, just what the hell is a "BogoMip". Is it similar
:       to Mip <God, please say its true.. All bow to the god, linux>, but
:       figures with the co-processor or something? I gotta know.....

    It's BOGus MIPs, or BogoMips.  Sorta like 'RoboCop' (i.e. not really real).

                                        -Matt

------------------------------

From: ins407x@mdw018.cc.monash.edu.au (Andrew J. Cosgriff !)
Subject: Re: Bogomip
Reply-To: ins407x@aurora.cc.monash.edu.au
Date: Thu, 30 Sep 1993 23:58:38 GMT


>From observations on various machines, BogoMips = (approx) CPU_Mhz / 2

Geez !

Does that mean my 386dx25 is only 3.95 * 2 = 7.90 MHz ?

Bummer !

No wonder Norton's SysInfo running under DosEmu told me i had a 8MHz 386 a
few months back... ;-)

Andrew.
--
                           -Andrew J. Cosgriff-
andrew@bing.apana.org.au                        ins407x@aurora.cc.monash.edu.au
APANA, the Australian Public Access Network Association. Mail info@apana.org.au
   "It's not the bullet that kills you, it's the hole" (Laurie Anderson)

------------------------------

From: troch@gandalf.Rutgers.EDU (Rod Troch)
Subject: X is running..now what?
Date: 1 Oct 93 02:00:51 GMT

Howdy,

Ok.. Linux pl10 (MCC version) up and running!  XFree386 also up and
running... now what next?  

What kind of neat programs are out there for X?  I ran xman, but that
is it.  What about Xtetris, does it exist?  

Thanks!

Roll Tide!!!
Rod

--
--PGP 2.3 Public Key Available (finger me or ask for it)
If you yell try : Rod Troch                  | Zeta Beta Tau
 internet       : troch@gandalf.rutgers.edu  | 
 bitnet         : troch@zodiac               | happyHappy joyJoy
Rutgers University - Faculty of Arts and Sciences / History Dept.
                   - Microcomputer Analyst (Network Admin)

------------------------------

From: kevin@frobozz.sccsi.com (Kevin Brown)
Subject: Re: What's with these Magazine ad's???
Date: Fri, 1 Oct 1993 01:44:58 GMT

In article <DENNIS.93Sep27212353@uhdux2.uh.edu> DGray@uh.edu writes:
>In article <CE1DAG.6xJ@iat.holonet.net> healyzh@iat.holonet.net (Zane H. Healy) writes:
>
>     Am I just being overly sensitive, or are there other people disturbed
>   by the way Linux is being represented/misrepresented in magazine add's?
>
>A bit oversensitive and a bit silly.

I don't think so.  See below for why.

>     First there where the 'Linux Systems Labs' adds that have been appearing
>   in the UNIX magazines.  While not to bad, I find the fact that it say's 
>   $59.95 for CDROM or 30 disk distribution in the upper right hand, and 
>   Motif now available in the lower left hand somewhat irritating.  Still at
>   least they say that it is Linux ver. 0.99.
>
>Is there some difference between this and Softlanding sell a CDROM
>(isn't the softlanding ROM more than $59???)?  Why should motif come
>as a suprise?  I bought it from metrolink for $200.

This part doesn't bother me either.

>     What really bothered me though was when I was thumbing through my new
>   issue of 'Byte' that I just got in the mail today.
>
>   -------------------------------------------------------------------------
>
>                                 SOFTLANDING
>                                LINUX SYSTEM
>
>                       SLS: POSIX UNIX clone for the 386
>                       As reviewed in March "UNIX WORLD"
>
>                Includes: * full kernel source * X11R5 Openlook * TeX
>                   * emacs * TC/PIP, NFS&SLIP * complete C & C++
>             development environment * 600+ utilities * SVR4 ELF binary
>                compatibility * Windows 3.1 API & ABI * DOS Emulator
>
>   -------------------------------------------------------------------------
>
>   BTW the TC/PIP isn't a typo on my part <G>.
>
>     What bother's me is what I would think if I was new to Linux, and not 
>   someone that has used it since January '92.  Here's what I would tend to
>   think if I was unfamiliar with Linux.
>
>I hate to break the news to you, but most of Byte's readers are DOS
>sell-outs.  How many of them have heard of linux???

This is irrelevant.  The problem is this (much the way originally described):
The readers of Byte have certain expectations of any software they buy.  If
someone advertises that something has a DOS emulator, they expect it to run
their DOS applications, and probably expect it to run those applications as
well as Windoze runs them.  So Linux won't meet their expectations for this.
If someone advertises that something will run Windows applications, they will
expect it to run *their* Windows applications.  Linux can't currently do
this (the last status report says that Wine will barely run Solitaire!).
Another expectation that will go unmet.  When someone advertises that it
has ELF binary compatibility, the reader will expect to be able to run their
ELF format commercial products on Linux.  It's not clear to me that this
is yet possible (but I haven't tried, so I really don't know).  Perhaps yet
another unmet expectation.

Enough of those and the customer will think that Linux is a piece of junk
because it doesn't do what it claims to do.  Well, *we* know the truth of
the matter (what Linux will do and what it won't do), but the readers of
Byte are relying on the advertising and their experience with the advertiser
to judge the quality of Linux.  And if, as above, most of their expectations
aren't met *despite* the fact that the advertising implicitly says that Linux
*should* meet their expectations, then they'll think that Linux is a piece of
junk.  And they'll spread the news to everyone they know who expresses an
interest in Linux.

Folks, this kind of false/misleading advertising is a damned good way to
kill Linux dead in the commercial world.  Is that *really* what you want
to happen?  Do you really want Linux to gain the same reputation in the
commercial world that Windoze+DOS has with us?

Legalistic interpretations of the ad don't count.  What counts is what the
average reader perceives from the ad.  If Linux ads are misleading in the
same way the above ad is, people will come to expect that and not buy into
Linux even when it *does* gain the advertised capabilities.

People should be advertising Linux for what it is: a good, fast, reasonably
stable, very inexpensive, high-quality Unix workalike for 386/486 systems for
which the source code to pretty much everything (including the kernel) is
freely available.  It should be made clear from the outset that people who
buy Linux from anyone can distribute it themselves if they so desire.  The
things that work well should be advertised: Tex, X11, utilities, news, etc.
If TCP/IP isn't as stable as the average person would expect it to be, then
don't advertise it!  It'll then be a pleasant surprise that Linux will do
networking at all, and the fact that it will do so will spread.  People will
think they're getting *more* for their money than they expect, instead of
*less*.

Furthermore, any astute reader would note the advances in the advertising
as more capabilities come on line and will probably be impressed with just
how fast things get done for Linux.

>I understand a bit of what you are saying, but I don't really see
>anything different between these guys and softlanding.  Perhaps I am
>overlooking something, but I can't see it.

If the other guys are advertising all the incomplete capabilities that
Softlanding is advertising, then I think the other guys are doing the
Linux community as much a disservice as Softlanding is.  I think it is
clear to most that what Softlanding has advertised in Byte is misleading
at best: it makes the product appear better than it really is.  Perhaps
this is what people expect, but then this is one of the problems we have
with Microsloth, no?


-- 
Kevin Brown                                     kevin@frobozz.sccsi.com
This is your .signature virus: < begin 644 .signature (9V]T8VAA(0K0z end >
            This is your .signature virus on drugs: <>
                        Any questions?

------------------------------

From: joe@apache.dtcc.edu (Joe Brown)
Subject: [A] Why 486 Turbo off same as on (or close) Re: Bogomip
Date: 30 Sep 1993 22:36:14 -0400

In article <1993Sep29.171201.13504@CSD-NewsHost.Stanford.EDU> pratt@Sunburn.Stanford.EDU (Vaughan R. Pratt) writes:
...
> Looking at an AMD386SXL/25 just now I see 2.9 Bogomips, while a
> 486SLC2/50 (25 Mhz external) is saying 14.6, and a 486DX-33 gives
> 16.6.  For reasons I *completely* do not understand, turning off Turbo
> reduces the SLC to only 14.2 while the DX drops to 3.67.  This makes no
> sense to me.

It was explained a while ago, in a previous Bogomips thread.

Some 486 motherboards don't reduce the clock frequency/3.  Instead,
they just disable the cache (external, I believe).
-- 
                Religion:  Yes, I believe there is a Church
         Murphy's Paradox:  doing it the hard way is always easier
(: Joe Brown :)                                         joe@apache.dtcc.edu

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Misc-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.misc) via:

    Internet: Linux-Misc@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Misc Digest
******************************
