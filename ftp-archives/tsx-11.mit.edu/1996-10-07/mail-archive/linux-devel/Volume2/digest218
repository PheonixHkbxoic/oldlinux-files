From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Sat, 24 Sep 94 04:13:09 EDT
Subject:  Linux-Development Digest #218

Linux-Development Digest #218, Volume #2         Sat, 24 Sep 94 04:13:09 EDT

Contents:
  pseudo ftp mirrors/ftpfs (Brad Midgley)
  Re: A thought to improve security (Jay Ashworth)
  Re: 3c509 Problems (Eric J. Ding)
  Re: Source Level Kernel Debugging (G Dinesh Dutt)
  Power Downing Boards (Nicholas J. Leon)
  What link options to compile XView (Chris Ulmer)
  Re: memory leakage in 1.1.51 ? (Derek Snider)
  Re: 1.1.51 seg fault on shutdown in _floppy_release (Barry Yip kam-wa)
  Re: aha152x driver lockup on AIC 6360 chips (Zeos Technical Support account for Internet)
  Sockets (Jason Malaure)
  How to: load and run (Whitney de Vries)
  Re: PPP/IP Forwarding Problem - RESOLVED! (jbarrett@onramp.net)
  Re: driver for NE3200 (EtherExpress 32 EISA)? (Donald Becker)
  Re: ELF-based Linux distribution? [Was: Shared Libs: working toward a permanent solution?] (Matthew Donadio)

----------------------------------------------------------------------------

From: bmidgley@lal.cs.utah.edu (Brad Midgley)
Subject: pseudo ftp mirrors/ftpfs
Date: 23 Sep 1994 20:55:30 GMT


I know that probably quite a few people are running public dialin
linux systems which have a dedicated slip connection to the
internet... After reading about ftp-fs (userfs), I think this would be
a very useful feature for this type of system.

Of course, the filesystem interface is great, but the cache could
prove to be very useful for public sites with limited bandwidth.  With
a big enough (and well-managed) cache area, the site could appear to
have a much faster internet connection than it really has.

What ftp-fs needs before this can be useful:

        -multiple concurrent accesses to the same site.
         (even better if, say, one user could be logged in anonymously
          and another under a username/password)

        -better cache purge (perhaps using an access count)
         currently uses a user-invoked LRU algorithm.

        -automatic closing of idle connections, with transparent
         reopen (maybe it already has this.)

Anyone else looked into or using ftpfs?  Can any sysops estimate just
how useful the cache would be?
-- 


Brad

------------------------------

From: jra@zeus.IntNet.net (Jay Ashworth)
Subject: Re: A thought to improve security
Date: 22 Sep 1994 21:52:20 -0400

rgollent@stwing.resnet.upenn.edu (Roman Gollent) writes:
>I think Linux development should have a PR department.

It will, Roman... it will.

Cheers,
-- jra
-- 
Jay R. Ashworth                                                       Ashworth
Designer              High Technology Systems Consulting          & Associates
ka1fjx/4                                                
jra@baylink.com      Linux: The Choice of a GNU Generation     +1 813 790 7592

------------------------------

From: ericding@athena.mit.edu (Eric J. Ding)
Subject: Re: 3c509 Problems
Date: 24 Sep 1994 04:43:31 GMT

OK, so I read the posts, and ran into the same problem, i.e., the message:

  eth0: Missed interrupt, status then 2011 now 2011  Tx 00 Rx 383c.

But when I tried to use the suggested solution, i.e., 

   until (/usr/bin/ypcat passwd > /dev/null) || [ ${ATTEMPTS} -eq ${MAX} ]
   do
           ATTEMPTS=`expr ${ATTEMPTS} + 1`
           /usr/bin/sleep 1
   done

etc., I get an error message

No such map passwd.byname. Reason: Can't bind to server which serves this domain

What should I do?  I have no idea, by the way, what the above stuff does...
don't fool much with NIS stuff... =)

Thanks,
Eric

--
450 Memorial Drive H424                                          (617) 225-9424
Cambridge, MA 02139                                            ericding@mit.edu

------------------------------

From: G Dinesh Dutt <brat@htilbom.ernet.in>
Subject: Re: Source Level Kernel Debugging
Date: 24 Sep 1994 01:00:00 -0400
Reply-To: brat@htilbom.ernet.in

Hi,

There is such a beast available. But, I haven't tested it and its under ALPHA
directory in tsx-11.mit.edu. Also, the readme indicates that it hasn't been
touched in a long time (version 0.99pl16). So, some work would be necessary to
get it running. The location is : /pub/linux/ALPHA/kdebug at tsx-11.mit.edu

Here's an excerpt from the README :
================
This is version 0.1 of the combined kernel debuggers.  The remote
and local are mostly independent although they need to be aware of one
another's existence.  The remote debugger basically lets you run gdb
on the kernel as though it were a normal user process.  The catch 
is that you need a second computer capable of running GDB hooked up
to your linux box via a serial line.

        The first part of local debugger combines some of the features
of GDB with the features of the old Kernel Debugger and a few others.
It modifies /dev/cmem to allow GDB to access both global and local
variables.  The catch to this one is you must set a break point at the
place where you want to examine the local variables, and then wait for
it to be hit.  The breakpoint does not stop, but rather saves a copy
of the kernel stack and the registers in a location which GDB knows
about.  To use this you must start a modified gdb with the symbol-file
tools/system and then use target kernel.  Beyond that GDB works much
like you expect, however the kernel is never (not quite see below)
stopped.

        The second portion of the local debugger is the kernel
resident debugger.  It allows you to stop the kernel and
examine/change memory and registers.  It has only limited symbol
capabilities (specified at compile time.)  It does however include a
disassembler and is automatically entered whenever the kernel would
otherwise die.  It can also be entered at any time by pressing the
SysRq key.  The best feature of this debugger is probably the break
points which there is unfortunately no real interface to.  They can
be one-shot, conditional (bit test only), code/data breakpoints which
can call a function, save state, send a signal or cause the kernel
debugger to become active (or any combination.)  Currently the only
interfaces to the break points are GDB which can only set state-saving
breakpoints, and the kernel debugger which can only set break points
which cause the debugger to be reentered.  You can however edit the
break point structure using the kernel debugger, and use the
other features.
===============
Dinesh
-- 
###############################################################################
Love your enemies: they'll go crazy trying to figure out what you're up to.

G. Dinesh Dutt,                                 email : brat@htilbom.ernet.in
Hinditron Tektronix Instruments Ltd.,           voice : 8349393/8212262
SDF-2, Unit 63-A, SEEPZ, Andheri (east), Bombay - 400096.
###############################################################################


------------------------------

From: nicholas@tao.binary9.com (Nicholas J. Leon)
Crossposted-To: comp.sys.ibm.pc.hardware.video,comp.lang.c
Subject: Power Downing Boards
Date: 20 Sep 1994 23:47:21 GMT

I was wondering if anyone could point me in the direction of how to program
a video board that has power saving features. Actually, its a ATI GX Mach64.
As I understand it, there is a VESA standard for this. Any pointers would be
great, thanx!


N!
--
Nicholas J. Leon - nicholas@tao.binary9.com
                 - http://www.binary9.com
                 - 910/273/6590

------------------------------

From: ulmer@merope.caltech.edu (Chris Ulmer)
Subject: What link options to compile XView
Date: 23 Sep 94 21:20:52 GMT

I'm trying to compile an code under Linux which uses Xview.  I'm linking
with "-lX11 -lolgx -lpixrect -lxview -lm" which works on the Sun but
Linux says it can't find X11. I see X11.sa in the lib directory (under
X386)
but not an X11.a .  What options to I need to link?

Many thanks, Chris Ulmer ulmer@micro.caltech.edu


------------------------------

From: derek@cid.compulink.com (Derek Snider)
Subject: Re: memory leakage in 1.1.51 ?
Date: 22 Sep 1994 12:57:27 -0400

Guenther Thomsen (thomsen@cs.tu-berlin.de) wrote:
: Hello,

: it seems, there is an memory leakage (at least) in linux-1.1.51 : if I
: run two processes wich use (permanent) together more memory than my
: machine gots as RAM, the machine is continiously swapping - ok. But
: over the time the swap-space which is needed grows, without
: increasing memory requirements of the two processes or any other !
: This grow is (very) slowly (about 1Mb / hour ) but unstoppable -
: anytime all the swap-space will be needed and the response time of the
: machine becomes unreasonable slow !

I've had this problem with all the kernel releases... and I've asked around
about it and have heard that this is because of improperly written 
applications, which don't properly deal with memory... corrupting malloc's
pointer tables.. and the memory never gets freed... (though, theoretically
the kernel should free all of the memory used by an application upon exiting
of the application... it doesn't always seem to if the application was 
misbehaving... I actually had an application crash the whole system due to
it's bad memory management.)

I end up having to reboot one of our machines every other day.


------------------------------

From: g609296@win.or.jp (Barry Yip kam-wa)
Subject: Re: 1.1.51 seg fault on shutdown in _floppy_release
Date: 22 Sep 94 01:40:32 GMT

David Miller (davem@er4.rutgers.edu) wrote:
>Andries Brouwer (aeb@cwi.nl) wrote:
>: rob@pe1chl.ampr.org (Rob Janssen) writes:

>: : STEVO@acad.ursinus.edu (Steve Kneizys) writes:

>: ::Vincent Fatica (vefatica@cockpit.syr.edu) wrote:
>: ::: According to zSystem, the error occurs in _floppy_release.

>: ::: It also occurs on dismounting /b (an ext2 floppy). Thereafter, mount says
>: ::: it's still mounted (which it's not).

>: ::Got a similar error with a 'umount -t msdos /dev/fd0 ', but I could not
>: ::reproduce it.  All I did was try and use pico on files from my 3C579
>: ::driver disk from 3Com...nothing fancy :)

>: :True, it happens here as well (1.1.51), but only one time after a reboot...
>: :(I did only a mount, ls, umount and it faulted in _floppy_release)

>: I got the same error yesterday evening. The routine floppy_release
>: is called by the umount code with NULL as second argument (filp)
>: and dereferences that. I posted a fix yesterday evening on the Kernel
>: channel (something like: if(!filp || (filp->f_mode & 2)) ...).

>If you look in your /var/adm/kernlog, you'll see a nice "OOPS" there
>also, the code is referenceing a kernel NULL pointer :-) Thank god for
>qmagic!

Here running 1.1.51, when I mount a minix floppy and umount it, some
times I got:

Oops: 0000
EIP:    0010:0016a900
EFLAGS: 00010246
eax: 00160000   ebx: 00000000   ecx: 00000000   edx: 00160000
esi: 0006fed4   edi: 0006fed4   ebp: 00000000   esp: 0006fea8
ds: 0018   es: 0018   fs: 002b   gs: 002b   ss: 0018
Process umount (pid: 1318, process nr: 27, stackpage=0006f000)
Stack: 001b0200 001b0002 00126193 0006fed4 00000000
Code: f6 01 02 74 0d 0f b7 46 10 50 e8 ed 76 fb ff 83 c4 04 be 58
Segmentation fault

--
Barry Yip
g609296@win.or.jp

------------------------------

From: support@zeos.com (Zeos Technical Support account for Internet)
Subject: Re: aha152x driver lockup on AIC 6360 chips
Date: 23 Sep 1994 09:02:15 -0500

Bob Crosson (crosson@cam.nist.gov) wrote:
: I have a problem with my SCSI driver.  My machine runs either
: Linux-1.0.9 or 1.1.50 with the aha152x SCSI driver.  I think the
: problem occurs with both versions of Linux.  I was backing up files
: (see below) when the errors occurred.  I can't be sure of the
: version of Linux that was running when this error occurred because
: I don't know which version was running at the time.  Here's the
: error message:

: waiting: SCSISEQ( ); SCSISIG( DATA OUT ); INSTAT( hi ); SSTAT( BUSFREE );
:       SSTAT( BUSFREE ); SXFRCTL0( CH1 ); SIGNAL( ); SELID( 81);
:       SSTAT2( SEMPTY ); SFCNT( 0 ); FCNT( 0 ); DMACNTRL0( 16 BIT PIO
:       READ );
: enabled interrupts( ENBUSFREE )
: SCSI disk error: host 0 id 1 lun 0 return code = 30000
: scsidisk I/O error: dev 0812, sector 184
: SCSI host 0 timed out - aborting command
: aha152x: abort( ); SCpnt = 0x001c967c, QUEUE STATUS:
: issue_SC:
: 0x001c967c: target = 1; lun 0; cmd( 08 01 e0 c8 08 00 ): residual = 4096;
: buffers = 0; phase |not issued|; next = 0x00000000
: current_SC:
: none
: disconnected_SC:

: My machine is a Zeos Pantera-90 (Pentium, 90 MHz) with an integrated
: Adaptec AIC-6360 SCSI controller chip (BIOS version 1.20L), a Diamond
: SpeedStar 64 Alpine PCI video adapter board, a SoundBlaster 16 MCD
: sound card, and a SMC8013E Ethernet card.  On the SCSI bus are two
: Micropolis 1.2GByte disk drives and one NEC CD-510 CD-ROM drive.  The
: Micropolis drives have 64 heads, 32 sectors, 1280 cylinders, with
: 1MByte/cyl.

Bob,
   I have seen this type of message from the SCSI driver when it could not
use the IRQ for the SCSI host adapter.  The Zeos is hardwired to IRQ 11.
Do you have any other device using that IRQ?  Since it appears that the
machine is booting into Linux OK, the driver would appear to be configured
properly.  I don't know why it would happen on the specific file it does.

Kevin
-- 
Zeos Technical Support     |                        | ZEOS International, Ltd.  
support@zeos.com      INET |  Support account for   | Technical Support Dept.
uunet!support!support UUCP | Zeos Technical Support | 1301 Industrial Blvd N.E.
612-362-1207          FAX  |                        | Minneapolis, MN 55413

------------------------------

From: Jason@indev.demon.co.uk (Jason Malaure)
Subject: Sockets
Reply-To: Jason@indev.demon.co.uk
Date: Thu, 22 Sep 1994 14:23:12 +0000

Hi!

I am using sockets to provide a link between two processes. When I send
data in small chunks there is not problem, but if I send data in
chunks of 200 or so bytes, after a while the reading end gets into a 
strange state where the read function has a valid return value but is
reading rubbish!

Any thoughts would be most welcome!

Jason.


-- 
Jason Malaure

------------------------------

From: whitney@christie.Meakins.McGill.CA (Whitney de Vries)
Subject: How to: load and run
Date: Fri, 23 Sep 1994 22:17:18 GMT

How do you allocate memory/pages that can write to and
then execute ? ( Linux specific or general Unix solution welcome )

Whitney



------------------------------

From: jbarrett@onramp.net
Crossposted-To: comp.os.linux.misc,comp.os.linux.admin,alt.uu.comp.os.linux.questions
Subject: Re: PPP/IP Forwarding Problem - RESOLVED!
Date: Thu, 22 Sep 94 23:35:22 PDT


In article <NEWTNews.24681.779467917.jbarrett@onramp.net>, jbarrett@onramp.net 
writes:
> 
> > Network Architecture:
> > 
> >     =============================================== (local Ethernet)
> >             |                       |
> >     +--------------+        +--------------+
> >     | 486dx2/66 PC |        | 486dx33 Linux|
> >     | Win/Chameleon|        | V1.1.49 PPP  |
> >     | 199.1.142.2  |        | 199.1.142.254|
> >     +--------------+        +--------------+
> >                                     |
> >                             +--------------+
> >                             | 14.4K modem  |
> >                             +--------------+
> >                                     |
> >                             +--------------+
> >                             | Term Server  |
> >                             | 199.1.11.4   |
> >                             +--------------+
> > 
> > Symptoms:
> >     After booting Linux, my Windows box can access Linux w/o problems
> >     Confirmed that CONFIG_IP_FORWARDING is defined in kernel
> >     After starting PPP
> >             routing tables are updated, default route = term server
> >             Linux can access the net w/o problems using the default route
> >             Internet hosts can access Linux w/o problems
> >     However, neither local or internet hosts can access a machine on the
> >             far side of the Linux box being used as a router.
> >     I can see the incomming packets being counted in /proc/net/dev, but I 
> >             never see packets being sent out the other interface.
> 
IT IS ALL MY FAULT - DON'T BLAME LINUX!

Confessions of Network Administator:

I did 3 things wrong that caused all my problems with PPP and IP Forwarding:

1. DNS/BIND mismatch between my primary server, and my providers server
        My Internet Provider runs a secondary name server for my domain, and I 
made changes to my primary DNS tables (including re-assigning the IP of my DOS 
box)... BUT I FORGOT TO CHANGE THE SERIAL NUMBER IN THE DNS TABLES. The serial 
number is how secondary servers determine that DNS needs to update... So the 
two servers had different IP addresses for the same host name... OOOPPPS!

2. DOS TCPIP Routing MisConfiguration
        Netmanage Chameleon has two separate configurations for routing... the 
Default Route, and a Routing Table... I had set up an entry in the routing 
table for my Net Provider that pointed to a router that was available on the 
old network that I was connected to.. and that entry over-rode the Default 
Route that pointed to the correct router (took me 4 days to find that one) 

3. Gratituously updating Linux versions 
        My initial response to this problem was to blame Linux 1.0 and to 
attempt to install a later rev of the system (1.1.49 to be exact). This 
ofcourse created all sorts of additional problems requiring the installation of 
updated applications and utilities, which I thouroughly botched in my haste to 
get the system working as a router.... Since I found the other problems, and 
did a complete re-install of 1.0.... everything has worked fine...

Advice to the Wannabe Network Administrator:

        Erasing and application and doing a clean install may not be a bad 
idea. All of the configuration may look right.. but some leftover trash may be 
spoiling your whole day.

Request to the Linux Developers:

        I had a *ell of a time figuring out what patches and utilities went 
together to make a fully updated version of the system... Grouping the Patch 
files with the utilities required to accomodate the update would really help.

        Other than that... KUDOS TO YOU ALL... Linux is the best system I've 
worked with since I started working with MicroPort and Venix 6 years ago.. It 
certainly beats even the latest release of UnixWare in terms of ease of 
installation and loads of applications and utilities right outa the box...

        Before I shoot myself in the foot again.....

                John Barrett
                <jbarrett@onramp.net>
                <root@gateway.fone.com>

        


------------------------------

From: becker@cesdis.gsfc.nasa.gov (Donald Becker)
Crossposted-To: comp.os.linux.help,comp.os.linux.misc,comp.os.linux.admin,de.comp.os.linux
Subject: Re: driver for NE3200 (EtherExpress 32 EISA)?
Date: 22 Sep 1994 17:06:28 -0400

In article <muenzel.780248962@ceres.tat.physik.uni-tuebingen.de>,
Stefan (SAM) Muenzel <muenzel@ceres.tat.physik.uni-tuebingen.de> wrote:
>I have the following problem:
>my current employer has an EISA-machine with an (for me) unknown
>ethernet-card. It's a 
>       Intel EtherExpress 32Bit ( NE3200 ) / EISA
>I'm not sure this is the correct name, but i hope some guru on
>the net will recognize it.
>
>I looked through the kernel-sources (1.1.50), but couldn't find a
>driver for this card (or is it the ac3200 in drivers/net?).

The AC3200 driver is for the Ansel Communications EISA ethercard based on a
shared memory 8390.  

It's unrelated to the NE3200, which will probably never have a Linux driver.

Both are unrelated to the Intel EtherExpress32.  I don't have any
documentation on the EE32 (or an EISA machine to develop a driver on), but
Intel might release it if you ask them.

-- 
Donald Becker                                     becker@cesdis.gsfc.nasa.gov
USRA-CESDIS, Center of Excellence in Space Data and Information Sciences.
Code 930.5, Goddard Space Flight Center,  Greenbelt, MD.  20771
301-286-0882         http://cesdis.gsfc.nasa.gov/pub/people/becker/whoiam.html

------------------------------

From: donadio@mxd120.rh.psu.edu (Matthew Donadio)
Subject: Re: ELF-based Linux distribution? [Was: Shared Libs: working toward a permanent solution?]
Date: 23 Sep 1994 04:14:02 GMT

Dan Connolly (connolly@ulua.hal.com) wrote:
: How many major apps have been built/tested with the ELF tools?
:       * How about the apps where nobody touches the source code
:               any more, like TeX?

I am going to try this this weekend.  I would like to try some of the
CAD tools, but most of the ones I use require X.

:       * How about the networking tools -- are there any interactions?
:               Has anyone begun exploring?


I might try this also; it depends on how much time I have.

--
Beaker aka Matt Donadio   | Life is short,     ---   __ o    __~o    __ o
donadio@mxd120.rh.psu.edu |    ride like    ----    _`\<,   _`\<,   _`\<,
--- Penn State Cycling ---|      the wind.    ---  ( )/( ) ( )/( ) ( )/( )
====================================URL: http://mxd120.rh.psu.edu/~donadio

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
