From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Mon, 5 Sep 94 11:13:05 EDT
Subject:  Linux-Development Digest #123

Linux-Development Digest #123, Volume #2          Mon, 5 Sep 94 11:13:05 EDT

Contents:
  Re: polled ports (Bruce Evans)
  Re: Digi Intelligent Boards? (Simon Park)
  Re: polled ports (Glenn Moloney)
  Re: Chars rrrrepeating at 2400 Baud with 16554 UART? (Markus Kuhn)
  Re: Future of linux -- the sequel (Joachim Schrod)
  Re: Unicode & Linux's future (was Re: Acid) (Joachim Schrod)
  WARNING about shadow-mk package (Bauke Jan Douma)
  Re: Future of linux -- the sequel (Gerard Hynes)
  Re: ext2fs corruption in 1.1.47-48 (Marino Ladavac)
  Re: Wanted: ircII that is *complete* (Joe Rosenfeld)
  Re: Linux - my first impressions (Scott Telford)
  Re: time speeds up (Xiaoguang Zhang)
  Re: IP routing not using default net? (Alan Cox)
  NOVELL lan driver for linux ?? (alberto gaiga)
  Re: DLL Tools for Linux (Mitchum DSouza)

----------------------------------------------------------------------------

From: bde@kralizec.zeta.org.au (Bruce Evans)
Subject: Re: polled ports
Date: 5 Sep 1994 22:17:05 +1000

In article <GLENN.94Sep5201748@tauon.ph.unimelb.edu.au>,
Glenn Moloney <glenn@tauon.ph.unimelb.edu.au> wrote:
>
>I agree with Rob here, but I have a related question. I don't want to
>poll ports, but rather write to some ports at 0.5 -> 1.0 millisecond
>intervals (with moderately reliable timing). The application is a
>stepper motor being driven directly from the parallel port. Since it
>is a dedicated PC, I am presently busy waiting (yuck!) with
>udelay(). However, this PC is intended to control a number of
>instruments and motors, so I would rather not "go busy" on the stepper
>motor.

Take a spare serial port and program it to 8N1 9600 bps no fifo.
Write a stream of junk to the data port and you will get interrupts
every 1/0.96 ms (with moderately reliable timing :-).  The stream
of interrupts is easy to stop by stopping writing.  Certain other
interrupt rates are easy to program.
-- 
Bruce Evans  bde@kralizec.zeta.org.au

------------------------------

From: si@wimpol.demon.co.uk (Simon Park)
Subject: Re: Digi Intelligent Boards?
Date: Mon, 5 Sep 1994 11:42:18 +0000

In article <342htv$eql@orion.cc.pcc.edu> jsievert@zeus.cc.pcc.edu (Jerry Sievert) writes:
>
>Hi.
>
>A bit back, there was talk about an alpha driver for the digiboard/8i
>(intelligent) boards.  What I'm curious about is if there's a driver
>that will currently (with very little or no hacking) compile into one
>of the more recent (1.1.45+) kernels.
>
>I would appreciate email (not here, I'll never get it) at the
>following address:
>
>  jerry@industrial.com
>
>Thanks.
>

Hi,

AFAIK there are no Linux drivers available for any of the
intelligent serial cards. But there projects in hand working on
drivers for the Digiboard COM/Xi and PC/Xe cards.

I have a 60% complete driver for the COM/Xi boards which will
currently handle reading and writing but it's modem control is
still non-existant.  I am not going to release any of it until
I'm happy its reliable since its hung my machine at least twice
during its development.

For the PC/Xe cards I know a guy called David Jeske was working
on them. Plus I think someone from Digiboard Inc. was planning a
Linux driver for the PC/Xe (sorry, I can't remember their name).

If anyone wants to alpha-test my COM/Xi driver when its ready and 
is prepared to risk their hard disks :-) then email me and I'll
start a list of people to contact when I finally finish it.

If anyone else is working on a driver for the COM/Xi please get
in touch and maybe we can collaborate.

Cheers
Si

PS: This message has been emailed to jerry,
    posted to comp.os.linux.development and
        emailed to the SERIAL mail channel.
-- 
            o    o
              ..                       si@wimpol.demon.co.uk
                      Grin               PGP key available
             v--v

------------------------------

From: glenn@tauon.ph.unimelb.edu.au (Glenn Moloney)
Subject: Re: polled ports
Date: 05 Sep 1994 10:17:48 GMT
Reply-To: glenn@tauon.ph.unimelb.edu.au


Hello Linuxers,

In article <CvMKs5.3AK@pe1chl.ampr.org> rob@pe1chl.ampr.org (Rob Janssen) writes:
> >Are there any known improvements to the polling code?  1200 baud shouldn't be
> >too fast...
> 
> It polls 100 times per second, the timer-interrupt rate.  So 1200 baud
> is already slightly too fast for this mode.
> It could be usable with 16550A chips, but they have other problems when
> used with a mouse.  Therefore they are disabled below 2400.
> 
> It is better to listen to the rest of the world, and somehow move your
> IRQs or use a board which can share IRQs.

I agree with Rob here, but I have a related question. I don't want to
poll ports, but rather write to some ports at 0.5 -> 1.0 millisecond
intervals (with moderately reliable timing). The application is a
stepper motor being driven directly from the parallel port. Since it
is a dedicated PC, I am presently busy waiting (yuck!) with
udelay(). However, this PC is intended to control a number of
instruments and motors, so I would rather not "go busy" on the stepper
motor.

I would love to get higher resolution timers. The velocity control is
not crucial, just the position control. Is this possible with current
kernels, or with a kernel patch, or is it a hardware limitation?  Will
I just have to invest in a programmable counter/timer card to do this?

Any thoughts or suggestions welcome,

                                        cheers,
                                        glenn.

  Glenn Moloney                         glenn@tauon.ph.unimelb.edu.au
  School of Physics,                    Phone: +61 3 344 5081
  University of Melbourne,              Fax:   +61 3 347 4783
  Parkville, Australia 3052.
--
                                        
  Glenn Moloney                         glenn@tauon.ph.unimelb.edu.au
  School of Physics,                    Phone: +61 3 344 5081
  University of Melbourne,              Fax:   +61 3 347 4783
  Parkville, Australia 3052.

------------------------------

From: mskuhn@cip.informatik.uni-erlangen.de (Markus Kuhn)
Subject: Re: Chars rrrrepeating at 2400 Baud with 16554 UART?
Date: Mon, 5 Sep 1994 12:31:52 GMT
Reply-To: mskuhn@cip.informatik.uni-erlangen.de

I_Stewart@equinox.gen.nz (I P Stewart) writes:

>Lawrence Houston (houston@norton.geog.mcgill.ca) wrote:
>: Recently installed a STB 4COM Multiport Serial Card and found at 2400
>: Baud that incoming characters would occasionally be repeated as much as
>: 4 times!  This same problem was NOT observed at higher or lower line 
>: rates and was indpendent of whether the port was using shared interrupts.

>I've seen this at 1200 using a board with a 16552 (I think that's what it
>is, anyway, it provides the same as 2 16550A's, as far as I know).  The
>problem went away at higher speeds.

A few months ago, I installed a machine with a normal COM card using a
'STARTECH ST16C550CP' UART and one of the first 1.0 kernel
versions. At 1200 baud, I had exactly the same problem you described.

Markus

---
Markus Kuhn, Computer Science student -- University of Erlangen,
Internet Mail: <mskuhn@cip.informatik.uni-erlangen.de> - Germany
WWW Home: <http://wwwcip.informatik.uni-erlangen.de/user/mskuhn>

------------------------------

From: schrod@iti.informatik.th-darmstadt.de (Joachim Schrod)
Subject: Re: Future of linux -- the sequel
Date: 5 Sep 1994 10:41:32 GMT

In article <CvMKy4.3Bz@pe1chl.ampr.org>, rob@pe1chl.ampr.org (Rob Janssen) writes:
> In <34d4t0$2c22@yuma.ACNS.ColoState.EDU> pyeatt@cervesa.cs.colostate.edu (Larry Pyeatt) writes:
> 
> >In article <348vsp$68c@cesdis1.gsfc.nasa.gov>, becker@cesdis.gsfc.nasa.gov (Donald Becker) writes:
> >|> >                                 $6400 minumum
> >|> 
> >|> That's just way more than a reasonable Linux box will cost.
> 
> >Define "reasonable."  I defined reasonable to be "something similar to
> >SGI Indy.  You can't get that sort of performance with cheap parts.
> 
> Hey come on, he explained how all prices that added up to that $6400
> were way above current street-price for PC parts.

Yeah, but he used $33 Ethernet cards (I assume NE2000s) and explained
that 4MB is enough to run Linux+X and compared these parts to
respective workstation equipment. IMHO that disqualified him.

As an example, I'm currently thinking about upgrading my 16MB to 32MB
since it's not enough for serious work. The AIX system at work is
already short at memory with 32MB, 64 or 128 MB would be fine. How
can I put 128 MB in my VLB PC? That's the reality I'm living in, and
I suppose Larry has a similar environment. I was even astonished that
he listed only a 400 MB disk, I wouldn't buy anything below 1 GB.

On the other hand, might be that peripherie prices in the US are
really as low, I would love to have a `nice' 17" monitor (i.e.,
one that has ca. 80 kHz, 135 MHz, Trinitron if possible) for $ 850.
But I suspect that Donald's term `nice' is simply a different one than
mine.

Cheers,
        Joachim

--
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Joachim Schrod                  Email: schrod@iti.informatik.th-darmstadt.de
Computer Science Department
Technical University of Darmstadt, Germany

------------------------------

From: schrod@iti.informatik.th-darmstadt.de (Joachim Schrod)
Subject: Re: Unicode & Linux's future (was Re: Acid)
Date: 5 Sep 1994 10:48:33 GMT

In article <1994Sep3.204420.2737@midway.uchicago.edu>, goer@quads.uchicago.edu (Richard L. Goerwitz) writes:
> 
> Am I babbling nonsense, or am I making sense?

I think you underestimate the effort to make a truly multilingual
environment.

Take Khmer as an example, where syllables form clusters around a
`determining glyph'. There _are_ non-unidirectional scripts, that are
not covered by a method to switch directions in any way. How about
Berber or other similar scripts that have no predefined direction?

Unicode might be a nice thing, but it does not care for many scripts
of this world; so it will not be THE solution, either. ('Though it
would be a Good Thing to have support for it more widespread.)

        Joachim

--
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Joachim Schrod                  Email: schrod@iti.informatik.th-darmstadt.de
Computer Science Department
Technical University of Darmstadt, Germany

------------------------------

From: bjdouma@xs4all.nl (Bauke Jan Douma)
Subject: WARNING about shadow-mk package
Date: 5 Sep 1994 13:56:22 GMT


If you are about to update you shadow programs with the shadow-mk
package by Mohan Kokal, think again.

Here's the snippet from the Makefile in that package where login is
installed:

        install -m4755 login $(LOGINDIR)/_login
        install -m4711 login.secure $(LOGINDIR)/login

It appears that login is installed as _login, and another binary,
login.secure is installed as login. 
This package has no sources for login.secure!
Login.secure was never in the original shadow-3.n.n packages by John
F. Haugh, and in this package is nowhere referred to.


Sagittarius(tty2):/usr/src/shadow-mk> ls -la login*
-rwx--x--x   1 root     staff       27792 Sep  1 15:05 login
-rw-r--r--   1 root     staff        3351 Jun 28 04:44 login.1
-rw-r--r--   1 root     staff       14568 Sep 17  1993 login.5
-rw-r--r--   1 root     staff        3264 Sep 17  1993 login.c
-rw-r--r--   1 root     staff        5324 Jul 13 09:12 login.defs
-rw-------   1 root     staff        1555 Sep  1 15:04 login.o
-rws--x--x   1 root     staff        1124 Jul 13 10:36 login.secure <- ?


I would advise anyone that has installed this package to remove it.

Of those that have already emailed me on this, one person told me in
his correspondence with the author of this package (Mohan Kokal) that
author, in his helpfulness, asked for a temporary account on his
machine and, having been denied that, asked for the password file.
The emailer also told me he has observed this author to be bragging
about violating computer security.



bjdouma@xs4all.nl  (Bauke Jan Douma)


------------------------------

From: ghynes@public.compusult.nf.ca (Gerard Hynes)
Subject: Re: Future of linux -- the sequel
Date: Mon, 5 Sep 1994 10:18:13

In article <CvMI0w.DyD@ucdavis.edu> broadley@hopper.ucdavis.edu (Bill Broadley) writes:
>From: broadley@hopper.ucdavis.edu (Bill Broadley)
>Subject: Re: Future of linux -- the sequel
>Date: Sun, 4 Sep 1994 20:53:19 GMT

>: If I wanted to do any floating point, I would also want the SGI, since
>: it puts Pentium to shame.  Which brings us back to my main point, which
>: is that a Linux system with a non-Intel processor would be a "good thing."

>Hmm this hypothetical SGI indy with the same price/performance as a 
>p-100 with 512k cache with 1.0 GB disk and 32 MB ram for about $5,000.

[ P-90 vs. SGI Indy remarks deleted .....munch,munch burp!]

I have to agree with you Bill.  The SGI is targeted at low-cost (<$10k)
3-D graphics users.  The Indy is an expensive proposition when you
compare it to P-90 systems for just general-purpose computing.

The Linux community has done a remarkable job of supporting just
about every commodity computer peripheral in existence.  This fact
plus the overall quality of the software appeals to many users,
wether they are academics, bit twiddlers etc.

Powerful graphics accelerators are here today from a number of
companies.  Floating point performance (SGI's strong suite) will
improve on Intels (eventually) and as such Linux users will have 
better FP performance in the future.

>Not sure if that will be a 601-100, an alpha 200 mhz, a 4600-150, a 
>4400-200, or 604 will be the first, but I'll be waiting.

125Mhz, 150Mhz, 175Mhz, 190Mhz 21064 APLHAs are here today.
The 190Mhz ALPHA is the core of the 2100 server.  VAX 7000 and
VAX 10000 have >200Mhz available today. 
275Mhz are due in quantity before the end of the year.

If you want to see a real "HOT" chip, check out the HOT CHIPS
papers on the proposed 21164 ALPHA. ~9.3 million elements,
2 levels of cache on-chip, L1=16k direct-mapped write through,
L2=96k(!) 3-way set associative.  Coming out of the gate (pardon the
pun) at ~300Mhz.   Recent comp.arch articles cover the chip in
greater depth.

>--
>Bill Broadley           Broadley@math.ucdavis.edu           UCD Math Sys-Admin
>Linux is great.         Bike to live, live to bike.                     PGP-ok


------------------------------

From: lan_lada@rcsw52 (Marino Ladavac)
Subject: Re: ext2fs corruption in 1.1.47-48
Date: Mon, 5 Sep 1994 13:04:12 GMT

rob@pe1chl.ampr.org (Rob Janssen) writes:
: 
        [explanation of my symptoms deleted]
: 
: I think it should not matter how many devices supply terminator power,
: as long as at least one does.  The quality of the cable and the type of
: termination can make quite some difference.

One of these days I will rip the OS/2 machine open and move the SCSI into
Linux box.  We'll see ...
: 
: Do you have parity enabled on the SCSI bus?

I believe yes, but I am not really certain.  However, on occasion even
two bits were inverted, therefore preserving parity.  Might be the cable.

: Did you do the same 50MB test under OS/2 and DOS?  What happened?

Unfortunately not (for the lack of compiler.)  However, some 400 MB of
stuff is there living fine (albeit much slower than on IDE drives.  Any
reason for that?)

/Alby

--
Proof by Intimidation:
        "I'm bigger, therefore I'm right."

noone@nowhere.in.particular

------------------------------

From: cowboy@cowboy.async.csuohio.edu (Joe Rosenfeld)
Subject: Re: Wanted: ircII that is *complete*
Date: Mon, 5 Sep 1994 13:14:11 GMT

Scott Howard (c9219517@sage.newcastle.edu.au) wrote:

: : Yes, cs.bu.edu:/pub/irc/clients.  ircII compiles under Linux with a very
: : minor change to config.h.  Read config.h, because it tells you exactly
: : what to change.

Nothing very major, but the site has changed to:

        ftp://ftp-cs.bu.edu:/pub/irc/clients

Just in case anyone is interested.

cowboy

------------------------------

From: st@epcc.ed.ac.uk (Scott Telford)
Subject: Re: Linux - my first impressions
Date: Mon, 5 Sep 1994 13:51:34 GMT

In article <CvGstn.GH8@mail.auburn.edu>,
lynn@magneto.physics.auburn.edu (Owen Lynn) writes:

> In article <34447i$ksa@rs18.hrz.th-darmstadt.de>,
> olav woelfelschneider <wosch@rbg.informatik.th-darmstadt.de> wrote:
> >Owen Lynn (lynn@magneto.physics.auburn.edu) wrote:
> >: Hi folks!
> >
> >[..lotsa deleted..]
> >If you like to edit a config file, just edit /usr/src/linux/config.in
> >It should be clear for you what to edit there.
> >Then make config and just press return until you are throug.
> >Maybe you could also change the makefile so that you have no need to 
> >press return that much. Contribute your changes (: !
> 
> Ok. Who do I send the diffs to when I'm done? Is there a way to specify
> the name of the kernel, like in 4.1.x? The closest thing I could find
> was a file called version.h.

My Pseudo-BSD-Style Kernel Config package (ftp.epcc.ed.ac.uk:/pub/
personal/st/linux/pBs-config-2.0.tar.gz) will let you eschew all this
config.in nonsense in favour of a BSD-like kernel config file,
configuration names and all.  Unfortunately the current release only
supports Linux v1.0.x or v1.1.[25-27] - I'd update the diffs to the
current release if I thought they wouldn't be broken again by a new
kernel release a day later....

-- 
Scott Telford, Edinburgh Parallel Computing Centre,        <s.telford@ed.ac.uk>
University of Edinburgh, Mayfield Rd, Edinburgh, EH9 3JZ, UK. (+44 31 650 5978)
-- "We do want to tour again, we will tour again" - Kate Bush, Munich, 1980. --

------------------------------

From: zhang@gmsds.ms.ornl.gov (Xiaoguang Zhang)
Subject: Re: time speeds up
Date: 5 Sep 1994 14:27:13 GMT

David Monro (davidm@syd.dms.CSIRO.AU) wrote:

: Yeah, I get this too. I always assumed it was a hardware problem, since
: I don't run the machine under DOS, but recently my mother has been using
: the machine under DOS and it doesn't seem to happen there. It was about
: 45mins fast after about 5 hours use the other night too - gave me a real
: fright. The problem seems to have got worse a few kernels ago.
: I manually fix the clock (and yes, I do write it back to the CMOS clock
: as well) whenever I boot the machine.

Have you been playing with your pc speaker?

I've seen this problem a long time ago under DOS, when I was running
a video game (forget which one). The clock advanced about 10 hours after
about half an hour of play. Talking about time flies by. :-)

Back then my 386sx did not have a real time clock and the CMOS clock was
driven by the timer chip. The video game used the timer chip to play sound,
therefore messed up the clock.

------------------------------

From: iialan@iifeak.swan.ac.uk (Alan Cox)
Subject: Re: IP routing not using default net?
Date: Mon, 5 Sep 1994 12:43:03 GMT

In article <nickbCvIGEp.Hxz@netcom.com> nickb@netcom.com (Nicholas L. Barbieri) writes:
>We are seeing a problem with the IP routing in the 1.1.45+ kernels.
>The default route is not being used.  Putting a literal route in
>the table works fine, but we have too many networks to document.
>Anybody tried this on a big network?

As is always the case 'Its working for everyone else'. Run some tcpdump
traces make sure its not the gateway thats a problem. Email me your route
table and /proc/net/route.

Alan

-- 
  ..-----------,,----------------------------,,----------------------------,,
 // Alan Cox  //  iialan@www.linux.org.uk   //  GW4PTS@GB7SWN.#45.GBR.EU  //
 ``----------'`----------------------------'`----------------------------''

------------------------------

From: gaiga@c700-1.sm.dsi.unimi.it (alberto gaiga)
Subject: NOVELL lan driver for linux ??
Date: 5 Sep 1994 16:34:41 +0200

Dear Linuxers,
I have a PC on a NOVELL lan, I would like to use it
with linux...
You know... dos is not Uni*!
Well, the question is this:
        The novell is attached to Internet,
                is there a way to let my pc
                share this link? Can my Pc
                run linux and use novell to reach
                the outer world?
The only way that I can figure is to use another
PC as MSDOS-SLIP server and attach my machine to it.

Any help will be appreciated very much.
PLEASE ANSWER WITH MAIL!!!
Best regards,Alberto.


------------------------------

From: Mitchum.DSouza@mrc-apu.cam.ac.uk (Mitchum DSouza)
Subject: Re: DLL Tools for Linux
Date: 5 Sep 1994 15:02:25 GMT

In article <3429ii$58l@sndsu1.sinet.slb.com>, allen@ariel.com (Marc L. Allen)
writes:
|> I'm working with the DLL Tools for Linux, but I'd like to find the latest
|> version.  Could someone please let me know?

Read the GCC-FAQ on sunsite.unc.edu:/pub/Linux/docs/faqs. The version
number of the tools may be different, but the site the latest version is
available from is still correct (at least was the last time I looked).

|> Also, is there a way for me to debug into a shared library that these tools
|> generate?  I tried gdb, but all I get are my non-library source files.

I dont't understand your concept of "debug a shared library". Do you mean
debug the entry point fixups before the shared libraries, or the actual
functions therein. If the latter, then you should just compile with -g
which will give you static versions of the functions which you can debug
with ease.

|> Also, where can I find information on alternative shared library
|> implementations?  I know that gcc supports a PIC option that supposedly
|> allows shared libraries to be created.  Where can I get more info on that?

At the moment there is little/no documentation on alternatives (the alternative
shared libraries being ELF/PIC and a.out/PIC current being finished/cleaned
up for public consumption). Although GCC supports -fpic, linux doesnt use it
(yet). FreeBSAD does however.


Mitch

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
