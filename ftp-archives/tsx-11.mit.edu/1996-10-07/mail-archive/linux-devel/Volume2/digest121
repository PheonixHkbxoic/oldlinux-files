From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Mon, 5 Sep 94 05:13:18 EDT
Subject:  Linux-Development Digest #121

Linux-Development Digest #121, Volume #2          Mon, 5 Sep 94 05:13:18 EDT

Contents:
  organization of loadable modules in kernel sources (Larry Augustin)
  Re: Wheres blkdev.h?? (compiling 1.1.49) (Mike Lilie)
  Re: MATROX PCI Graphics board supported ?? (Mark West)
  Re: Linux and Novel Print server? (Andrew Anderson)
  Re: Installation, Support, Testing [Was: Future of Linux] (Michael Dillon)
  Re: Future of Linux (Michael Dillon)
  Re: Acid (Michael Dillon)
  Re: BOOTPD / newer kernels, BUG? (Christian Holtje)
  Pioneer CDROM Jukebox (cmattern@ronin.mindspring.com)
  Re: Linux and Novel Print server? (cmattern@ronin.mindspring.com)
  Linux on Fosa laptops? (Zack T. Smith)
  Re: Linux on Fosa laptops? (Tracy R. Reed)
  Patch: ftape-1.13b w/kernel 1.1.49
  Re: test (Jim Williams)
  Re: polled ports (Bruce Evans)
  Re: Future of linux -- the sequel (Erik Fortune)
  Re: floppy problems in 1.1.49 (Doug Nicholson)

----------------------------------------------------------------------------

From: lma@dayton.Stanford.EDU (Larry Augustin)
Subject: organization of loadable modules in kernel sources
Date: 5 Sep 94 03:07:56 GMT

Currently linux/modules/*.o are symlinks to ../drivers/net/*.o.  This
means that the .o files in linux/modules may not necessarily be
loadable modules depending on how you configured the kernel.  I build
kernels for a lot of different machines, and this has bitten me on
several occasions.

I found it useful to make the following changes to guarantee that
linux/modules actually contains modules.

1. mkdir linux/modules/net.

2. cd linux/modules/net

3. ln -s ../../drivers/net/Makefile ../../drivers/net/*.{c,h} .
    (*.h, *.c is overkill, but it's fast to type)

4. change the modules target in ../../drivers/net/Makefile as follows

modules:
        echo $(MODULES) > ../../modules/net/NET_MODULES
        (cd ../../modules/net;$(MAKE) CFLAGS="$(CFLAGS) -DMODULE" $(MODULES))

The idea is pretty simple.  Source files in modules/net are symlinked
to source files in drivers/net.  The files in drivers/net may or may
not be compiled with -DMODULE depending on the configuration.  The
files in modules/net are always compiled with -DMODULE.

While I'm on the subject, another thing on my wish list would be
support for building multiple kernels from multiple config files as in
BSD.  (I know this has been done by people in the past, but it sure
would be nice to see it propagate into the standard kernel.)

Regards,

Larry

------------------------------

From: mike@menkar.ftlsw.telematics.com (Mike Lilie)
Crossposted-To: comp.os.linux.help
Subject: Re: Wheres blkdev.h?? (compiling 1.1.49)
Date: 5 Sep 1994 04:00:21 GMT

In article <CvL0JI.G2F@dorsai.org>, Carlos Dominguez <Carlos Dominguez> wrote:
>I got the 1.1.45 kernel, applied all the patches sequentially from
>46 to 49 to my 45 source tree, and whenever I do a make dep I always 
>get this.
>
>ksyms.c:13:  linux/blkdev.h: No such file or directory

If you look in /usr/src you'll probably find it along with the other
files that have been added since 1.1.45.  It seems that patch doesn't
know where to put new files without the -p0 option.



------------------------------

From: mwest@kalman.newcastle.edu.au (Mark West)
Subject: Re: MATROX PCI Graphics board supported ??
Date: Mon, 5 Sep 1994 03:45:42 GMT

Harald von Fellenberg +41-1-801-3578 DTN 760-3578 (harald@zuunix.zuo.dec.com) wrote:

: Is anybody working on the MATROX PCI graphics board support? Or how can it be 
: configured using default parameters? I have not found any indication about the
: board in XFree86-2.1.1...

: thanks!

: Harald von Fellenberg
: Senior Technology Consultant
: DEC Digital Equipment Corp. AG
: CH-8600 Dubendorf, Switzerland
: hvf@zuo.dec.com
: "Felix qui potuit rerum cognoscere causas"


I would like this information as well.

Thanks

Mark West
Research Engineer
CICS University Of Newcastle
Australia.
mwest@ee.newcastle.edu.au


------------------------------

From: andrew@amelia.db.erau.edu (Andrew Anderson)
Subject: Re: Linux and Novel Print server?
Date: 4 Sep 1994 03:53:40 GMT

root (fnrjh@dev103.elmer.alaska.edu) wrote:
:   I know this is most likly not possible.   What I want to do is find 
: a way I can print to my novel print server?  How would
: I do that?   Any suggestions.  Robert

: fnrjh@dev103.elmer.alaska.edu

There are a set of NLMs out there called (suprise!) LPR.NLM and LPD.NLM,
that will allow *nix hosts to print to Netware print queues, and Netware
to print to *nix printers.  I've only tested the lpd.nlm, and it looks
good.  I think it's $75 to register one, and $100 or $125 to register
both.

--
|===========================================================================|
|  Andrew Anderson                              andrew@db.erau.edu          |
|  Novell Network System Administrator          "Making the impossible      |
|  Linux System Administrator                    possible -- daily!"        |
|                                                                           |
| I don't speak for ERAU, and God knows I don't want them to speak for me!  | 
|===========================================================================|

------------------------------

From: mpdillon@halcyon.com (Michael Dillon)
Subject: Re: Installation, Support, Testing [Was: Future of Linux]
Date: Sat, 03 Sep 1994 21:13:58 +0000

> Binary distributions:
>       Surf as above. Locate binary distribution for your machine,
>       with the right combination of compile-time switches for
>       debugging, security, SOCKS, term, etc. Hope it's got a PGP
>       signature from somebody you know.
>       Install in /usr/local, send mail to your local consituency
>       telling them about the new app and where the documentation
>       lives.
> 
>       Support: FAQ, email, USENET, plus perhaps evolving online
>       documentation via WWW.
you forgot: OOPS, need to get the source distribution for DOCS so
            hunt around the net some more for the docs that match
            your binary version. :-(

>       For binaries, you can install them on a :
>               per-user basis, in ~/...
>               per-group basis, in /some/dir/shared/by/the/group
>               per-host basis, in /usr/local (or /opt, or ...)
>               per-site basis, in /some/nfs/exported/dir
>                               or /some/afs/exported/dir

It would help if programs would keep their binaries and files
in one directory rather than scattered all over the place.

>       The applications should support online hypertext help,
>       (how do we integrate this with man/whatis?)

Right now, man will run nroff as needed to format document
sources into viewable docs. If we adopted HTML as the standard
source document format, then man could simply be replaced
by lynx. It may even be possible to build some scripting tools
that convert an nroff source document into an HTML document
with some links to follow up the "SEE ALSO" section as well
as internal links so that a man page starts with a useage line
followed by a row of links for all the subheadings like
"OPTIONS" "BUGS" "SEE ALSO".  It could even have links
to the relevant support newsgroups and email links to the authors.
There is lots of interesting stuff that you can do with HTML
and it is supported by both text browsers "lynx" and X browsers "Mosaic".

>       with some FAQ, and a pointer to the home of the up-to-date FAQ,
>       and an automated problem reporting facility that searches
>       out the relavent configuration information, recent errors,
>       etc., and allows the user to edit a description. The problem
>       gets mailed to the relavent developers and/or mailing lists.

Yep. HTML forms and email support as in Mosaic and Lynx 2.4, I believe.


cruisin' down the information highway, lookin' for a blast
breakin' all the speed limits as I come zoomin' past!
--
Michael Dillon                 Internet: mpdillon@halcyon.halcyon.com
C-4 Powerhouse                  Fidonet: 1:353/350
RR #2 Armstrong, BC  V0E 1B0      Voice: +1-604-546-8022
Canada                              BBS: +1-604-546-2705

------------------------------

From: mpdillon@halcyon.com (Michael Dillon)
Subject: Re: Future of Linux
Date: Sat, 03 Sep 1994 21:29:24 +0000

> (Like a Linux box running some dumb terminals off a multi-port card or two... an
> easy sell to the guy contemplating Novell plus the cost of a bunch of PCs and wiring
> and all the other mess that goes with Netware!)  

I would like to point out that when I was starting out in the consulting/
custom software business (i.e. no established reputation) we used to
win jobs because we had a better price since we were using SCO Xenix
and dumb terminals while the other guys were flogging Novell
file servers and a bunch of PC workstations. Dumb terminals such
as the ubiquitous Wyse 60 and Wyse 150 models are STILL cheaper than
PC workstations and will do 90% of the work most businesses really
need (i.e. data entry, number crunching, reporting). If I was starting
out today, Linux and a product like flagship are DEFINITELY the way
I would go.


cruisin' down the information highway, lookin' for a blast
breakin' all the speed limits as I come zoomin' past!
--
Michael Dillon                 Internet: mpdillon@halcyon.halcyon.com
C-4 Powerhouse                  Fidonet: 1:353/350
RR #2 Armstrong, BC  V0E 1B0      Voice: +1-604-546-8022
Canada                              BBS: +1-604-546-2705

------------------------------

From: mpdillon@halcyon.com (Michael Dillon)
Subject: Re: Acid
Date: Sat, 03 Sep 1994 21:35:48 +0000

>     Again, "truly internationalized" is something that will take a while in 
> any OS.  Can you think of ANY OS or app that will allow you to write from 
> left to right(English & most European languages), right to left(Hebrew) AND 
> top to bottom from the left to right (Chinese), all in the same document?

Yep, two. One is NAPLPS which is an ANSI/CSA/ISO standard for representing
graphics and text that was originally developped for TV videotext but is
now used in distance education (with Thai, and Inuktitut and Korean
and Chinese), and by BBSes (Lakota Sioux, Japanese, Cyrillic).

The other one is Postscript although I'm not sure that there is any
frontend application or very many fonts that let you access the full
power of Postscript for this kind of thing.


cruisin' down the information highway, lookin' for a blast
breakin' all the speed limits as I come zoomin' past!
--
Michael Dillon                 Internet: mpdillon@halcyon.halcyon.com
C-4 Powerhouse                  Fidonet: 1:353/350
RR #2 Armstrong, BC  V0E 1B0      Voice: +1-604-546-8022
Canada                              BBS: +1-604-546-2705

------------------------------

From: choltje@ux1.cso.uiuc.edu (Christian Holtje)
Subject: Re: BOOTPD / newer kernels, BUG?
Date: 5 Sep 1994 05:06:03 GMT

James MacLean (jmaclean@localhost) wrote:
: Thomas Ziegler (zie@lte.e-technik.uni-erlangen.de) wrote:
: : I have problems with bootpd and the newer kernels (booting clients throug net). 
: : With stock 1.1 everything works like it should, but with 1.1.29 and 1.1.45 (I
: : don't compile every patch version) bootpd fails. Here are the errormessages:

Ummmm....anyone know where to get a version of the bootpc that works?

        -Doc

--
    ---     ---     ---   -      -  -  -   ---  -----  docwhat@uiuc.edu
   +   -  +    -  +      +      +  -  +  -   +   -    CS major at Illinois
  *   +  *    +  *      *  +   *  +*+*  +*+*+   *    --- finger me at ---
 ****     ***     ***   **  **   *  *  *   *   *    choltje@ux1.cso.uiuc.edu

------------------------------

From: cmattern@ronin.mindspring.com
Subject: Pioneer CDROM Jukebox
Date: 4 Sep 1994 20:39:30 -0400
Reply-To: cmattern@mindspring.com

Is anyone aware of a driver for the Pioneer DRM-6xx series of CD Juke
boxes?  As I understand it the device is SCSI compliant and appears as a
single SCSI device on the bus with 6 logical units.

Would it be possible to just use mknod to set up appropriate device
files?

Any info would be appreciated.

-- 
===================================================================
|Chuck Mattern           | "Not failure, but low aim, is crime."  |
|cmattern@mindspring.com | -James Russell Lowell-                 |
===================================================================

------------------------------

From: cmattern@ronin.mindspring.com
Subject: Re: Linux and Novel Print server?
Date: 4 Sep 1994 20:45:19 -0400
Reply-To: cmattern@mindspring.com

LemurBoy (jason@job.cba.ua.edu) wrote:
: root (fnrjh@dev103.elmer.alaska.edu) wrote:
: :   I know this is most likly not possible.   What I want to do is find 
: : a way I can print to my novel print server?  How would
: : I do that?   Any suggestions.  Robert
: : fnrjh@dev103.elmer.alaska.edu

:       Actually it's quite easy. I'll post this publically for all those
: who might be interested.

:       Get hold of an NLM called iQueue. It can be found under the
: name lpdnlm.zip on many host about the internet.

:       It implements the Berkeley LPD protocol in an NLM which allows you
: to remotely place jobs in netware queues, manage those queues, and export
: queues to other remote LPDs.

:       It's a nice piece of shareware that works well with anything that
: speaks lpd. BTW, if you're running the unregistered version it will
: automatically unload itself after one hour. Annoying, but more than enough
: time to try it out.

:       I plan to register mine soon.

If I might be so bold...
What is the registration fee?
-- 
===================================================================
|Chuck Mattern           | "Not failure, but low aim, is crime."  |
|cmattern@mindspring.com | -James Russell Lowell-                 |
===================================================================

------------------------------

Crossposted-To: comp.os.linux.help
From: zack@netcom.com (Zack T. Smith)
Subject: Linux on Fosa laptops?
Date: Sun, 4 Sep 1994 04:15:09 GMT

Hello,

I'm looking for any info on whether Linux runneth on the
Fosa DX2/66 or DX4/100 laptops.

Anyone had experience running Linux w/these machines?

Thanks in advance-

Zack Smith

PS: Is there any sort of centralized repository for compaitibility
with various laptops? I recently install slackware Linux on a 
Toshiba 1910 and I'd be glad to donate a summary of my experiences
if such a repository/document exists.


------------------------------

From: treed@ucssun1.sdsu.edu (Tracy R. Reed)
Crossposted-To: comp.os.linux.help
Subject: Re: Linux on Fosa laptops?
Date: 4 Sep 1994 05:32:22 GMT

Zack T. Smith (zack@netcom.com) wrote:
: Hello,

: I'm looking for any info on whether Linux runneth on the
: Fosa DX2/66 or DX4/100 laptops.

My Linux runneth over...

=============================================================================
Mr. Tracy Reed         |Every artist is a cannibal.|Two Betazoids walk into
San Diego State Univ.  |Every poet is a thief.     |  a bar.
Aerospace Engineering  |All kill their inspiration |
treed@ucssun1.sdsu.edu |And sing about their grief.|One says,
treed@tbn-bbs.com      |-U2 IRC-Maelcum /me smiles |  "I'll have the same."
=============================================================================

------------------------------

From: hacsc218@huey.csun.edu ()
Crossposted-To: comp.os.linux.help
Subject: Patch: ftape-1.13b w/kernel 1.1.49
Date: 5 Sep 1994 07:46:32 GMT

Several people have posted about using ftape 1.13b with newer kernels.
Gary Foster posted a patch for compatibility with kernels in the 1.1.45
range. For patchlevel 1.1.49, there is a new incompatibility: the
declaration of the request_dma function has been changed somewhere
between 1.1.45 and 1.1.49:

/usr/include/asm# grep "request_dma" dma.*
dma.h:extern int request_dma(unsigned int dmanr, char * deviceID);
          /* reserve a DMA channel */
dma.h.orig:extern int request_dma(unsigned int dmanr);
          /* reserve a DMA channel */

The device ID is the string "ftape". With this change (line 954 of
fdc_io.c), ftape-1.13b compiled and, much to my astonishment, worked.
Apply this patch to ftape-1.13b for use with the 1.1.49 kernel. This 
patch includes the one Gary Foster supplied. Apply it directly to the
ftape-1.13b distribution. It's in gzip/uuencode because the lines were
as long as 80 characters and I didn't want it to get mangled. And besides,
it's a lot shorter that way.

hacsc218@huey.csun.edu / MikeIngle@delphi.com

begin 644 ftape.patch.gz
M'XL("$S&:BX``V9T87!E+G!A=&-H`-53VV[:0!!]+E]Q@M3(N+ZF004B'FA*
M):*$M@2>K<5>@Q7C==9+0A7EWSN^`(86]:526V2DW=F9,V=FSNBZCC#PS4A8
M_IL[D>">IT`;CM-S.[T+!VZW>]DP31.A8BFWPFC#`_M41+OGN&6$?OC+[^B^
M[QC=]@<4!N"%_L!T,K@>>I]G8PT=`TU"]A:2S;U(/GHL";Q@Q9JMJ\(U2A0D
MS]:Q0A_.5<,D6Z;DVE?(H@7S541L"IH>W;W*T*=$N2>J)T+A4JY39<`Q<#_P
M1N/I<#*9?9T:&,]N;POGUSQCF32$1J2LI1`/..OC/!!>&(LT_=ZJ*@!L';AF
M22(4UADGCH]KGJF\!,RYSW+;,WV,^#.$+%/8D:@00`A+*C?FDMXRQ5D`$9)W
M(N2*Q1`)AY9QC@<N$Q[;!&WY+6L7;3?.BL.N/>10UJ_EX[7H:N#\N#=57\LB
MR]!]4=5H-JX&TZ7)S!(VCSF40#X?C";?W@8(A2S;BD!&3UPVC6VZ'7:-E#D<
M?=F:7\%CZLM+1;SFM6T?3;XD3X<:VJ^Y_H;MI[O!:;:'^*03R7D^/*U62[X!
M6_W2V?P3^OTO%/:NBMX=<#.\^0CWPG8Z=N?R@(K/$H)[1B"..&2@S'M-[K&B
MC`(0BV1!M/@F%5)QFI,4*ZCEELMIE=>2UW3^TYX?+GFS>&_^^^*OM&D<$_Y;
+._`#L4JB?2P&``!Q
`
end


------------------------------

From: jim@199.86.32.8 (Jim Williams)
Subject: Re: test
Date: 4 Sep 1994 16:11:12 GMT


 Ok were should the getty defaults go now? I have always had mine in the 
etc/defaults?


------------------------------

From: bde@kralizec.zeta.org.au (Bruce Evans)
Subject: Re: polled ports
Date: 5 Sep 1994 18:08:52 +1000

In article <CvMKs5.3AK@pe1chl.ampr.org>, Rob Janssen <pe1chl@rabo.nl> wrote:
>In <34chrk$1me@nermal.cs.uoguelph.ca> hpulley@uoguelph.ca (Harry C Pulley) writes:
>>Are there any known improvements to the polling code?  1200 baud shouldn't be
>>too fast...
>
>It polls 100 times per second, the timer-interrupt rate.  So 1200 baud
>is already slightly too fast for this mode.
>It could be usable with 16550A chips, but they have other problems when
>used with a mouse.  Therefore they are disabled below 2400.

The other problems don't apply if the port is polled.  Therefore the
16550 FIFOs shouldn't be disabled below 2400 if the port is polled.

>It is better to listen to the rest of the world, and somehow move your
>IRQs or use a board which can share IRQs.

The rest of the world runs DOS and supplies boards which can't share
IRQs.  It would take me longer to buy an install new serial hardwar or
to adapt old serial hardware than to adapt serial software.  I run the
timer interrupt at 200 Hz under FreeBSD so that 1200 polled works for a
mouse.
-- 
Bruce Evans  bde@kralizec.zeta.org.au

------------------------------

From: erik@westworld.esd.sgi.com (Erik Fortune)
Subject: Re: Future of linux -- the sequel
Date: 5 Sep 1994 08:32:51 GMT


In article <CvMKy4.3Bz@pe1chl.ampr.org>, rob@pe1chl.ampr.org writes:
> BTW...  there was a nice inside-story from within SGI posted on a
> Linux group some time ago.  It's unfortunate that I did not keep a copy...
> It expressed quite a different opinion on the Indy...

Yes, it's a pity you didn't keep a copy.  The memo in question was complaining 
about the performance of the now obsolete IRIX 5.1 *not* the performance of
the Indy itself.  Quite some time ago, we released IRIX 5.2 which addresses 
nearly all of the performance complaints of the original (confidential!) memo.

-- Erik

------------------------------

From: tinamou@vega.cray.com (Doug Nicholson)
Subject: Re: floppy problems in 1.1.49
Date: 5 Sep 94 03:13:23 CDT

Michael Callahan (callahan@maths.ox.ac.uk) wrote:

[ ... some stuff deleted ... ]

: Sep  2 04:58:18 darkstar kernel: VFS: Disk change detected on device 2/0
: Sep  2 04:58:22 darkstar kernel: floppy: disk absent or changed during operationSep  2 04:58:22 darkstar kernel: floppy I/O error
: Sep  2 04:58:22 darkstar kernel: dev 0200, sector 38

[ ... more stuff deleted ... ]

You're not the only one having problems, Mike.

I get messages similar to the above when I boot from floppy and
the kernel is copying the floppy to the ramdisk.  This occurs
with both 1.1.23 and 1.1.45 but not 1.0 or 1.0.9.

Doug Nicholson
tinamou@cray.com

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
