From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Thu, 1 Sep 94 21:13:07 EDT
Subject:  Linux-Development Digest #103

Linux-Development Digest #103, Volume #2          Thu, 1 Sep 94 21:13:07 EDT

Contents:
  Why was ncp removed in 1.1.48? (Frank Lofaro)
  Re: IDE Hard Drives w/ over 1024 cylinders (Chris Wong)
  time speeds up (York Lam - ACPS/F93)
  re: Got the bastard! (david kelly)
  1.1.49 trouble (JL Gomez)
  Re: Future of linux -- the sequel (Larry Pyeatt)
  Re: Linux - my first impressions (Bao Chau Ha)
  Re: SERIAL BUG! getty_ps/Linux 1.09/Rockwell modems (Clayton Haapala)
  Re: svgalib can't open /dev/mem w/1.1.47 (-Michael P. Lindner)
  Re: Kernel change summary 1.1.45 -> 1.1.46 (Marc Fraioli)
  Re: Future of Linux (Mark A. Horton KA4YBR)
  Re: Threads for Linux (Marc Fraioli)
  Re: What on earth is happening to the stabilit (Marc Fraioli)

----------------------------------------------------------------------------

From: ftlofaro@unlv.edu (Frank Lofaro)
Subject: Why was ncp removed in 1.1.48?
Date: Thu, 1 Sep 94 05:58:48 GMT

Why was NCP removed in 1.1.48?
Too alpha to end up in 1.2.0, or did Novell threaten to sue? :(

(Not that I persoanlly need it, far from it, but I want to know if 
Linux is being threatened by the Novell Empire or whether it is something 
less sinister.

------------------------------

From: chris@helser54.res.iastate.edu (Chris Wong)
Subject: Re: IDE Hard Drives w/ over 1024 cylinders
Date: 1 Sep 1994 14:57:15 GMT

In article <9408311222.AA04832@redbird.umsl.edu> matthew@redbird.umsl.edu  
(Matthew Feldt) writes:
> I recently purchased a Western Digital 540mg hard drive on which I  
installed
> Linux on to a partition of.
> 
> Since I partitioned up the disk DOS doesn't care about the number of  
cylinders
> but while installing Linux I kept getting the following warning:
>   "The nuber of cylinders for this disk is set to 1048.
>    This is larger than 1024 and may cause problems with some software."

I have a similiar problem.
I turned on the IDE (WD-1003/ST-506) emulation mode of my DPT SCSI card so  
that I can install Slackware 2.0 and patch the kernel to include the alpha  
SCSI driver for EATA card.  However, when boot up Slackware 2.0 boot disk,  
it gave me the following message.

hd.c: ST-506 interface disk with more than 16 heads detected,
  probably due to non-standard sector translation.  Giving up.
  (disk 0; cyl=950, sect=32, head=64)

The cylinders, sectors, heads, are whatever I enter into CMOS setup.  My  
harddrive is a Micropolis 2112 with logical disk geometry 1001 cyl x 64  
heads x 32 sec/track.  I enter 950 cylinders into CMOS just to avoid  
confusing fdisk.  However, it didn't work either, whether it's over 1000  
cylinders or not.

fdisk just gave me "Unable to access /dev/hda".

The physical disk geometry is 1744 cyl x 15 heads x VAR sec/trk.

Anyone has any idea why Slackware gives me that message?  Is it an error  
message?

Thanks in advance for helping get into the Linux community.

Chris

------------------------------

From: ylam@acs.ryerson.ca (York Lam - ACPS/F93)
Subject: time speeds up
Date: 1 Sep 1994 14:49:54 GMT

Has anyone experienced the clock running abnormally fast?  I set the correct
time, have had the system up for 1 week or so and the time is now almost
15 mins fast.  I gain about 2 mins a day for no apparent reason.  This has
been happening with kernel versions going way back (pre-0.99.10), I've
reported this before but didn't get any response.  Is this only happening
to me?  I'm running 1.1.48 but I don't expect patch49 to have a fix.  Is
there something obvious that I've overlooked?  BTW, as a check, the system
has recently sat at the MSDOS prompt for over 4 days and *lost* only 1 sec.
The board is a 386-40/256k cache/387 with 32M.  This has been happening with
1 IDE drive, ATIXL card, and simple multi-io.  Now the equipment connected
are 2 IDE drives, ATI Ultra card, 4-16550 card.  Still nothing out of the
ordinary as far as I can tell.  I'll have to do some deep digging this
weekend.  I'm getting fed up having to adjust the clock so often (I know
there're services for dialin date/time retrieival but that's not the point).
 
A side question:  In the kernel sources, what's the "HZ" constant for?  Any
chance this could be the culprit?

--
  ==========================================================================
 |  York Lam <-=-> ylam@acs.ryerson.ca  | It's only fun until someone loses |
  ======================================| an eye... then it's fun for one   |
 |           ( free-space )             | less person, and NOW it becomes   |
 |                                      | a sport!                          |
  ==========================================================================
                                                                          ---

------------------------------

From: dkelly@nebula.tbe.com (david kelly)
Subject: re: Got the bastard!
Date: 1 Sep 1994 17:27:01 -0400
Reply-To: dkelly@nebula.tbe.com (david kelly)

Christopher Cason writes:
| The culprit ? A WD8013-based ethernet card. Why ? I have no idea. When the
| card is in the machine, the corruption happens clearly every time. (My test
| is to mkfs a clean FS, mount it, and copy a 30mB file then do a cmp). When
| it's out, it doesn't. And the FS gets clobbered every time it happens.

Any chance both your SCSI card and Ethernet cards are bus mastering cards
in an ISA chasis? I understand that multiple bus masters from differing
vendors is a big no-no. The manual from my Novell-Eagle NE-2100 doesn't
even permit multiple NE-2100's in the same machine. Then again, this may
not apply to Linux.

I know enough of the ISA bus to be dangerous. It would appear that multiple
bus masters should work as bus access is arbitrated thru the DMA controller.
Maybe someone could address this issue?

David Kelly, N4HHE
dkelly@nebula.tbe.com

------------------------------

From: kitana!sysop@caprica.com (JL Gomez)
Subject: 1.1.49 trouble
Date: 31 Aug 1994 18:36:20 -0500

My 1.1.49 kernel panics when doing heavy I/O.

Here is relevant syslog entries:

Aug 30 22:05:29 kitana kernel: Unable to handle kernel NULL pointer
dereference at virtual address c0000834
Aug 30 22:05:29 kitana kernel: current->tss.cr3 = 00654000, Xr3 = 00654000
Aug 30 22:05:29 kitana kernel: *pde = 00102027
Aug 30 22:05:29 kitana kernel: *pte = 00000027
<INN stuff deleted>
Aug 31 14:38:46 kitana kernel: Kernel panic: EXT2-fs panic (device 8/19):
ext2_read_inode: unable to read i-node block

Here is my 'dmesg' output:

Console: mono EGA+ 80x25, 8 virtual consoles
Serial driver version 4.00 with no serial options enabled
tty00 at 0x03f8 (irq = 4) is a 16550A
tty01 at 0x02f8 (irq = 3) is a 16550A
Calibrating delay loop.. ok - 16.61 BogoMips
Configuring Adaptec at IO:330, IRQ 11, DMA priority 5
scsi0 : Adaptec 1542
scsi : 1 hosts.
  Vendor: HP        Model: D1699-60001       Rev: 5732
  Type:   Direct-Access                      ANSI SCSI revision: 02
Detected scsi disk sda at scsi0, id 0, lun 0
  Vendor: DEC       Model: DSP3107LS         Rev: X441
  Type:   Direct-Access                      ANSI SCSI revision: 02
Detected scsi disk sdb at scsi0, id 1, lun 0
  Vendor: LMS       Model: CM214             Rev: 0.11
  Type:   CD-ROM                             ANSI SCSI revision: 01 CCS
Detected scsi CD-ROM sr0 at scsi0, id 2, lun 0
  Vendor: TANDBERG  Model:  TDC 3600         Rev: =08:
  Type:   Sequential-Access                  ANSI SCSI revision: 02
Detected scsi tape st0 at scsi0, id 6, lun 0
scsi : detected 1 SCSI tape 1 SCSI cdrom 2 SCSI disks total.
Scd sectorsize = 2048 bytes
Memory: 14988k/16384k available (588k kernel code, 384k reserved, 424k data)
This processor honours the WP bit even when in supervisor mode. Good.
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
Swansea University Computer Society NET3.016
NET3 TCP/IP protocols stack v016
IP Protocols: ICMP, UDP, TCP
Checking 'hlt' instruction... Ok.
Linux version 1.1.49 (root@kitana) (gcc version 2.5.8) #1
Tue Aug 30 01:23:30 PDT 1994
Partition check:
  sda: sda1 sda2 sda3
  sdb: sdb1 sdb2 sdb3
VFS: Mounted root (ext2 filesystem) readonly.
Adding Swap: 17388k swap-space
Max size:326341   Log zone size:2048
First datazone:72   Root inode number 73728
ISO9660 Extensions: RRIP_1991A

I've been reading threads about heavy file I/O being flakey.  I've had this
problem since 1.1.39.
-- 
sysop@kitana.org

------------------------------

From: pyeatt@CS.ColoState.EDU (Larry Pyeatt)
Subject: Re: Future of linux -- the sequel
Date: 1 Sep 1994 18:28:21 GMT


In article <CvGnDw.I0C@world.std.com>, entropy@world.std.com (Lawrence Foard) writes:
|> 
|> Why should I pay 5 times more for a non PC system which gives me the same
|> performance as a 486 100?

What?  I was unaware that any company was still making such slow
machines.  You can get a VL bus motherboard with MIPS R4600 processor
that makes Pentium look like a 4.77 8086.  Why waste money on such
a junky architecture as Intel when there are good processors available.

|> When there are enough non PC users to port
|> Linux to other platforms it will get ported. Why do you expect
|> PC users to spend $10K for a workstation so they can spend time porting
|> Linux to it? Its up to the people who own those systems to put in the
|> effort, don't expect someone to do it for you. (If you have all that
|> extra money to throw around why not pay somone to port it?)

Compare the price/performance of processors and Intel comes out to
make the worst processors in existence.  PowerPC chips provide twice
the performance of Pentium at half the cost.  That means they are
4 times as good.  PowerPC is considered slow compared to some other
processors on the market.  For myself, I am just trying to decide
which non-Intel motherboard to get.  They do not cost anywhere near
$10K.
-- 
Larry D. Pyeatt                   All standard disclaimers apply.
pyeatt@cs.colostate.edu           Void where prohibited.

------------------------------

From: habaoch@eng.auburn.edu (Bao Chau Ha)
Subject: Re: Linux - my first impressions
Date: Thu, 1 Sep 1994 14:21:04 GMT

In article <34447i$ksa@rs18.hrz.th-darmstadt.de> wosch@rbg.informatik.th-darmstadt.de (olav woelfelschneider) writes:
>Owen Lynn (lynn@magneto.physics.auburn.edu) wrote:
>: Hi folks!
>
>[..lotsa deleted..]
>
>: The way you reconfigure the kernel, however is radically different to
>: how you do it under 4.1.3. Instead of modifying a config file, you
>: run a shell script which asks you a bunch of questions. Ok, simple
>: enough, and then it gets more familiar - setting dependencies and 
>: cranking the new kernel out. You copy it to the root dir, and name
>: it vmlinuz (sounds oddly 4.1.3ish). Then it gets odd again - you have
>: you reinstall lilo. Easy enough, but wierd. I guess it's probably to 
>: make up for some deficiency in PC hardware design.
>
>About re-installing lilo:
>I've an old 3/50, and did some 4.1.1 kernel remakes there. Each time /vmunix
>changed, some program has to be run to inform the bootloader about the
>track/sector/head location of the new kernel. The same is true for linux and
>lilo.

make zlilo will do all of the following:

1. make zImage
2. mv zImage /vmlinuz
3. lilo

I think that is what you mean, and it is already available.  Time for
RTFM I guess.

Bao

------------------------------

From: clay@haapi.mn.org (Clayton Haapala)
Subject: Re: SERIAL BUG! getty_ps/Linux 1.09/Rockwell modems
Date: Thu, 1 Sep 1994 14:00:19 GMT

In article <33snlr$afl@calvin.iaf.nl>,
Jeanette Pauline Middelink <middelin@calvin.iaf.nl> wrote:
>Matt Warnock (mwarnock@garlic.com) wrote:
>[text deleted]
>
>Since the patch, i used getty_ps on the 2 lines of our UUCP backbone.
>This site gets over 3400 calls a month, and is running for almost 6
>months now... I would say 'my problem is solved :)'
>
Which version of the kernel are you running?

The behavior of getty_ps when dialing-out/exiting/reinitting the modem changed
(I believe) with the advent of the new serial drivers in 1.1.13?-18.  After
a uucico or cu exits, uugetty does not get triggered to re-init the modem
reliably.  For me, it does answer the phone and all that, but if a prior
dial-out turned off ATS0=1, well, it's all over.

Something must be different when DTR toggles, but I can't even speculate
what.
-- 
Clay Haapala                    "Well, there was the process of sitting around
clay@haapi.mn.org                and wishing I had more computer stuff."
                                        -- Dilbert

------------------------------

Crossposted-To: comp.os.linux.help
From: mpl@pegasus.bl-els.att.com (-Michael P. Lindner)
Subject: Re: svgalib can't open /dev/mem w/1.1.47
Date: Thu, 1 Sep 1994 21:44:57 GMT

In article <1994Sep1.032955.3268@princeton.edu>,
Louis P. Kruger <lpkruger@tucson.princeton.edu> wrote:
>In article <CvF5B4.Fq4@nntpa.cb.att.com>,
>I noticed this too.  It appears to be a bug in the kernel when the setreuid()
>system call is invoked with a paremeter of -1.  Sasteriods among other programs
>use this to preserve superuser status (which svgalib automacially relinquishes)
>The following patch to kernel/sys.c seems to fix the problem.
>
>       - Louis

WOW! <6 hour turn around for a kernel fix!  I hope commercial UN*X
vendors take note.  Thanks!
-- 
Mike Lindner
mikel@attmail.att.com

------------------------------

From: mjf@clark.net (Marc Fraioli)
Subject: Re: Kernel change summary 1.1.45 -> 1.1.46
Date: 31 Aug 1994 23:46:26 GMT
Reply-To: mjf@clark.net

In article 778359874@cs.cornell.edu,  nelson@crynwr.crynwr.com (Russell Nelson) writes:
>       - New file attributes:
>         - Immutable files cannot be modified.  Data cannot be written to
>           these files.  They cannot be removed, renamed and new links cannot
>           be created.  Even root cannot modify the files.  He has to remove
>           the immutable attribute first.
>         - Append-only files: can only be written in append-mode when writing.
>           They cannot be removed, renamed and new links cannot be created.
>           Note: files may only be added to an append-only directory.

Very cool.  Do these work the same way as in BSD 4.4?  How can we access
these new features? I seem to remember reading that under BSD the immutable
files can only be modified in single-user mode.  Is it necessary to be in
single-user to remove the immutable attribute as mentioned above?  I think
this would probably be a good idea.  Thoughts?

---
Marc Fraioli          | "They couldn't hit an elephant at this dist- " 
mjf@clark.net         |    - Last words of Union General John Sedgwick,
                      |    Battle of Spotsylvania Court House, U.S. Civil War



------------------------------

From: mah@ka4ybr.com (Mark A. Horton KA4YBR)
Subject: Re: Future of Linux
Date: Wed, 31 Aug 1994 11:34:59 GMT

Mike Suzio (msuzio@tiamat.umd.umich.edu) wrote:

: But given a choice of tools, isn't it best for a user to be able to access
: the tool that will make her most comfortable and let her get her work done?
: This is all I'm getting at, that it couldn't hurt Linux if it had *many*
: text editors, word processors, spreadsheets, etc.  Just because emacs
: exists does not mean all development on other text editors should cease.
: (Not picking on emacs in particular, just find it the best example in these
: cases).
:               - Mike

        Sure!  I've given up trying to convert the average user.... if they
        are comfortable with Lotus 123 and WordPerfect 5|5.1|5.2|6.0 or
        Word, or whatever, let the have them.  If we don't have the same 
        tool available on Linux and it won't run in dosemu or iBCS, let
        them be... you know what they say about trying to teach a pig
        to sing.... :)   You can, however, install one of the PD NFS
        clients to link their PCs to your Linux Host for file backup,
        security, program and data storage, etc.  

        As Linux gains in popularity (check out the number of articles now
        appearing about it!), those vendors intelligent enough to take
        advantage of a developing market will make their products available
        on Linux platforms also.  There is no need for us to reinvent the
        wheel, so to speak.  One commercial product that is available now
        and is very good (particularly at the DOS business target) is the
        Flagship Database development system.  This allows you to develop
        and port your xBASE and Clipper applications to Linux (native!)
        with all the wonderful tools and functions you're used to in the
        equivalent DOS products with the advantage of being multi-user,
        supporting the PC console as well as X-terminals and regular
        dumb terminals, and generating good solid sellable applications.
        It's not free; but they do have a special introductory offer for
        Linux users as a trial balloon... you can bet other vendors are 
        watching!  You don't need the manual (built in help screens,
        etc.) but it's handy to have.  There's even a free demo version
        available via ftp.  If things like this keep being ported to 
        Linux native and we support them with our $$$ rather than wanting
        the world but not being willing to pay for it (waiting until
        the ubiquitous "someone" develops it for Linux) I think we'll see
        these products appearing.  Of course, they will cost money, just
        like their DOS counterparts.... I think sometimes we've gotten
        so spoiled by "free" software that we are worse than the MS-DOS
        "pirates" who trade copies of Lotus and WP around instead of 
        buying their own!  (I'm gonna get flamed for that one, aren't I?
        
        Just a couple of cents worth...
        - Mark
--
"Linux!     Guerrilla UNIX Development     Venimus, Vidimus, Dolavimus."
============================================================
Mark A. Horton       ka4ybr             mah@ka4ybr.atl.ga.us
P.O. Box 747 Decatur GA US 30031-0747         mah@ka4ybr.com
+1.404.371.0291                     33 45 31 N / 084 16 59 W

------------------------------

From: mjf@clark.net (Marc Fraioli)
Subject: Re: Threads for Linux
Date: 1 Sep 1994 00:07:31 GMT
Reply-To: mjf@clark.net

In article jtj@vega.info.isbiel.ch,  droux@info.isbiel.ch (Nicolas Droux) writes:
>Hi there,
>
>I need to be able to create threads, or lightweight processes, under  
>Linux. Is there a good solution to this problem ? Is this feature  
>integrated in a recent release of the kernel, is it planned, or is it  
>possible to do this by means of a 3rd party package ?
>
There are at least two freely available user-level thread packages for
Linux available.  Kernel threads are being talked over/worked on, but
are not available yet.  Here's an older posting pointing to the user-level
ones.

From lan_lada@aaf.alcatel.at (Marino Ladavac)
Subject: Re: Porting libpthreads to Linux?
Date: Fri, 24 Jun 1994 08:21:31 GMT

Since the original author has a French address, the better site for Linux
pthreads library would be
        ftp://ftp.ibp.fr/pub/unix/threads/pthreads

The Florida State threads can be found on the same site at
        ftp://ftp.ibp.fr/pub/unix/threads/part

There is also at least one project dealing with kernel pthread implementation under
way.  Please contact me if you are interested.

Hope it helped,
/Alby

---
Proof by Intimidation:
        "I'm bigger, therefore I'm right."

noone@nowhere.in.particular


From gale@minotaur.dra.hmg.gb (Tony Gale)
Newsgroups: comp.os.linux.development,comp.os.linux.kernel
Subject: Re: Porting libpthreads to Linux?
Date: 24 Jun 1994 09:14:25 GMT

Yves Arrouye (arrouye@petole.imag.fr) wrote:
: Hello,

: I would like to port Mueller et al.'s libpthreads (ftp.cs.fsu.edu:/pub/PART/)
: to Linux, but I am having a lot of problems because I really do not know where
: to find the information I need.
:       Did someone do the port? If so, where can I find it? If not, does
: someone volonteer to help me? The informations I need are relative to the

There is a different implementaion of pthreads that should compile
out of the box on Linux at:

rtfm.mit.edu /pub/pthreads
   
 _____________________________________________________________________________
|        Tony Gale           |         Stop whinging and start Wine'ing       |
|                            | http://daedalus.dra.hmg.gb/gale/wine/wine.html |
|  gale@minotaur.dra.hmg.gb  |                                                |
 -----------------|  This ^ stands for Great Britain  |-----------------------
                  | All opinions expressed are my own |
                  -------------------------------------




Hope one of these works out for you.

---
Marc Fraioli          | "They couldn't hit an elephant at this dist- " 
mjf@clark.net         |    - Last words of Union General John Sedgwick,
                      |    Battle of Spotsylvania Court House, U.S. Civil War








------------------------------

From: mjf@clark.net (Marc Fraioli)
Subject: Re: What on earth is happening to the stabilit
Date: 1 Sep 1994 00:12:22 GMT
Reply-To: mjf@clark.net

In article 4968@ritz.equinox.gen.nz,  grantma@ritz.equinox.gen.nz (Matthew Grant) writes:
>I have used Linux for over a year now, an di am am getting concerned about
>the stability of the new ALPHA realeases.  On question I would like to ask
>in the light of all the recent problems with 1.1.40 -> is:
>
>Are the older problems solved and just new ones appearing, or is the
>       situation getting worse?
>
>
>I would like to know as Linux's kernel stability has been legendary, with
>only a few minor hiccups.
>
Well, I've been running 1.1.47 for about a week now without any trouble.
I've used SLIP, PPP, iBCS, WINE, X, and a bunch of other stuff fairly
heavily, and no problems.  So not everyone is having trouble.  It depends
on what hardware you have, no doubt.  Mine is a plain-jane 486/33 w. 8MB,
AMI BIOS, and two IDE hard drives.  Solid as a rock.

---
Marc Fraioli          | "They couldn't hit an elephant at this dist- " 
mjf@clark.net         |    - Last words of Union General John Sedgwick,
                      |    Battle of Spotsylvania Court House, U.S. Civil War



------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
