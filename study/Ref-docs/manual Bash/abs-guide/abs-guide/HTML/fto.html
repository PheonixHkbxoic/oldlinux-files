<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>File test operators</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REL="HOME"
TITLE="Advanced Bash-Scripting Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Tests"
HREF="tests.html"><LINK
REL="PREVIOUS"
TITLE="Tests"
HREF="tests.html"><LINK
REL="NEXT"
TITLE="Comparison operators (binary)"
HREF="comparison-ops.html"><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"><LINK
REL="stylesheet"
HREF="common/kde-common.css"
TYPE="text/css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"><META
HTTP-EQUIV="Content-Language"
CONTENT="en"><LINK
REL="stylesheet"
HREF="common/kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"><LINK
REL="stylesheet"
HREF="common/kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#AA0000"
VLINK="#AA0055"
ALINK="#AA0000"
STYLE="font-family: sans-serif;"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Advanced Bash-Scripting Guide: An in-depth exploration of the art of shell scripting</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="tests.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 7. Tests</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="comparison-ops.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="FTO"
>7.2. File test operators</A
></H1
><DIV
CLASS="VARIABLELIST"
><P
><B
><A
NAME="RTIF"
></A
>Returns true if...</B
></P
><DL
><DT
><SPAN
CLASS="TOKEN"
>-e</SPAN
></DT
><DD
><P
>file exists</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-f</SPAN
></DT
><DD
><P
>file is a <TT
CLASS="REPLACEABLE"
><I
>regular</I
></TT
>
	      file (not a directory or device file)</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-s</SPAN
></DT
><DD
><P
>file is not zero size</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-d</SPAN
></DT
><DD
><P
>file is a directory</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-b</SPAN
></DT
><DD
><P
>file is a block device (floppy, cdrom, etc.)
	    </P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-c</SPAN
></DT
><DD
><P
>file is a character device (keyboard, modem, sound
	    card, etc.)</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-p</SPAN
></DT
><DD
><P
>file is a pipe</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-h</SPAN
></DT
><DD
><P
>file is a symbolic link</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-L</SPAN
></DT
><DD
><P
>file is a symbolic link</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-S</SPAN
></DT
><DD
><P
>file is a socket</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-t</SPAN
></DT
><DD
><P
>file (<A
HREF="io-redirection.html#FDREF"
>descriptor</A
>) is
	      associated with a terminal device</P
><P
>This test option may be used to check whether the
	      <TT
CLASS="FILENAME"
>stdin</TT
> (<TT
CLASS="USERINPUT"
><B
>[ -t 0 ]</B
></TT
>)
	      or <TT
CLASS="FILENAME"
>stdout</TT
> (<TT
CLASS="USERINPUT"
><B
>[ -t 1 ]</B
></TT
>)
	      in a given script is a terminal.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-r</SPAN
></DT
><DD
><P
>file has read permission (<I
CLASS="EMPHASIS"
>for the
	      user running the test</I
>)</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-w</SPAN
></DT
><DD
><P
>file has write permission (for the user running
	      the test)</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-x</SPAN
></DT
><DD
><P
>file has execute permission (for the user running
	    the test)</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-g</SPAN
></DT
><DD
><P
>set-group-id (sgid) flag set on file or directory</P
><P
>If a directory has the <TT
CLASS="REPLACEABLE"
><I
>sgid</I
></TT
>
	      flag set, then a file created within that directory belongs
	      to the group that owns the directory, not necessarily to
	      the group of the user who created the file. This may be
	      useful for a directory shared by a workgroup.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-u</SPAN
></DT
><DD
><P
>set-user-id (suid) flag set on file</P
><P
>A binary owned by <I
CLASS="EMPHASIS"
>root</I
>
	      with <TT
CLASS="REPLACEABLE"
><I
>set-user-id</I
></TT
> flag set
	      runs with <I
CLASS="EMPHASIS"
>root</I
> privileges, even
	      when an ordinary user invokes it.
	      
		<A
NAME="AEN2073"
HREF="#FTN.AEN2073"
>[1]</A
>

	      This is useful for executables (such as
	      <B
CLASS="COMMAND"
>pppd</B
> and <B
CLASS="COMMAND"
>cdrecord</B
>)
	      that need to access system hardware. Lacking the
	      <I
CLASS="EMPHASIS"
>suid</I
> flag, these binaries could not
	      be invoked by a non-root user.

	      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> 	      <TT
CLASS="COMPUTEROUTPUT"
>-rwsr-xr-t    1 root       178236 Oct  2  2000 /usr/sbin/pppd</TT
>
 	      </PRE
></TD
></TR
></TABLE
>

	      A file with the <TT
CLASS="REPLACEABLE"
><I
>suid</I
></TT
> flag set shows
	      an <I
CLASS="EMPHASIS"
>s</I
> in its permissions.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-k</SPAN
></DT
><DD
><P
><TT
CLASS="REPLACEABLE"
><I
>sticky bit</I
></TT
> set</P
><P
>Commonly known as the <SPAN
CLASS="QUOTE"
>"sticky bit"</SPAN
>, the
	      <I
CLASS="EMPHASIS"
>save-text-mode</I
> flag is a special
	      type of file permission. If a file has this flag set,
	      that file will be kept in cache memory, for quicker access.
	        <A
NAME="AEN2093"
HREF="#FTN.AEN2093"
>[2]</A
>
	      If set on a directory, it restricts write permission.
	      Setting the sticky bit adds a <I
CLASS="EMPHASIS"
>t</I
>
	      to the permissions on the file or directory listing.

	      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> 	      <TT
CLASS="COMPUTEROUTPUT"
>drwxrwxrwt    7 root         1024 May 19 21:26 tmp/</TT
>
 	      </PRE
></TD
></TR
></TABLE
>
	    
	      If a user does not own a directory that has the sticky
	      bit set, but has write permission in that directory,
	      he can only delete files in it that he owns. This keeps
	      users from inadvertently overwriting or deleting each
	      other's files in a publicly accessible directory, such
	      as <TT
CLASS="FILENAME"
>/tmp</TT
>.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-O</SPAN
></DT
><DD
><P
>you are owner of file</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-G</SPAN
></DT
><DD
><P
>group-id of file same as yours</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>-N</SPAN
></DT
><DD
><P
>file modified since it was last read</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>f1 -nt f2</SPAN
></DT
><DD
><P
>file <TT
CLASS="REPLACEABLE"
><I
>f1</I
></TT
> is newer than
		<TT
CLASS="REPLACEABLE"
><I
>f2</I
></TT
></P
></DD
><DT
><SPAN
CLASS="TOKEN"
>f1 -ot f2</SPAN
></DT
><DD
><P
>file <TT
CLASS="REPLACEABLE"
><I
>f1</I
></TT
> is older than
		<TT
CLASS="REPLACEABLE"
><I
>f2</I
></TT
></P
></DD
><DT
><SPAN
CLASS="TOKEN"
>f1 -ef f2</SPAN
></DT
><DD
><P
>files <TT
CLASS="REPLACEABLE"
><I
>f1</I
></TT
> and
		<TT
CLASS="REPLACEABLE"
><I
>f2</I
></TT
> are hard links to the same
		file</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>!</SPAN
></DT
><DD
><P
><SPAN
CLASS="QUOTE"
>"not"</SPAN
> -- reverses the sense of the
	    tests above (returns true if condition absent).</P
></DD
></DL
></DIV
><P
><A
HREF="zeros.html#COOKIES"
>Example 29-1</A
>, <A
HREF="loops.html#BINGREP"
>Example 10-7</A
>,
	  <A
HREF="loops.html#FILEINFO"
>Example 10-3</A
>, <A
HREF="zeros.html#RAMDISK"
>Example 29-3</A
>, and <A
HREF="contributed-scripts.html#MAILFORMAT"
>Example A-2</A
> illustrate uses of the file test
	  operators.</P
></DIV
><H3
CLASS="FOOTNOTES"
>Notes</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN2073"
HREF="fto.html#AEN2073"
>[1]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Be aware that <I
CLASS="EMPHASIS"
>suid</I
>
		  binaries may open security holes and that the
		  <I
CLASS="EMPHASIS"
>suid</I
> flag has no effect on
		  shell scripts.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN2093"
HREF="fto.html#AEN2093"
>[2]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>On modern UNIX systems, the sticky
		  bit is no longer used for files, only on
		  directories.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="tests.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="comparison-ops.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Tests</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="tests.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Comparison operators (binary)</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>