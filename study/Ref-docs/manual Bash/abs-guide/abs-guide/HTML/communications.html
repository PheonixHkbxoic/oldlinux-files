<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Communications Commands</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REL="HOME"
TITLE="Advanced Bash-Scripting Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="External Filters, Programs and Commands"
HREF="external.html"><LINK
REL="PREVIOUS"
TITLE="File and Archiving Commands"
HREF="filearchiv.html"><LINK
REL="NEXT"
TITLE="Terminal Control Commands"
HREF="terminalccmds.html"><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"><LINK
REL="stylesheet"
HREF="common/kde-common.css"
TYPE="text/css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"><META
HTTP-EQUIV="Content-Language"
CONTENT="en"><LINK
REL="stylesheet"
HREF="common/kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"><LINK
REL="stylesheet"
HREF="common/kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#AA0000"
VLINK="#AA0055"
ALINK="#AA0000"
STYLE="font-family: sans-serif;"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Advanced Bash-Scripting Guide: An in-depth exploration of the art of shell scripting</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="filearchiv.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 12. External Filters, Programs and Commands</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="terminalccmds.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="COMMUNICATIONS"
>12.6. Communications Commands</A
></H1
><DIV
CLASS="VARIABLELIST"
><P
><B
><A
NAME="COMMUNINFO1"
></A
>Information and Statistics</B
></P
><DL
><DT
><B
CLASS="COMMAND"
>host</B
></DT
><DD
><P
>Searches for information about an Internet host by name or
	      IP address, using DNS.</P
></DD
><DT
><B
CLASS="COMMAND"
>vrfy</B
></DT
><DD
><P
>Verify an Internet e-mail address.</P
></DD
><DT
><B
CLASS="COMMAND"
>nslookup</B
></DT
><DD
><P
>Do an Internet <SPAN
CLASS="QUOTE"
>"name server lookup"</SPAN
> on a host
	      by IP address. This may be run either interactively or
	      noninteractively, i.e., from within a script.</P
></DD
><DT
><B
CLASS="COMMAND"
>dig</B
></DT
><DD
><P
>Similar to <B
CLASS="COMMAND"
>nslookup</B
>, do an Internet
	      <SPAN
CLASS="QUOTE"
>"name server lookup"</SPAN
> on a host.  May be run
	      either interactively or noninteractively, i.e., from within
	      a script.</P
></DD
><DT
><B
CLASS="COMMAND"
>traceroute</B
></DT
><DD
><P
>Trace the route taken by packets sent to a remote host. This
	      command works within a LAN, WAN, or over the
	      Internet. The remote host may be specified by an IP
	      address. The output of this command may be filtered
	      by <A
HREF="textproc.html#GREPREF"
>grep</A
> or <A
HREF="sedawk.html#SEDREF"
>sed</A
> in a pipe.</P
></DD
><DT
><B
CLASS="COMMAND"
>ping</B
></DT
><DD
><P
>Broadcast an <SPAN
CLASS="QUOTE"
>"ICMP ECHO_REQUEST"</SPAN
> packet to
	      other machines, either on a local or remote network. This
	      is a diagnostic tool for testing network connections,
	      and it should be used with caution.</P
><P
>A successful <B
CLASS="COMMAND"
>ping</B
> returns an <A
HREF="exit-status.html#EXITSTATUSREF"
>exit status</A
> of
	      <SPAN
CLASS="ERRORCODE"
>0</SPAN
>. This can be tested for in a
	      script.</P
><P
>	      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>ping localhost</B
></TT
>
 <TT
CLASS="COMPUTEROUTPUT"
>PING localhost.localdomain (127.0.0.1) from 127.0.0.1 : 56(84) bytes of data.
 Warning: time of day goes back, taking countermeasures.
 64 bytes from localhost.localdomain (127.0.0.1): icmp_seq=0 ttl=255 time=709 usec
 64 bytes from localhost.localdomain (127.0.0.1): icmp_seq=1 ttl=255 time=286 usec

 --- localhost.localdomain ping statistics ---
 2 packets transmitted, 2 packets received, 0% packet loss
 round-trip min/avg/max/mdev = 0.286/0.497/0.709/0.212 ms</TT
>
 	      </PRE
></TD
></TR
></TABLE
>
	    </P
></DD
><DT
><A
NAME="WHOISREF"
></A
><B
CLASS="COMMAND"
>whois</B
></DT
><DD
><P
>Perform a DNS (Domain Name System) lookup.
	      The <TT
CLASS="OPTION"
>-h</TT
> option permits specifying which
	      <I
CLASS="EMPHASIS"
>whois</I
> server to query. See <A
HREF="othertypesv.html#EX18"
>Example 5-6</A
>.</P
></DD
><DT
><B
CLASS="COMMAND"
>finger</B
></DT
><DD
><P
>Retrieve information about a particular user on
	      a network. Optionally, this command can display
	      the user's <TT
CLASS="FILENAME"
>~/.plan</TT
>,
	      <TT
CLASS="FILENAME"
>~/.project</TT
>, and
	      <TT
CLASS="FILENAME"
>~/.forward</TT
> files, if present.</P
><P
>	      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>finger bozo</B
></TT
>
 <TT
CLASS="COMPUTEROUTPUT"
>Login: bozo                             Name: Bozo Bozeman
 Directory: /home/bozo                   Shell: /bin/bash
 On since Fri Aug 31 20:13 (MST) on tty1    1 hour 38 minutes idle
 On since Fri Aug 31 20:13 (MST) on pts/0   12 seconds idle
 On since Fri Aug 31 20:13 (MST) on pts/1
 On since Fri Aug 31 20:31 (MST) on pts/2   1 hour 16 minutes idle
 No mail.
 No Plan.</TT
>
 	      </PRE
></TD
></TR
></TABLE
>
	    </P
><P
>Out of security considerations, many networks disable
	      <B
CLASS="COMMAND"
>finger</B
> and its associated daemon.
	          <A
NAME="AEN8125"
HREF="#FTN.AEN8125"
>[1]</A
>
	      </P
></DD
></DL
></DIV
><DIV
CLASS="VARIABLELIST"
><P
><B
><A
NAME="COMMREMOTE1"
></A
>Remote Host Access</B
></P
><DL
><DT
><B
CLASS="COMMAND"
>sx</B
>, <B
CLASS="COMMAND"
>rx</B
></DT
><DD
><P
>The <B
CLASS="COMMAND"
>sx</B
> and <B
CLASS="COMMAND"
>rx</B
>
	      command set serves to transfer files to and from a remote
	      host using the <I
CLASS="EMPHASIS"
>xmodem</I
> protocol. These
	      are generally part of a communications package, such as
	      <B
CLASS="COMMAND"
>minicom</B
>.</P
></DD
><DT
><B
CLASS="COMMAND"
>sz</B
>, <B
CLASS="COMMAND"
>rz</B
></DT
><DD
><P
>The <B
CLASS="COMMAND"
>sz</B
> and <B
CLASS="COMMAND"
>rz</B
>
	      command set serves to transfer files to and from a remote
	      host using the <I
CLASS="EMPHASIS"
>zmodem</I
> protocol.
	      <I
CLASS="EMPHASIS"
>Zmodem</I
> has certain advantages over
	      <I
CLASS="EMPHASIS"
>xmodem</I
>, such as greater transmission
	      rate and resumption of interrupted file transfers.
	      Like <B
CLASS="COMMAND"
>sx</B
> and <B
CLASS="COMMAND"
>rx</B
>,
	      these are generally part of a communications package.</P
></DD
><DT
><A
NAME="FTPREF"
></A
><B
CLASS="COMMAND"
>ftp</B
></DT
><DD
><P
>Utility and protocol for uploading / downloading
	      files to / from a remote host. An ftp session can be automated
	      in a script (see <A
HREF="here-docs.html#EX72"
>Example 17-7</A
>, <A
HREF="contributed-scripts.html#ENCRYPTEDPW"
>Example A-4</A
>, and <A
HREF="contributed-scripts.html#FTPGET"
>Example A-9</A
>).</P
></DD
><DT
><B
CLASS="COMMAND"
>cu</B
></DT
><DD
><P
><I
CLASS="EMPHASIS"
>C</I
>all <I
CLASS="EMPHASIS"
>U</I
>p
	      a remote system and connect as a simple terminal. This
	      is a sort of dumbed-down version of <A
HREF="communications.html#TELNETREF"
>telnet</A
>.</P
></DD
><DT
><B
CLASS="COMMAND"
>uucp</B
></DT
><DD
><P
><I
CLASS="EMPHASIS"
>UNIX to UNIX copy</I
>. This is a
	      communications package for transferring files between UNIX
	      servers. A shell script is an effective way to handle a
	      <B
CLASS="COMMAND"
>uucp</B
> command sequence.</P
><P
>Since the advent of the Internet and e-mail,
	      <B
CLASS="COMMAND"
>uucp</B
> seems to have faded into obscurity,
	      but it still exists and remains perfectly workable in
	      situations where an Internet connection is not available
	      or appropriate.</P
></DD
><DT
><A
NAME="TELNETREF"
></A
><B
CLASS="COMMAND"
>telnet</B
></DT
><DD
><P
>Utility and protocol for connecting to a remote host.</P
><DIV
CLASS="CAUTION"
><TABLE
CLASS="CAUTION"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="common/caution.png"
HSPACE="5"
ALT="Caution"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>The telnet protocol contains security holes and
	      should therefore probably be avoided.</P
></TD
></TR
></TABLE
></DIV
></DD
><DT
><B
CLASS="COMMAND"
>rlogin</B
></DT
><DD
><P
><TT
CLASS="REPLACEABLE"
><I
>Remote login</I
></TT
>, initates a
	      session on a remote host. This command has security issues,
	      so use <A
HREF="communications.html#SSHREF"
>ssh</A
> instead.</P
></DD
><DT
><B
CLASS="COMMAND"
>rsh</B
></DT
><DD
><P
><TT
CLASS="REPLACEABLE"
><I
>Remote shell</I
></TT
>, executes
	      command(s) on a remote host. This has security issues,
	      so use <B
CLASS="COMMAND"
>ssh</B
> instead.</P
></DD
><DT
><B
CLASS="COMMAND"
>rcp</B
></DT
><DD
><P
><TT
CLASS="REPLACEABLE"
><I
>Remote copy</I
></TT
>, copies files
	      between two different networked machines.  Using
	      <B
CLASS="COMMAND"
>rcp</B
> and similar utilities with
	      security implications in a shell script may not be
	      advisable. Consider, instead, using <B
CLASS="COMMAND"
>ssh</B
>
	      or an <B
CLASS="COMMAND"
>expect</B
> script.</P
></DD
><DT
><A
NAME="SSHREF"
></A
><B
CLASS="COMMAND"
>ssh</B
></DT
><DD
><P
><TT
CLASS="REPLACEABLE"
><I
>Secure shell</I
></TT
>, logs onto
	      a remote host and executes commands there. This
	      secure replacement for <B
CLASS="COMMAND"
>telnet</B
>,
	      <B
CLASS="COMMAND"
>rlogin</B
>, <B
CLASS="COMMAND"
>rcp</B
>, and
	      <B
CLASS="COMMAND"
>rsh</B
> uses identity authentication
	      and encryption. See its <I
CLASS="EMPHASIS"
>manpage</I
>
	      for details.</P
></DD
></DL
></DIV
><DIV
CLASS="VARIABLELIST"
><P
><B
><A
NAME="COMMLOCAL1"
></A
>Local Network</B
></P
><DL
><DT
><A
NAME="WRITEREF"
></A
><B
CLASS="COMMAND"
>write</B
></DT
><DD
><P
>This is a utility for terminal-to-terminal communication.
	      It allows sending lines from your terminal (console
	      or xterm) to that of another user. The <A
HREF="system.html#MESGREF"
>mesg</A
> command may, of course,
	      be used to disable write access to a terminal</P
><P
>Since <B
CLASS="COMMAND"
>write</B
> is interactive, it
	      would not normally find use in a script.</P
></DD
></DL
></DIV
><DIV
CLASS="VARIABLELIST"
><P
><B
><A
NAME="COMMMAIL1"
></A
>Mail</B
></P
><DL
><DT
><B
CLASS="COMMAND"
>mail</B
></DT
><DD
><P
>Send an e-mail message to a user.</P
><P
>This stripped-down command-line mail client
	      works fine as a command embedded in a script.</P
><DIV
CLASS="EXAMPLE"
><HR><A
NAME="SELFMAILER"
></A
><P
><B
>Example 12-29. A script that mails itself</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   1&nbsp;#!/bin/sh
   2&nbsp;# self-mailer.sh: Self-mailing script
   3&nbsp;
   4&nbsp;ARGCOUNT=1              # Need name of addressee.
   5&nbsp;E_WRONGARGS=65
   6&nbsp;if [ $# -ne "$ARGCOUNT" ]
   7&nbsp;then
   8&nbsp;  echo "Usage: `basename $0` addressee"
   9&nbsp;  exit $E_WRONGARGS
  10&nbsp;fi  
  11&nbsp;
  12&nbsp;# ========================================================================
  13&nbsp;cat $0 | mail -s "Script \"`basename $0`\" has mailed itself to you." "$1"
  14&nbsp;# ========================================================================
  15&nbsp;
  16&nbsp;# --------------------------------------------
  17&nbsp;#  Greetings from the self-mailing script.
  18&nbsp;#  A mischievous person has run this script,
  19&nbsp;#+ which has caused it to mail itself to you.
  20&nbsp;#  Apparently, some people have nothing better
  21&nbsp;#+ to do with their time.
  22&nbsp;# --------------------------------------------
  23&nbsp;
  24&nbsp;exit 0</PRE
></TD
></TR
></TABLE
><HR></DIV
></DD
><DT
><B
CLASS="COMMAND"
>vacation</B
></DT
><DD
><P
>This utility automatically replies to e-mails that
	      the intended recipient is on vacation and temporarily
	      unavailable. This runs on a network, in conjunction with
	      <B
CLASS="COMMAND"
>sendmail</B
>, and is not applicable to a
	      dial-up POPmail account.</P
></DD
></DL
></DIV
></DIV
><H3
CLASS="FOOTNOTES"
>Notes</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN8125"
HREF="communications.html#AEN8125"
>[1]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
><A
NAME="DAEMONREF"
></A
></P
><P
>A <I
CLASS="EMPHASIS"
>daemon</I
> is a background
		    process not attached to a terminal session. Daemons
		    perform designated services either at specified times
		    or explicitly triggered by certain events.</P
><P
>The word <SPAN
CLASS="QUOTE"
>"daemon"</SPAN
> means ghost in
		    Greek, and there is certainly something mysterious,
		    almost supernatural, about the way UNIX daemons
		    silently wander about behind the scenes, carrying
		    out their appointed tasks.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="filearchiv.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="terminalccmds.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>File and Archiving Commands</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="external.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Terminal Control Commands</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>