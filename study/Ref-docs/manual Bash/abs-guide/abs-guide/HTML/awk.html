<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Awk</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REL="HOME"
TITLE="Advanced Bash-Scripting Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="A Sed and Awk Micro-Primer"
HREF="sedawk.html"><LINK
REL="PREVIOUS"
TITLE="A Sed and Awk Micro-Primer"
HREF="sedawk.html"><LINK
REL="NEXT"
TITLE="Exit Codes With Special Meanings"
HREF="exitcodes.html"><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"><LINK
REL="stylesheet"
HREF="common/kde-common.css"
TYPE="text/css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"><META
HTTP-EQUIV="Content-Language"
CONTENT="en"><LINK
REL="stylesheet"
HREF="common/kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"><LINK
REL="stylesheet"
HREF="common/kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#AA0000"
VLINK="#AA0055"
ALINK="#AA0000"
STYLE="font-family: sans-serif;"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Advanced Bash-Scripting Guide: An in-depth exploration of the art of shell scripting</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="sedawk.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Appendix B. A Sed and Awk Micro-Primer</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="exitcodes.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AWK"
>B.2. Awk</A
></H1
><P
><A
NAME="AWKREF"
></A
></P
><P
><B
CLASS="COMMAND"
>Awk</B
> is a full-featured text processing 
       language with a syntax reminiscent of <B
CLASS="COMMAND"
>C</B
>. While
       it possesses an extensive set of operators and capabilities,
       we will cover only a couple of these here - the ones most useful
       for shell scripting.</P
><P
>Awk breaks each line of input passed to it into
       <I
CLASS="EMPHASIS"
>fields</I
>. By default, a field is
       a string of consecutive characters separated by <A
HREF="special-chars.html#WHITESPACEREF"
>whitespace</A
>, though there are
       options for changing the delimiter. Awk parses and operates on each
       separate field. This makes awk ideal for handling structured text
       files, especially tables, data organized into consistent chunks,
       such as rows and columns.</P
><P
>Strong quoting (single quotes) and curly brackets enclose
       segments of awk code within a shell script.</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   1&nbsp;awk '{print $3}' $filename
   2&nbsp;# Prints field #3 of file $filename to stdout.
   3&nbsp;
   4&nbsp;awk '{print $1 $5 $6}' $filename
   5&nbsp;# Prints fields #1, #5, and #6 of file $filename.</PRE
></TD
></TR
></TABLE
></P
><P
>We have just seen the awk <B
CLASS="COMMAND"
>print</B
> command
       in action. The only other feature of awk we need to deal with
       here is variables. Awk handles variables similarly to shell
       scripts, though a bit more flexibly.</P
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   1&nbsp;{ total += ${column_number} }</PRE
></TD
></TR
></TABLE
>
       This adds the value of <I
CLASS="EMPHASIS"
>column_number</I
> to
       the running total of <SPAN
CLASS="QUOTE"
>"total"</SPAN
>. Finally, to print
       <SPAN
CLASS="QUOTE"
>"total"</SPAN
>, there is an <B
CLASS="COMMAND"
>END</B
> command
       block, executed after the script has processed all its input.
       <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   1&nbsp;END { print total }</PRE
></TD
></TR
></TABLE
></P
><P
>Corresponding to the <B
CLASS="COMMAND"
>END</B
>, there is a
       <B
CLASS="COMMAND"
>BEGIN</B
>, for a code block to be performed before awk
       starts processing its input.</P
><P
>For examples of awk within shell scripts, see:
       <OL
TYPE="1"
><LI
><P
><A
HREF="internal.html#EX44"
>Example 11-8</A
></P
></LI
><LI
><P
><A
HREF="redircb.html#REDIR4"
>Example 16-5</A
></P
></LI
><LI
><P
><A
HREF="filearchiv.html#STRIPC"
>Example 12-24</A
></P
></LI
><LI
><P
><A
HREF="wrapper.html#COLTOTALER"
>Example 34-3</A
></P
></LI
><LI
><P
><A
HREF="ivr.html#COLTOTALER2"
>Example 9-19</A
></P
></LI
><LI
><P
><A
HREF="internal.html#COLTOTALER3"
>Example 11-12</A
></P
></LI
><LI
><P
><A
HREF="procref1.html#PIDID"
>Example 28-1</A
></P
></LI
><LI
><P
><A
HREF="procref1.html#CONSTAT"
>Example 28-2</A
></P
></LI
><LI
><P
><A
HREF="loops.html#FILEINFO"
>Example 10-3</A
></P
></LI
><LI
><P
><A
HREF="extmisc.html#BLOTOUT"
>Example 12-36</A
></P
></LI
><LI
><P
><A
HREF="randomvar.html#SEEDINGRANDOM"
>Example 9-22</A
></P
></LI
><LI
><P
><A
HREF="moreadv.html#IDELETE"
>Example 12-3</A
></P
></LI
><LI
><P
><A
HREF="string-manipulation.html#SUBSTRINGEX"
>Example 9-10</A
></P
></LI
></OL
>
      </P
><P
>That's all the awk we'll cover here, folks, but there's lots
       more to learn. See the appropriate references in the <A
HREF="biblio.html"
><I
>Bibliography</I
></A
>.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sedawk.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="exitcodes.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>A Sed and Awk Micro-Primer</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sedawk.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Exit Codes With Special Meanings</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>