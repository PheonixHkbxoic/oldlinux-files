<HTML>
<HEAD>
<TITLE>The Linux Bootdisk HOWTO: Samples</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A HREF="Bootdisk-HOWTO-4.html"><IMG SRC="prev.gif" ALT="Previous"></A>
<A HREF="Bootdisk-HOWTO-6.html"><IMG SRC="next.gif" ALT="Next"></A>
<A HREF="Bootdisk-HOWTO.html#toc5"><IMG SRC="toc.gif" ALT="Contents"></A>
<HR>
<H2><A NAME="s5">5. Samples</A></H2>


<H2><A NAME="ss5.1">5.1 Disk Directory Listings</A></H2>

<P>This lists the contents of directories from my root and utility 
diskettes. These lists are provided as an example only of the files 
included to create a working system. The disks were created using
the Bootkit package, which copies to diskette only those files
that you want copied.</P>

<H3>Root Disk ls-lR Directory Listing</H3>

<P>The root listing is of a diskette mounted at /mnt.</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
total 27
drwx------   2 root     root         1024 Jun 11 23:23 bin/
drwxr-xr-x   2 root     root         3072 Jun 11 23:24 dev/
drwxr-xr-x   3 root     root         1024 May 30 06:38 etc/
drwxr-xr-x   2 root     root         1024 Jun 11 23:24 home/
drwxr-xr-x   2 root     root         1024 Jun 11 23:24 lib/
drwxr-xr-x   2 root     root        12288 Jun 11 23:23 lost+found/
drwxr-xr-x   2 root     root         1024 Jun 11 23:24 mnt/
drwxr-xr-x   2 root     root         1024 Jun 11 23:24 proc/
drwxr-xr-x   2 root     root         1024 May 30 05:56 root/
drwxr-xr-x   2 root     root         1024 Jun  3 23:39 sbin/
drwxr-xr-x   2 root     root         1024 Jun 11 23:24 tmp/
drwxr-xr-x   3 root     root         1024 May 30 05:48 usr/
drwxr-xr-x   2 root     root         1024 Jun 11 23:24 util/
drwxr-xr-x   5 root     root         1024 May 30 05:58 var/

/mnt/bin:
total 664
-rwxr-xr-x   1 root     root       222208 Sep  7  1992 bash*
-rwxr-xr-x   1 root     other        4376 Sep  8  1992 cat*
-rwxr-xr-x   1 root     other        5088 Sep  4  1992 chmod*
-rwxr-xr-x   1 root     other        4024 Sep  4  1992 chown*
-rwxr-xr-x   1 root     other       12104 Sep  4  1992 cp*
-rwxr-xr-x   1 root     other        4376 Sep  5  1992 cut*
-rwxr-xr-x   1 root     other        7592 Sep  4  1992 dd*
-rwxr-xr-x   1 root     other        4656 Sep  4  1992 df*
-rwxr-xr-x   1 root     root        37892 May  5  1994 e2fsck*
-rwx--x--x   1 root     root        14396 Sep 20  1992 fdisk*
-r-x--x--x   1 bin      bin          3536 Feb 19 19:14 hostname*
-rwxr-xr-x   1 root     other        5292 Sep  4  1992 ln*
-rws--x--x   1 root     root        24352 Jan 16  1993 login*
-rwxr-xr-x   1 root     other        4104 Sep  4  1992 mkdir*
-rwxr-xr-x   1 root     root        21508 May  5  1994 mke2fs*
-rwxr-xr-x   1 root     other        3336 Sep  4  1992 mknod*
-rwx--x--x   1 root     root         2432 Sep 20  1992 mkswap*
-rwxr-xr-x   1 root     root         9596 Jun 10 22:12 mount*
-rwxr-xr-x   1 root     other        6724 Sep  4  1992 mv*
-rwxr-xr-x   1 root     root        11132 Apr 10  1993 ps*
-rwxr-xr-x   1 root     other        5056 Sep  4  1992 rm*
-rwxr-xr-x   1 root     root       222208 Sep  7  1992 sh*
-rws--x--x   1 root     root        16464 Jan 16  1993 su*
-rwxr-xr-x   1 root     root         1204 Sep 17  1992 sync*
-rwxr-xr-x   1 root     root         6188 Apr 17  1993 umount*

/mnt/dev:
total 72
-rwxr-xr-x   1 root     root         8331 Mar 14  1993 MAKEDEV*
lrwxrwxrwx   1 root     root            4 Jun 11 23:24 console -&gt; tty0
crw-rw-rw-   1 root     tty        5,  64 Apr  1  1993 cua0
crw-rw-rw-   1 root     tty        5,  65 Mar 19 19:35 cua1
crw-rw-rw-   1 root     tty        5,  66 Apr 10  1993 cua2
crw-rw-rw-   1 root     tty        5,  67 Apr 10  1993 cua3
brw-r--r--   1 root     root       2,   0 Aug 29  1992 fd0
brw-r--r--   1 root     root       2,  12 Aug 29  1992 fd0D360
brw-r--r--   1 root     root       2,  16 Aug 29  1992 fd0D720
brw-r--r--   1 root     root       2,  28 Aug 29  1992 fd0H1440
brw-r--r--   1 root     root       2,  12 Aug 29  1992 fd0H360
brw-r--r--   1 root     root       2,  16 Aug 29  1992 fd0H720
brw-r--r--   1 root     root       2,   4 Aug 29  1992 fd0d360
brw-r--r--   1 root     root       2,   8 Jan 15  1993 fd0h1200
brw-r--r--   1 root     root       2,  20 Aug 29  1992 fd0h360
brw-r--r--   1 root     root       2,  24 Aug 29  1992 fd0h720
brw-r--r--   1 root     root       2,   1 Aug 29  1992 fd1
brw-r--r--   1 root     root       2,  13 Aug 29  1992 fd1D360
brw-r--r--   1 root     root       2,  17 Aug 29  1992 fd1D720
brw-r--r--   1 root     root       2,  29 Aug 29  1992 fd1H1440
brw-r--r--   1 root     root       2,  13 Aug 29  1992 fd1H360
brw-r--r--   1 root     root       2,  17 Aug 29  1992 fd1H720
brw-r--r--   1 root     root       2,   5 Aug 29  1992 fd1d360
brw-r--r--   1 root     root       2,   9 Aug 29  1992 fd1h1200
brw-r--r--   1 root     root       2,  21 Aug 29  1992 fd1h360
brw-r--r--   1 root     root       2,  25 Aug 29  1992 fd1h720
brw-r-----   1 root     root       3,   0 Aug 29  1992 hda
brw-r-----   1 root     root       3,   1 Aug 29  1992 hda1
brw-r-----   1 root     root       3,   2 Aug 29  1992 hda2
brw-r-----   1 root     root       3,   3 Aug 29  1992 hda3
brw-r-----   1 root     root       3,   4 Aug 29  1992 hda4
brw-r-----   1 root     root       3,   5 Aug 29  1992 hda5
brw-r-----   1 root     root       3,   6 Aug 29  1992 hda6
brw-r-----   1 root     root       3,   7 Aug 29  1992 hda7
brw-r-----   1 root     root       3,   8 Aug 29  1992 hda8
brw-r-----   1 root     root       3,  64 Aug 29  1992 hdb
brw-r-----   1 root     root       3,  65 Aug 29  1992 hdb1
brw-r-----   1 root     root       3,  66 Aug 29  1992 hdb2
brw-r-----   1 root     root       3,  67 Aug 29  1992 hdb3
brw-r-----   1 root     root       3,  68 Aug 29  1992 hdb4
brw-r-----   1 root     root       3,  69 Aug 29  1992 hdb5
brw-r-----   1 root     root       3,  70 Aug 29  1992 hdb6
brw-r-----   1 root     root       3,  71 Aug 29  1992 hdb7
brw-r-----   1 root     root       3,  72 Aug 29  1992 hdb8
crw-r-----   1 root     kmem       1,   2 Aug 29  1992 kmem
crw-rw-rw-   1 root     root       6,   0 Aug 29  1992 lp0
crw-rw-rw-   1 root     root       6,   1 Aug 29  1992 lp1
crw-rw-rw-   1 root     root       6,   2 Aug 29  1992 lp2
crw-r-----   1 root     sys        1,   1 Aug 29  1992 mem
lrwxrwxrwx   1 root     root            4 Jun 11 23:24 mouse -&gt; cua1
crw-rw-rw-   1 root     root      27,   4 Jul 31  1994 nrft0
crw-rw-rw-   1 root     root      27,   5 Jul 31  1994 nrft1
crw-rw-rw-   1 root     root      27,   6 Jul 31  1994 nrft2
crw-rw-rw-   1 root     root      27,   7 Jul 31  1994 nrft3
crw-------   1 root     root       9, 128 Jan 23  1993 nrmt0
crw-rw-rw-   1 root     root       1,   3 Aug 29  1992 null
crw-r-----   1 root     root       6,   0 Aug 29  1992 par0
crw-r-----   1 root     root       6,   1 Aug 29  1992 par1
crw-r-----   1 root     root       6,   2 Aug 29  1992 par2
crw-r-----   1 root     root       1,   4 Aug 29  1992 port
crw-rw-rw-   1 root     root       4, 128 Jun 10 00:10 ptyp0
crw-rw-rw-   1 root     root       4, 129 Apr 10 14:51 ptyp1
crw-rw-rw-   1 root     root       4, 130 Aug 21  1994 ptyp2
crw-rw-rw-   1 root     root       4, 131 Apr 12  1993 ptyp3
crw-rw-rw-   1 root     tty        4, 132 Jan  3  1993 ptyp4
crw-rw-rw-   1 root     tty        4, 133 Jan  3  1993 ptyp5
crw-rw-rw-   1 root     tty        4, 134 Jan  3  1993 ptyp6
crw-rw-rw-   1 root     tty        4, 135 Jan  3  1993 ptyp7
crw-rw-rw-   1 root     tty        4, 136 Jan  3  1993 ptyp8
crw-rw-rw-   1 root     tty        4, 137 Jan  3  1993 ptyp9
crw-rw-rw-   1 root     tty        4, 138 Jan  3  1993 ptypa
crw-rw-rw-   1 root     tty        4, 139 Jan  3  1993 ptypb
crw-rw-rw-   1 root     tty        4, 140 Jan  3  1993 ptypc
crw-rw-rw-   1 root     tty        4, 141 Jan  3  1993 ptypd
crw-rw-rw-   1 root     tty        4, 142 Jan  3  1993 ptype
crw-rw-rw-   1 root     tty        4, 143 Jan  3  1993 ptypf
brw-rw----   1 root     root       1,   0 Jun  8 18:49 ram
crw-rw-rw-   1 root     root      27,   0 Jul 31  1994 rft0
crw-rw-rw-   1 root     root      27,   1 Jul 31  1994 rft1
crw-rw-rw-   1 root     root      27,   2 Jul 31  1994 rft2
crw-rw-rw-   1 root     root      27,   3 Jul 31  1994 rft3
crw-------   1 root     root       9,   0 Jan 23  1993 rmt0
brw-r-----   1 root     root       8,   0 Aug 29  1992 sda
brw-r-----   1 root     root       8,   1 Aug 29  1992 sda1
brw-r-----   1 root     root       8,   2 Aug 29  1992 sda2
brw-r-----   1 root     root       8,   3 Aug 29  1992 sda3
brw-r-----   1 root     root       8,   4 Aug 29  1992 sda4
brw-r-----   1 root     root       8,   5 Aug 29  1992 sda5
brw-r-----   1 root     root       8,   6 Aug 29  1992 sda6
brw-r-----   1 root     root       8,   7 Aug 29  1992 sda7
brw-r-----   1 root     root       8,   8 Aug 29  1992 sda8
brw-r-----   1 root     root       8,  16 Aug 29  1992 sdb
brw-r-----   1 root     root       8,  17 Aug 29  1992 sdb1
brw-r-----   1 root     root       8,  18 Aug 29  1992 sdb2
brw-r-----   1 root     root       8,  19 Aug 29  1992 sdb3
brw-r-----   1 root     root       8,  20 Aug 29  1992 sdb4
brw-r-----   1 root     root       8,  21 Aug 29  1992 sdb5
brw-r-----   1 root     root       8,  22 Aug 29  1992 sdb6
brw-r-----   1 root     root       8,  23 Aug 29  1992 sdb7
brw-r-----   1 root     root       8,  24 Aug 29  1992 sdb8
brw-------   1 bin      bin        8,  32 Jun 30  1992 sdc
brw-------   1 bin      bin        8,  33 Jun 30  1992 sdc1
brw-------   1 bin      bin        8,  34 Jun 30  1992 sdc2
brw-------   1 bin      bin        8,  35 Jun 30  1992 sdc3
brw-------   1 bin      bin        8,  36 Jun 30  1992 sdc4
brw-------   1 bin      bin        8,  37 Jun 30  1992 sdc5
brw-------   1 bin      bin        8,  38 Jun 30  1992 sdc6
brw-------   1 bin      bin        8,  39 Jun 30  1992 sdc7
brw-------   1 bin      bin        8,  40 Jun 30  1992 sdc8
brw-------   1 bin      bin        8,  48 Jun 30  1992 sdd
brw-------   1 bin      bin        8,  49 Jun 30  1992 sdd1
brw-------   1 bin      bin        8,  50 Jun 30  1992 sdd2
brw-------   1 bin      bin        8,  51 Jun 30  1992 sdd3
brw-------   1 bin      bin        8,  52 Jun 30  1992 sdd4
brw-------   1 bin      bin        8,  53 Jun 30  1992 sdd5
brw-------   1 bin      bin        8,  54 Jun 30  1992 sdd6
brw-------   1 bin      bin        8,  55 Jun 30  1992 sdd7
brw-------   1 bin      bin        8,  56 Jun 30  1992 sdd8
brw-------   1 bin      bin        8,  64 Jun 30  1992 sde
brw-------   1 bin      bin        8,  65 Jun 30  1992 sde1
brw-------   1 bin      bin        8,  66 Jun 30  1992 sde2
brw-------   1 bin      bin        8,  67 Jun 30  1992 sde3
brw-------   1 bin      bin        8,  68 Jun 30  1992 sde4
brw-------   1 bin      bin        8,  69 Jun 30  1992 sde5
brw-------   1 bin      bin        8,  70 Jun 30  1992 sde6
brw-------   1 bin      bin        8,  71 Jun 30  1992 sde7
brw-------   1 bin      bin        8,  72 Jun 30  1992 sde8
crw-rw-rw-   1 root     root       5,   0 Apr 16  1994 tty
crw-rw-rw-   1 grahamc  other      4,   0 Jun 11 23:21 tty0
crw--w--w-   1 root     root       4,   1 Jun 11 23:23 tty1
crw-rw-rw-   1 root     root       4,   2 Jun 11 23:21 tty2
crw-rw-rw-   1 root     root       4,   3 Jun 11 23:21 tty3
crw-rw-rw-   1 root     other      4,   4 Jun 11 23:21 tty4
crw-rw-rw-   1 root     other      4,   5 Jun 11 23:21 tty5
crw-rw-rw-   1 root     root       4,   6 Jun 11 23:21 tty6
crw--w--w-   1 grahamc  other      4,   7 Apr 15  1993 tty7
crw--w--w-   1 root     root       4,   8 Apr 15  1993 tty8
crw-rw-rw-   1 root     root       4,  64 Mar 30  1993 ttyS0
crw-rw-rw-   1 root     users      4,  65 Mar 31  1993 ttyS1
crw-rw-rw-   1 root     root       4,  66 Jan 23  1980 ttyS2
crw-rw-rw-   1 root     root       4, 192 Jun 10 00:10 ttyp0
crw-rw-rw-   1 root     root       4, 193 Apr 10 14:51 ttyp1
crw-rw-rw-   1 root     root       4, 194 Aug 21  1994 ttyp2
crw-rw-rw-   1 root     root       4, 195 Apr 12  1993 ttyp3
crw-rw-rw-   1 root     tty        4, 196 Jan  3  1993 ttyp4
crw-rw-rw-   1 root     tty        4, 197 Jan  3  1993 ttyp5
crw-rw-rw-   1 root     tty        4, 198 Jan  3  1993 ttyp6
crw-rw-rw-   1 root     tty        4, 199 Jan  3  1993 ttyp7
crw-rw-rw-   1 root     tty        4, 200 Jan  3  1993 ttyp8
crw-rw-rw-   1 root     tty        4, 201 Jan  3  1993 ttyp9
crw-rw-rw-   1 root     tty        4, 202 Jan  3  1993 ttypa
crw-rw-rw-   1 root     tty        4, 203 Jan  3  1993 ttypb
crw-rw-rw-   1 root     tty        4, 204 Jan  3  1993 ttypc
crw-rw-rw-   1 root     tty        4, 205 Jan  3  1993 ttypd
crw-rw-rw-   1 root     tty        4, 206 Jan  3  1993 ttype
crw-rw-rw-   1 root     tty        4, 207 Jan  3  1993 ttypf
-rw-------   1 root     root        63488 Mar 14  1993 ttys0
crw-rw-rw-   1 root     root       4,  67 Oct 14  1992 ttys3
crw-r--r--   1 root     root       1,   5 Aug 29  1992 zero

/mnt/etc:
total 108
-rw-r--r--   1 root     root           94 May 30 06:15 fstab
-rwx------   1 root     root        25604 Mar 17  1993 getty*
-rw-------   1 root     root          566 Dec 30  1992 gettydefs
-rw-rw-r--   1 root     shadow        321 Oct  3  1994 group
-rwxr-xr-x   1 bin      bin          9220 Mar 17  1993 halt*
-rw-r--r--   1 root     root           26 Feb 19 19:07 host.conf
-rw-r--r--   1 root     root          506 Feb 19 19:07 hosts
-rwxr-xr-x   1 bin      bin         17412 Mar 17  1993 init*
-rw-r--r--   1 root     root         1354 Jun  3 23:42 inittab
-rwxr-xr-x   1 root     root         1478 Mar 17 18:29 issue*
-rw-rw----   1 root     shadow       5137 Dec  4  1992 login.defs
-rw-r--r--   1 sysadmin bin            42 Mar 17 18:30 motd
-rw-r--r--   1 root     shadow        525 Jun 11 23:24 passwd
-rwxr-xr-x   1 root     root         1476 Aug 17  1994 profile*
-rw-r--r--   1 root     root          715 Feb 19 19:02 protocols
drwxr-xr-x   2 root     root         1024 May 30 06:05 rc.d/
-rwxr-xr-x   1 bin      bin          9220 Mar 17  1993 reboot*
-r--r--r--   1 bin      bin            57 Nov 28  1992 securetty
-rw-r--r--   1 root     root         3316 Feb 19 19:01 services
-rwxr-xr-x   1 bin      bin         13316 Mar 17  1993 shutdown*
-rwxr-xr-x   1 root     root         3212 Apr 17  1993 swapoff*
-rwxr-xr-x   1 root     root         3212 Apr 17  1993 swapon*
-rw-r--r--   1 root     root          817 Jun 11 23:23 termcap
-rwxr-xr-x   1 root     root         6188 Apr 17  1993 umount*
-rw-r--r--   1 root     root        12264 Jun 11 23:22 utmp
-rw-r--r--   1 root     root           56 Jun 11 23:22 wtmp

/mnt/etc/rc.d:
total 4
-rwxr-xr--   1 root     root          450 May 30 06:05 rc.0*
-rwxr-xr--   1 root     root          390 May 30 06:05 rc.K*
-rwxr-xr--   1 root     root          683 May 30 06:06 rc.M*
-rwxr-xr--   1 root     root          498 Jun 11 18:44 rc.S*

/mnt/home:
total 0

/mnt/lib:
total 287
-rwxr-xr-x   1 root     root        17412 Jun 11 23:24 ld.so*
lrwxrwxrwx   1 root     root           14 Jun 11 23:24 libc.so.4 -&gt; libc.so.4.5.21*
-rwxr-xr-x   1 root     root       623620 May 22  1994 libc.so.4.5.21*

/mnt/lost+found:
total 0

/mnt/mnt:
total 0

/mnt/proc:
total 0

/mnt/root:
total 0

/mnt/sbin:
total 15
-rwxr-xr-x   1 root     root        16885 Jun 13  1994 update*

/mnt/tmp:
total 0

/mnt/usr:
total 1
drwxr-xr-x   2 root     root         1024 May 30 05:49 bin/

/mnt/usr/bin:
total 217
-rwxr-xr-x   1 root     root         1560 Sep 17  1992 basename*
-rws--x--x   1 root     root         8232 Jan 16  1993 chsh*
-rwxr-xr-x   1 root     root         1308 Jan 23  1980 clear*
-rwxr-xr-x   1 root     other       91136 Sep  4  1992 elvis*
-rwxr-xr-x   1 root     root        13252 Sep 17  1992 ls*
-rwxr-xr-x   1 bin      bin         21504 Oct  2  1992 more*
-rwxr-xr-x   1 root     other       91136 Sep  4  1992 vi*

/mnt/util:
total 0

/mnt/var:
total 3
drwxr-xr-x   2 root     root         1024 May 30 05:58 adm/
drwxr-xr-x   2 root     root         1024 Jun 11 23:24 logs/
drwxr-xr-x   2 root     root         1024 Jun 11 23:24 run/

/mnt/var/adm:
total 0
-rw-r--r--   1 root     root            0 May 30 05:58 utmp
-rw-r--r--   1 root     root            0 May 30 05:58 wtmp

/mnt/var/logs:
total 0

/mnt/var/run:
total 0
</PRE>
</CODE></BLOCKQUOTE>
</P>

<H3>Utility Disk ls-lR Directory Listing</H3>

<P>The utility listing is of a diskette mounted at /mnt.</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
total 15
drwx------   2 root     root         1024 Jun 18 19:57 bin/
drwxr-xr-x   2 root     root        12288 Jun 18 19:57 lost+found/
drwx------   2 root     root         1024 Jun 18 19:57 sbin/
drwxr-xr-x   4 root     root         1024 May  5 16:30 usr/

/mnt/bin:
total 13
-rwxr-xr-x   1 root     root         3180 Apr 10  1993 free*
-rwxr-xr-x   1 root     root        10687 Feb 10  1994 pwd*
-rwx--x--x   1 root     root         3672 Nov 17  1992 rdev*

/mnt/lost+found:
total 0

/mnt/sbin:
total 18
-rwxr-xr-x   1 root     root        16336 Jun 18 14:31 insmod*
-rwxr-xr-x   1 root     root           68 Jun 18 14:31 lsmod*
lrwxrwxrwx   1 root     root            6 Jun 18 19:57 rmmod -&gt; insmod*

/mnt/usr:
total 2
drwx------   2 root     root         1024 Jun 18 19:57 bin/
drwxr-xr-x   3 root     root         1024 Jun 18 19:57 local/

/mnt/usr/bin:
total 411
-rwxr-xr-x   1 root     bin        111616 Sep  9  1992 awk*
-rwxr-xr-x   1 root     root        41984 Dec 23  1992 cpio*
-rwxr-xr-x   1 root     root        50176 Dec 23  1992 find*
-rwxr-xr-x   1 root     root       115712 Sep 17  1992 gawk*
-rwxr-xr-x   1 root     bin         37888 Sep  4  1992 grep*
-rwxr-xr-x   1 root     root        63874 May  1  1994 gzip*
-rwxr-xr-x   1 root     root         2044 Sep 17  1992 kill*
-rwx--x--x   1 root     root         3132 Jan 24  1993 mt*
-rwxr-xr-x   1 root     root         3416 Sep 22  1992 strings*
-rwxr-xr-x   1 root     other        3848 Sep  4  1992 who*

/mnt/usr/local:
total 1
drwx------   2 root     root         1024 Jun 18 19:57 bin/

/mnt/usr/local/bin:
total 374
-rwxr-xr-x   1 root     root       155542 Jun 18 17:07 ftape.o*
-rwxr-xr-x   1 root     root       226308 Jun 13  1994 tar*
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss5.2">5.2 Shell Scripts to Build Diskettes</A></H2>

<P>These shell scripts are provided as examples only. I no longer use
them because I now use and recommend Scott Burkett's <CODE>Bootkit</CODE>
package to manage rescue diskette contents and creation. Bootkit is based
on these scripts, and does essentially the same thing, but it is much
tidier, nicer and easier to use. However, the sample shell scripts here
will still provide working diskettes.</P>
<P>There are two shell scripts:
<UL>
<LI>mkroot - builds a root or boot/root diskette.</LI>
<LI>mkutil - builds a utility diskette.</LI>
</UL>
</P>
<P>Both are currently configured to run in the parent directory of
boot_disk and util_disk, each of which contains everything to be
copied to it's diskette. Note that these shell scripts will *NOT*
automatically set up and copy all the files for you - you work 
out which files are needed, set up the directories and copy the 
files to those directories. The shell scripts are samples which
will copy the contents of those directories. Note that they are
primitive shell scripts and are not meant for the novice user.</P>
<P>The scripts both contain configuration variables at the
start which allow them to be easily configured to run anywhere.
First, set up the model directories and copy all the required 
files into them. To see what directories and files are needed,
have a look at the sample directory listings in the previous
sections.</P>
<P>Check the configuration variables in the 
shell scripts and change them as required before running the 
scripts.</P>

<H3>mkroot - Make Root or Boot/Root Diskette</H3>

<P>
<BLOCKQUOTE><CODE>
<HR>
<PRE>
# mkroot: make a boot/boot disk - creates a boot/root diskette
#       by building a file system on it, then mounting it and
#       copying required files from a model.
#       Note: the model to copy from from must dirst be set up,
#       then change the configuration variables below to suit
#       your system.
#
# usage: mkroot [nokernel]
#       if the parameter is omitted, then the kernel and LILO
#       are copied.

# Copyright (c) Graham Chapman 1995. All rights reserved.
# Permission is granted for this material to be freely
# used and distributed, provided the source is acknowledged.
# No warranty of any kind is provided. You use this material
# at your own risk.

# Configuration variables...
BOOTDISKDIR=./boot_disk       # name of boot disk directory
MOUNTPOINT=./mnt              # temporary mount point for diskette
LILODIR=/sbin                 # directory containing lilo
LILOBOOT=/boot/boot.b         # lilo boot sector
LILOMSG=./lilo.msg            # lilo message to display at boot time
LILOCONFIG=./lilo.conf        # lilo parms for boot/root diskette
DISKETTEDEV=/dev/fd0          # device name of diskette drive

echo $0: create boot/root diskette
echo Warning: data on diskette will be overwritten!
echo Insert diskette in $DISKETTEDEV and and press any key...
read anything

mke2fs $DISKETTEDEV    
if [ $? -ne 0 ]
then
        echo mke2fs failed
        exit
fi

mount -t ext2 $DISKETTEDEV $MOUNTPOINT 
if [ $? -ne 0 ]
then
        echo mount failed
        exit
fi

# copy the directories containing files
for i in bin etc lib
do
        cp -dpr $BOOTDISKDIR/$i $MOUNTPOINT  
done

# copy dev *without* trying to copy the files in it
cp -dpR $BOOTDISKDIR/dev $MOUNTPOINT   

# create empty directories required
mkdir $MOUNTPOINT/proc
mkdir $MOUNTPOINT/tmp
mkdir $MOUNTPOINT/mnt
mkdir $MOUNTPOINT/usr

# copy the kernel  
if [ &quot;$1&quot; != &quot;nokernel&quot; ]
then
        echo &quot;Copying kernel&quot;
        cp $BOOTDISKDIR/zImage $MOUNTPOINT
        echo kernel copied

        # setup lilo
        cp $LILOBOOT $MOUNTPOINT
        cp $LILOMSG $MOUNTPOINT
        $LILODIR/lilo -C $LILOCONFIG
        echo LILO installed
fi

umount $MOUNTPOINT

echo Root diskette complete
</PRE>
<HR>
</CODE></BLOCKQUOTE>
</P>

<H3>mkutil - Make Utility Diskette</H3>

<P>
<BLOCKQUOTE><CODE>
<HR>
<PRE>
# mkutil: make a utility diskette - creates a utility diskette
#       by building a file system on it, then mounting it and
#       copying required files from a model.
#       Note: the model to copy from from must first be set up,
#       then change the configuration variables below to suit
#       your system.

# Copyright (c) Graham Chapman 1995. All rights reserved.
# Permission is granted for this material to be freely
# used and distributed, provided the source is acknowledged.
# No warranty of any kind is provided. You use this material
# at your own risk.

# Configuration variables...
UTILDISKDIR=./util_disk       # name of directory containing model
MOUNTPOINT=./mnt              # temporary mount point for diskette
DISKETTEDEV=/dev/fd0          # device name of diskette drive

echo $0: create utility diskette
echo Warning: data on diskette will be overwritten!
echo Insert diskette in $DISKETTEDEV and and press any key...
read anything

mke2fs $DISKETTEDEV 
if [ $? -ne 0 ]
then
        echo mke2fs failed
        exit
fi

# Any file system type would do here
mount -t ext2 $DISKETTEDEV $MOUNTPOINT
if [ $? -ne 0 ]
then
        echo mount failed
        exit
fi

# copy the directories containing files
cp -dpr $UTILDISKDIR/bin $MOUNTPOINT

umount $MOUNTPOINT

echo Utility diskette complete
</PRE>
<HR>
</CODE></BLOCKQUOTE>
</P>


<HR>
<A HREF="Bootdisk-HOWTO-4.html"><IMG SRC="prev.gif" ALT="Previous"></A>
<A HREF="Bootdisk-HOWTO-6.html"><IMG SRC="next.gif" ALT="Next"></A>
<A HREF="Bootdisk-HOWTO.html#toc5"><IMG SRC="toc.gif" ALT="Contents"></A>
<hr> 
Space for these documents provided by 
<A href="http://www.spade.com/">Ben Spade</A> 
in support of the Linux community. 

</BODY>
</HTML>
