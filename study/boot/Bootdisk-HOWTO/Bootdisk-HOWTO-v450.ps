%!PS-Adobe-3.0
%%BoundingBox: 0 0 595 792
%%LanguageLevel: 2
%%Creator: htmldoc 1.8.11 Copyright 1997-2001 Easy Software Products, All Rights Reserved.
%%CreationDate: D:20020108132612Z
%%Title: The Linux Bootdisk HOWTO
%%Generator: Modular DocBook HTML Stylesheet Version 1.63
%%Pages: 52
%%DocumentNeededResources:
%%+ font Courier
%%+ font Courier-Oblique
%%+ font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Helvetica
%%+ font Helvetica-Bold
%%+ font Symbol
%%DocumentData: Clean7bit
%%EndComments
%%BeginProlog
/fontencoding[
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/space/exclam/quotedbl/numbersign/dollar/percent/ampersand/quotesingle
/parenleft/parenright/asterisk/plus/comma/minus/period/slash
/zero/one/two/three/four/five/six/seven
/eight/nine/colon/semicolon/less/equal/greater/question
/at/A/B/C/D/E/F/G
/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W
/X/Y/Z/bracketleft/backslash/bracketright/asciicircum/underscore
/grave/a/b/c/d/e/f/g
/h/i/j/k/l/m/n/o
/p/q/r/s/t/u/v/w
/x/y/z/braceleft/bar/braceright/asciitilde/.notdef
/Euro/.notdef/quotesinglbase/florin/quotedblbase/ellipsis/dagger/daggerdbl
/circumflex/perthousand/Scaron/guilsinglleft/OE/.notdef/.notdef/.notdef
/.notdef/quoteleft/quoteright/quotedblleft/quotedblright/bullet/endash/emdash
/tilde/trademark/scaron/guilsinglright/oe/.notdef/.notdef/Ydieresis
/space/exclamdown/cent/sterling/currency/yen/brokenbar/section
/dieresis/copyright/ordfeminine/guillemotleft/logicalnot/hyphen/registered/macron
/degree/plusminus/twosuperior/threesuperior/acute/mu/paragraph/periodcentered
/cedilla/onesuperior/ordmasculine/guillemotright/onequarter/onehalf/threequarters/questiondown
/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE/Ccedilla
/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex/Idieresis
/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis/multiply
/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn/germandbls
/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide
/oslash/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis
]def/Courier findfont
dup length dict begin{1 index/FID ne{def}{pop pop}ifelse}forall/Encoding fontencoding def currentdict end
/F0 exch definefont pop
/Courier-Oblique findfont
dup length dict begin{1 index/FID ne{def}{pop pop}ifelse}forall/Encoding fontencoding def currentdict end
/F2 exch definefont pop
/Times-Roman findfont
dup length dict begin{1 index/FID ne{def}{pop pop}ifelse}forall/Encoding fontencoding def currentdict end
/F4 exch definefont pop
/Times-Bold findfont
dup length dict begin{1 index/FID ne{def}{pop pop}ifelse}forall/Encoding fontencoding def currentdict end
/F5 exch definefont pop
/Times-Italic findfont
dup length dict begin{1 index/FID ne{def}{pop pop}ifelse}forall/Encoding fontencoding def currentdict end
/F6 exch definefont pop
/Helvetica findfont
dup length dict begin{1 index/FID ne{def}{pop pop}ifelse}forall/Encoding fontencoding def currentdict end
/F8 exch definefont pop
/Helvetica-Bold findfont
dup length dict begin{1 index/FID ne{def}{pop pop}ifelse}forall/Encoding fontencoding def currentdict end
/F9 exch definefont pop
/Symbol findfont
/Fc exch definefont pop
/BD{bind def}bind def
/B{dup 0 exch rlineto exch 0 rlineto neg 0 exch rlineto closepath stroke}BD
/C{setrgbcolor}BD
/CM{concat}BD/F{dup 0 exch rlineto exch 0 rlineto neg 0 exch rlineto closepath fill}BD
/GS{gsave}BD/GR{grestore}BD/J{0 exch ashow}BD/L{0 rlineto stroke}BD/M{moveto}BD
/S{show}BD/SF{findfont exch scalefont setfont}BD/SP{showpage}BD/T{translate}BD
%%EndProlog
%%Page: title 1
GS
72 36 T
20/F9 SF 0 634 M(The Linux Bootdisk HOWTO)S
14/F9 SF 0 563.2 M(Tom Fawcett)S
11/F4 SF 0 536.2 M(        Bootdisk-HOWTO@linuxdoc.org)S
0 496.6 M(Copyright \251 1995-2002 by Tom Fawcett)S
0 470.2 M(v4.5, January 2002)S
0 430.6 M(This document describes how to design and build boot/root  diskettes for Linux.  These disks can be used as)S
0 417.4 M(rescue disks or  to test new system components.  You should be reasonably  familiar with system)S
0 404.2 M(administration tasks before attempting to  build a bootdisk.  If you just want a rescue disk to have for)S
0 391 M(emergencies, see Appendix A.1. )S
0 380.2 M 487.0 2.0 F
GR
SP
%%Page: i 2
GS
72 36 T
20/F9 SF 159.1 674 M(Table of Contents)S
11/F5 SF 0 650 M(1. )S
11 650 M(Preface)S
44.2 650 M(..............................................................................................................................................................1)S
11/F4 SF 36 636.8 M(1.1. )S
55.2 636.8 M(Version )S
92.8 636.8 M(notes)S
115.8 636.8 M(....................................................................................................................................1)S
36 623.6 M(1.2. )S
55.2 623.6 M(To )S
70.2 623.6 M(do )S
84 623.6 M(list)S
96.5 623.6 M(...........................................................................................................................................1)S
36 610.4 M(1.3. )S
55.2 610.4 M(Feedback )S
100.2 610.4 M(and )S
118.8 610.4 M(credits)S
146 610.4 M(.........................................................................................................................1)S
36 597.2 M(1.4. )S
55.2 597.2 M(Distribution )S
111.2 597.2 M(policy)S
137.8 597.2 M(............................................................................................................................2)S
11/F5 SF 0 570.8 M(2. )S
11 570.8 M(Introduction)S
69 570.8 M(.....................................................................................................................................................3)S
0 544.4 M(3. )S
11 544.4 M(Bootdisks )S
59.6 544.4 M(and )S
80.1 544.4 M(the )S
97.5 544.4 M(boot )S
121 544.4 M(process)S
154.2 544.4 M(......................................................................................................................4)S
11/F4 SF 36 531.2 M(3.1. )S
55.2 531.2 M(The )S
75.1 531.2 M(boot )S
97.4 531.2 M(process)S
129.5 531.2 M(...............................................................................................................................4)S
36 518 M(3.2. )S
55.2 518 M(Disk )S
78.8 518 M(types)S
102 518 M(.........................................................................................................................................5)S
11/F5 SF 0 491.6 M(4. )S
11 491.6 M(Building )S
54.1 491.6 M(a )S
62.4 491.6 M(root )S
84.7 491.6 M(filesystem)S
129.5 491.6 M(...............................................................................................................................7)S
11/F4 SF 36 478.4 M(4.1. )S
55.2 478.4 M(Overview)S
96.5 478.4 M(...........................................................................................................................................7)S
36 465.2 M(4.2. )S
55.2 465.2 M(Creating )S
95.9 465.2 M(the )S
112.1 465.2 M(filesystem)S
157 465.2 M(.....................................................................................................................7)S
36 452 M(4.3. )S
55.2 452 M(Populating )S
105.7 452 M(the )S
121.9 452 M(filesystem)S
165.2 452 M(..................................................................................................................9)S
72 438.8 M(4.3.1. )S
99.5 438.8 M(/dev)S
115.8 438.8 M(....................................................................................................................................9)S
72 425.6 M(4.3.2. )S
99.5 425.6 M(/etc)S
113 425.6 M(...................................................................................................................................10)S
72 412.4 M(4.3.3. )S
99.5 412.4 M(/bin )S
119.4 412.4 M(and )S
138 412.4 M(/sbin)S
157 412.4 M(...................................................................................................................12)S
72 399.2 M(4.3.4. )S
99.5 399.2 M(/lib)S
113 399.2 M(...................................................................................................................................12)S
36 386 M(4.4. )S
55.2 386 M(Providing )S
101.4 386 M(for )S
117 386 M(PAM )S
143.6 386 M(and )S
162.2 386 M(NSS)S
181.8 386 M(..........................................................................................................13)S
72 372.8 M(4.4.1. )S
99.5 372.8 M(PAM )S
126.1 372.8 M(\(Pluggable )S
176.5 372.8 M(Authentication )S
244.6 372.8 M(Modules\))S
286.2 372.8 M(....................................................................13)S
72 359.6 M(4.4.2. )S
99.5 359.6 M(NSS )S
122.4 359.6 M(\(Name )S
155.1 359.6 M(Service )S
190.8 359.6 M(Switch\))S
223 359.6 M(...........................................................................................14)S
36 346.4 M(4.5. )S
55.2 346.4 M(Modules)S
93.8 346.4 M(..........................................................................................................................................14)S
36 333.2 M(4.6. )S
55.2 333.2 M(Some )S
83.1 333.2 M(final )S
106 333.2 M(details)S
132.2 333.2 M(............................................................................................................................15)S
36 320 M(4.7. )S
55.2 320 M(Wrapping )S
102 320 M(it )S
110.9 320 M(up)S
121.2 320 M(................................................................................................................................15)S
11/F5 SF 0 293.6 M(5. )S
11 293.6 M(Choosing )S
57.8 293.6 M(a )S
66 293.6 M(kernel)S
93.8 293.6 M(..........................................................................................................................................16)S
0 267.2 M(6. )S
11 267.2 M(Putting )S
48.6 267.2 M(them )S
75.2 267.2 M(together: )S
120.7 267.2 M(Making )S
160.1 267.2 M(the )S
177.5 267.2 M(diskette\(s\))S
225.8 267.2 M(..........................................................................................17)S
11/F4 SF 36 254 M(6.1. )S
55.2 254 M(Transferring )S
113 254 M(the )S
129.2 254 M(kernel )S
159.4 254 M(with )S
181.7 254 M(LILO)S
206.5 254 M(.................................................................................................17)S
36 240.8 M(6.2. )S
55.2 240.8 M(Transferring )S
113 240.8 M(the )S
129.2 240.8 M(kernel )S
159.4 240.8 M(without )S
195.8 240.8 M(LILO)S
220.2 240.8 M(............................................................................................18)S
36 227.6 M(6.3. )S
55.2 227.6 M(Setting )S
89.2 227.6 M(the )S
105.4 227.6 M(ramdisk )S
143.6 227.6 M(word)S
165.2 227.6 M(................................................................................................................19)S
36 214.4 M(6.4. )S
55.2 214.4 M(Transferring )S
113 214.4 M(the )S
129.2 214.4 M(root )S
149.6 214.4 M(filesystem)S
192.8 214.4 M(......................................................................................................20)S
11/F5 SF 0 188 M(7. )S
11 188 M(Troubleshooting, )S
94.1 188 M(or )S
107.3 188 M(The )S
128.3 188 M(Agony )S
161.7 188 M(of )S
173.6 188 M(Defeat)S
203.8 188 M(..................................................................................................21)S
0 161.6 M(8. )S
11 161.6 M(Reducing )S
58.4 161.6 M(root )S
80.7 161.6 M(filesystem )S
129.8 161.6 M(size)S
146 161.6 M(.......................................................................................................................23)S
11/F4 SF 36 148.4 M(8.1. )S
55.2 148.4 M(Increase )S
94.6 148.4 M(the )S
110.8 148.4 M(diskette )S
147.8 148.4 M(density)S
179 148.4 M(...........................................................................................................23)S
36 135.2 M(8.2. )S
55.2 135.2 M(Replace )S
93.4 135.2 M(common )S
134.7 135.2 M(utilities )S
170.4 135.2 M(with )S
192.8 135.2 M(BusyBox)S
231.2 135.2 M(........................................................................................23)S
36 122 M(8.3. )S
55.2 122 M(Use )S
75.1 122 M(an )S
88.2 122 M(alternate )S
128.9 122 M(shell)S
148.8 122 M(......................................................................................................................24)S
36 108.8 M(8.4. )S
55.2 108.8 M(Strip )S
79.4 108.8 M(libraries )S
118.2 108.8 M(and )S
136.8 108.8 M(binaries)S
170.8 108.8 M(..............................................................................................................24)S
36 95.6 M(8.5. )S
55.2 95.6 M(Move )S
83.7 95.6 M(files )S
105.4 95.6 M(to )S
116.7 95.6 M(a )S
124.3 95.6 M(utility )S
153.3 95.6 M(disk)S
170.8 95.6 M(..............................................................................................................24)S
11/F5 SF 0 69.2 M(9. )S
11 69.2 M(Miscellaneous )S
79.8 69.2 M(topics)S
104.8 69.2 M(......................................................................................................................................25)S
11/F4 SF 36 56 M(9.1. )S
55.2 56 M(Non-ramdisk )S
118.6 56 M(root )S
139.1 56 M(filesystems)S
187.2 56 M(........................................................................................................25)S
36 42.8 M(9.2. )S
55.2 42.8 M(Building )S
96.5 42.8 M(a )S
104.1 42.8 M(utility )S
133.2 42.8 M(disk)S
151.5 42.8 M(.....................................................................................................................25)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
484.6 0 M(i)S
GR
SP
%%Page: ii 3
GS
72 36 T
20/F9 SF 159.1 674 M(Table of Contents)S
11/F5 SF 0 650 M(10. )S
16.5 650 M(How )S
41.2 650 M(the )S
58.7 650 M(pros )S
82.2 650 M(do )S
96.6 650 M(it)S
102 650 M(.......................................................................................................................................27)S
0 623.6 M(11. )S
16.5 623.6 M(Creating )S
60.8 623.6 M(bootable )S
103.9 623.6 M(CD-ROMs)S
157 623.6 M(...................................................................................................................28)S
11/F4 SF 36 610.4 M(11.1. )S
60.8 610.4 M(What )S
87.3 610.4 M(is )S
97.4 610.4 M(El )S
109.9 610.4 M(Torito?)S
140.5 610.4 M(.........................................................................................................................28)S
36 597.2 M(11.2. )S
60.8 597.2 M(How )S
84.9 597.2 M(it )S
93.8 597.2 M(Works)S
121.2 597.2 M(................................................................................................................................28)S
36 584 M(11.3. )S
60.8 584 M(How )S
84.9 584 M(to )S
96.2 584 M(make )S
122.8 584 M(it )S
131.6 584 M(work)S
151.5 584 M(.....................................................................................................................28)S
36 570.8 M(11.4. )S
60.8 570.8 M(Create )S
92.2 570.8 M(Win9x )S
124.9 570.8 M(Bootable )S
167.4 570.8 M(CD-Roms)S
212 570.8 M(...............................................................................................29)S
72 557.6 M(Notes)S
96.5 557.6 M(.........................................................................................................................................30)S
11/F5 SF 0 531.2 M(12. )S
16.5 531.2 M(Frequently )S
71.2 531.2 M(Asked )S
103.3 531.2 M(Question )S
148.2 531.2 M(\(FAQ\) )S
181.5 531.2 M(list)S
195.5 531.2 M(.....................................................................................................36)S
0 504.8 M(A. )S
13.4 504.8 M(Resources )S
63.8 504.8 M(and )S
84.3 504.8 M(pointers)S
121.2 504.8 M(................................................................................................................................37)S
0 478.4 M(A.1. )S
21.7 478.4 M(Pre-made )S
72.9 478.4 M(Bootdisks)S
118.5 478.4 M(.................................................................................................................................38)S
0 452 M(A.2. )S
21.7 452 M(Rescue )S
57.4 452 M(packages)S
99.2 452 M(........................................................................................................................................39)S
0 425.6 M(A.3. )S
21.7 425.6 M(LILO )S
52 425.6 M(-- )S
67.2 425.6 M(the )S
84.7 425.6 M(Linux )S
115.5 425.6 M(loader)S
143.2 425.6 M(........................................................................................................................40)S
0 399.2 M(A.4. )S
21.7 399.2 M(Ramdisk )S
66.6 399.2 M(usage)S
91 399.2 M(...........................................................................................................................................41)S
0 372.8 M(A.5. )S
21.7 372.8 M(The )S
42.8 372.8 M(Linux )S
73.7 372.8 M(boot )S
97.2 372.8 M(process)S
129.5 372.8 M(.............................................................................................................................42)S
0 346.4 M(B. )S
12.8 346.4 M(LILO )S
43.1 346.4 M(boot )S
66.6 346.4 M(error )S
94.4 346.4 M(codes)S
118.5 346.4 M(.................................................................................................................................43)S
0 320 M(C. )S
13.4 320 M(Sample )S
51 320 M(root )S
73.3 320 M(filesystem )S
122.5 320 M(listings)S
154.2 320 M(....................................................................................................................49)S
0 293.6 M(D. )S
13.4 293.6 M(Sample )S
51 293.6 M(utility )S
81.9 293.6 M(disk )S
104.2 293.6 M(directory )S
150.3 293.6 M(listing)S
179 293.6 M(...........................................................................................................49)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
482.1 0 M(ii)S
GR
SP
%%Page: 1 4
GS
72 36 T
20/F9 SF 0 678 M(1. Preface)S
GS[17.2 0 0 17.2 94.3 642.6]CM[/Indexed/DeviceRGB 75<0000001010101818182929293939394242314242425252525A5A296363186363526363636B6B426B6B6B7373527B7B7B8484848C8C188C8C398C8C7B8C8C8C9494949C9C5A9C9C639C9C7BA5A563A5A584A5A594A5A59CA5A5A5ADAD21ADAD39ADAD6BADAD7BADAD8CADADA5ADADADB5B54AB5B552B5B5B5BDBD08BDBD5ABDBD84BDBD9CBDBDBDC6C65AC6C6C6CECE73CECECED6D618D6D652D6D663D6D66BD6D6D6DEDE00DEDE21DEDE31DEDE39DEDEDEE7E708E7E729E7E731E7E763E7E77BE7E7E7EFEF00EFEF10EFEF31EFEF42EFEFEFF7F7F7FFFF00FFFF08FFFF10FFFF21FFFFFF>]setcolorspace<</ImageType 1/Width 24/Height 24/BitsPerComponent 8/ImageMatrix[24 0 0 -24 0 24]/Decode[0 255]/Interpolate true/DataSource currentfile/ASCII85Decode filter>>image
91qoN91qoN91qN85X7S-91qoN91qoN91qoN91qoC/fbZI*?>k80Le].91qoN91qoN91CHH)E:&M6:+!h
(_eYs91qoN91qoN5SY/#7n6'>7n6'>7kti#7S?BI91qoI'e2O?7n6'>7n6'>7n5lh-VI**91q_h.S!!!
7n5iX%Q6gI7n6'>(FMjK91pr]6:XO97n40l!!kn]7n6'>65_gW90aI\7n6'>7n3pe!!G8O7n6'>7ku;^
9/%P[7n6'>7n4*j!!bk]7n6'>7n4C]9-$#_7n6'>7n4U#!!u4e7n6'>7n4aW5TN0]7n6'>7n4s.!"h^k
7n6'>7n5WU5TN0]7n6'>7n599!?Xg%7n6'>7n5WU5TN0]7n6'>7n5K@!@:6+7n6'>7n5WU5TN0]7n6'>
7n5ZG!]*>:7n6'>7n5WU5TN0]7n6'>7n5r]%6m?Q7n6'>7n5W]9.)\h7n6'>7n5]T%P^OF7n6'>7n4aW
9/RVX7n6'>7n4'i!!bYW7n6'>7mn:]91BmV7n6'>7n4$h!!P;O7n6'>81>oZ91q,[6:XO97n5HG$7JD7
7n6'>1`]"X91qnu+\,$m7n6'A6UsX:7n6'>'JN0Q91qoN*>_%47n6'>7n6'>7n>HJ0M>&391qoN9-"d"
6q9a;7n6'>6m`X$91qoN91qoN91q,_'-]M"4$,)4'-oh991qoN91qoN91qoN5V<cd'bq`C5YFaC91qoN
~>
GR
11/F4 SF 206.8 635.6 M(This document may be outdated.  If the date on the title page is)S
206.8 622.4 M(more than six months ago, please check the)S
206.8 609.2 M(Bootdisk-HOWTO homepage to see if a more recent version)S
206.8 596 M(exists. )S
0 567.6 M(Although this document should be legible in its text form,  it looks much better in Postscript, PDF or HTML)S
0 554.4 M(forms because of  the typographical conventions used. )S
0 543.6 M 487.0 2.0 F
17/F9 SF 0 506.8 M(1.1. Version notes)S
11/F4 SF 0 479.2 M(Graham Chapman wrote the original Bootdisk-HOWTO and supported it  through version 3.1.  Tom Fawcett)S
0 466 M(started as co-author around the time  kernel v2 was introduced, and he is the document's current maintainer.)S
0 452.8 M(Chapman has disappeared from the Linux community and his whereabouts are  currently unknown. )S
0 426.4 M(This information is intended for Linux on the )S
11/F6 SF ( Intel)S
11/F4 SF ( platform.  Much of this information may be  applicable to)S
0 413.2 M(Linux on other processors, but I have no first-hand  experience or information about this.  If you have)S
0 400 M(experience with  bootdisks on other platforms, please contact me. )S
0 389.2 M 487.0 2.0 F
17/F9 SF 0 352.4 M(1.2. To do list)S
11/F4 SF 36 324.8 M(User-mode-linux \( http://user-mode-linux.sourceforge.net\) seems like a great  way to test out)S
36 311.6 M(bootdisks without having to reboot your machine  constantly.  I haven't been able to get it to work.  If)S
36 298.4 M(anyone has  been using this consistently with homemade bootdisks, please let  me know. )S
25 324.8 M(1. )S
36 285.2 M(Re-analyze distribution bootdisks and update the "How the  Pros do it" section. )S
25 285.2 M(2. )S
36 272 M(Figure out just how much of the init-getty-login sequence can  be simplified, and rip it out.  A few)S
36 258.8 M(people have said that  init can be linked directly to /bin/sh; if so, and if this imposes  no great)S
36 245.6 M(limitations, alter the instructions to do this.  This would eliminate the need for getty, login, gettydefs,)S
36 232.4 M(and  maybe all that PAM and NSS stuff. )S
25 272 M(3. )S
36 219.2 M(Go through the 2.4 kernel source code again and write a  detailed  explanation of how the boot process)S
36 206 M(and ramdisk-loading  process work, in detail.  \(If only so that I understand it  better.\)  There are some)S
36 192.8 M(issues about initrd and limitations of  booting devices \(eg flash memory\) that I don't understand yet. )S
25 219.2 M(4. )S
36 179.6 M(Delete section that describes how to upgrade existing  distribution bootdisks.  This is usually more)S
36 166.4 M(trouble than it's  worth. )S
25 179.6 M(5. )S
36 153.2 M(Replace rdev commands with LILO keywords. )S
25 153.2 M(6. )S
0 142.4 M 487.0 2.0 F
17/F9 SF 0 105.6 M(1.3. Feedback and credits)S
11/F4 SF 0 78 M(I welcome any feedback, good or bad, on the content of this  document.  I have done my best to ensure that the)S
0 64.8 M(instructions and  information herein are accurate and reliable, but I don't know  everything and I don't keep up)S
0 51.6 M(on kernel development.  Please let me  know if you find errors or omissions.  When writing, please indicate the)S
0 38.4 M(version number of the document you're referencing.  Be nice. )S
11/F8 SF 0 0 M(1. Preface)S
480.9 0 M(1)S
GR
SP
%%Page: 2 5
GS
72 36 T
11/F4 SF 0 687 M(We thank the many people who assisted with corrections and  suggestions.  Their contributions have made it)S
0 673.8 M(far better than we  could ever have done alone. )S
0 647.4 M(Send comments and corrections to the author at the email address  above. )S
11/F6 SF ( Please read Section 7 before asking)S
0 634.2 M(me questions)S
11/F4 SF (.  Do )S
11/F6 SF ( not)S
11/F4 SF ( email me disk images. )S
0 623.4 M 487.0 2.0 F
17/F9 SF 0 586.6 M(1.4. Distribution policy)S
11/F4 SF 0 559 M(Copyright \251 1995-2002 by Tom Fawcett and Graham Chapman.  This document may be distributed under)S
0 545.8 M(the terms set forth in the Linux Documentation Project  License.  Please contact the authors if you are unable)S
0 532.6 M(to get  the license. )S
0 506.2 M(This is free documentation.  It is distributed in the hope  that it will be useful, but )S
11/F6 SF (without any  warranty)S
11/F4 SF (;)S
0 493 M(without even the implied warranty of )S
11/F6 SF ( merchantability)S
11/F4 SF ( or )S
11/F6 SF (fitness for a  particular purpose)S
11/F4 SF (. )S
0 482.2 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(1.4. Distribution policy)S
480.9 0 M(2)S
GR
SP
%%Page: 3 6
GS
72 36 T
20/F9 SF 0 678 M(2. Introduction)S
11/F4 SF 0 649.8 M(Linux boot disks are useful in a number of situations, such as testing a new kernel, recovering from a disk)S
0 636.6 M(failure \(anything from a lost boot sector to a disk head crash\), fixing a disabled system, or upgrading critical)S
0 623.4 M(system files safely \(such as )S
11/F0 SF (libc.so)S
11/F4 SF (\).)S
0 597 M(There are several ways of obtaining boot disks: )S
36 570.6 M(Use one from a distribution such as Slackware.  This will at least allow you to boot. )S
11/Fc SF 28.2 570.6 M(\267 )S
11/F4 SF 36 557.4 M(Use a rescue package to set up disks designed to be used as rescue disks. )S
11/Fc SF 28.2 557.4 M(\267 )S
11/F4 SF 36 544.2 M(Learn what is required for each of the types of disk to operate, then build your own. )S
11/Fc SF 28.2 544.2 M(\267 )S
11/F4 SF 0 531 M(Some people choose the last option so they can do it themselves.  That way, if something breaks, they can)S
0 517.8 M(work out what to do to fix it.  Plus it's a great way to learn about how a Linux system works.)S
0 491.4 M(This document assumes some basic familiarity with Linux system administration concepts.  For example, you)S
0 478.2 M(should know about directories, filesystems and floppy diskettes.  You should know how to use )S
11/F5 SF (mount)S
11/F4 SF ( and )S
11/F5 SF (df)S
11/F4 SF (.)S
0 465 M(You should know what )S
11/F0 SF (/etc/passwd)S
11/F4 SF ( and )S
11/F0 SF (fstab)S
11/F4 SF ( files are for and what they look like.  You should know)S
0 451.8 M(that most of the commands in this HOWTO should be run as root.)S
0 425.4 M(Constructing a bootdisk from scratch can be complicated.  If you haven't read the Linux FAQ and related)S
0 412.2 M(documents, such as the Linux Installation HOWTO and the Linux Installation Guide, you should not be)S
0 399 M(trying to build boot diskettes.  If you just need a working bootdisk for emergencies, it is )S
11/F6 SF (much)S
11/F4 SF ( easier to)S
0 385.8 M(download a prefabricated one.  See Appendix A.1, below, for where to find these.)S
0 375 M 487.0 2.0 F
11/F8 SF 0 0 M(2. Introduction)S
480.9 0 M(3)S
GR
SP
%%Page: 4 7
GS
72 36 T
0.88 0.88 0.88 C 0 174.6 M 487.0 15.0 F
0.00 0.00 0.00 C 20/F9 SF 0 678 M(3. Bootdisks and the boot process)S
11/F4 SF 0 649.8 M(A bootdisk is basically a miniature, self-contained Linux system on a diskette.  It must perform many of the)S
0 636.6 M(same functions that a complete full-size Linux system performs.  Before trying to build one you should)S
0 623.4 M(understand the basic Linux boot process.  Here we present the basics, which are sufficient for understanding)S
0 610.2 M(the rest of this document.  Many details and alternative options have been omitted.)S
0 599.4 M 487.0 2.0 F
17/F9 SF 0 562.6 M(3.1. The boot process)S
11/F4 SF 0 535 M(All PC systems start the boot process by executing code in ROM \(specifically, the )S
11/F6 SF (BIOS)S
11/F4 SF (\) to load the sector)S
0 521.8 M(from sector 0, cylinder 0 of the boot drive.  The boot drive is usually the first floppy drive \(designated )S
11/F0 SF (A:)S
11/F4 SF ( in)S
0 508.6 M(DOS and )S
11/F0 SF (/dev/fd0)S
11/F4 SF ( in Linux\).  The BIOS then tries to execute this sector.  On most bootable disks, sector 0,)S
0 495.4 M(cylinder 0 contains either: )S
36 469 M(code from a boot loader such as LILO, which locates the kernel, loads it and executes it to start the)S
36 455.8 M(boot proper; or )S
11/Fc SF 28.2 469 M(\267 )S
11/F4 SF 36 442.6 M(the start of an operating system kernel, such as Linux. )S
11/Fc SF 28.2 442.6 M(\267 )S
11/F4 SF 0 416.2 M(If a Linux kernel has been raw-copied to a diskette, the first sector of the disk will be the first sector of the)S
0 403 M(Linux kernel itself.  This first sector will continue the boot process by loading the rest of the kernel from the)S
0 389.8 M(boot device.)S
0 363.4 M(When the kernel is completely loaded, it initializes device drivers and its internal data structures.  Once it is)S
0 350.2 M(completely initialized, it consults a special location in its image called the )S
11/F6 SF (ramdisk word)S
11/F4 SF (. This word tells it)S
0 337 M(how and where to find its )S
11/F6 SF (root filesystem)S
11/F4 SF (.  A root filesystem is simply a filesystem that will be mounted as)S
0 323.8 M(``)S
11/F0 SF (/)S
11/F4 SF (''.  The kernel has to be told where to look for the root filesystem; if it cannot find a loadable image there, it)S
0 310.6 M(halts.)S
0 284.2 M(In some boot situations \24 often when booting from a diskette \24 the root filesystem is loaded into a )S
11/F6 SF (ramdisk)S
11/F4 SF (,)S
0 271 M(which is RAM accessed by the system as if it were a disk.  RAM is several orders of magnitude faster than a)S
0 257.8 M(floppy disk, so system operation is fast from a ramdisk.  Also, the kernel can load a )S
11/F6 SF (compressed)S
0 244.6 M(filesystem)S
11/F4 SF ( from the floppy and uncompress it onto the ramdisk, allowing many more files to be squeezed onto)S
0 231.4 M(the diskette. )S
0 205 M(Once the root filesystem is loaded and mounted, you see a message like: )S
9/F0 SF 2 178.6 M(        VFS: Mounted root \(ext2 filesystem\) readonly.)S
0 174.6 M 487.0 15.0 B
11/F4 SF 0 150.4 M(Once the system has loaded a root filesystem successfully, it tries to execute the )S
11/F0 SF (init)S
11/F4 SF ( program \(in )S
11/F0 SF (/bin)S
11/F4 SF ( or)S
11/F0 SF 0 137.2 M(/sbin)S
11/F4 SF (\). )S
11/F0 SF ( init)S
11/F4 SF ( reads its configuration file )S
11/F0 SF (/etc/inittab)S
11/F4 SF (, looks for a line designated )S
11/F0 SF (sysinit)S
11/F4 SF (, and)S
0 124 M(executes the named script.  The )S
11/F0 SF (sysinit)S
11/F4 SF ( script is usually something like )S
11/F0 SF (/etc/rc)S
11/F4 SF ( or)S
11/F0 SF 0 110.8 M(/etc/init.d/boot)S
11/F4 SF (.  This script is a set of shell commands that set up basic system services, such as)S
0 97.6 M(running )S
11/F5 SF (fsck)S
11/F4 SF ( on hard disks, loading necessary kernel modules, initializing swapping, initializing the network,)S
0 84.4 M(and mounting disks mentioned in )S
11/F0 SF (/etc/fstab)S
11/F4 SF (.)S
0 58 M(This script often invokes various other scripts to do modular initialization.  For example, in the common)S
0 44.8 M(SysVinit structure, the directory )S
11/F0 SF (/etc/rc.d/)S
11/F4 SF ( contains a complex structure of subdirectories whose files)S
0 31.6 M(specify how to enable and shut down most system services.  However, on a bootdisk the sysinit script is often)S
11/F8 SF 0 0 M(3. Bootdisks and the boot process)S
480.9 0 M(4)S
GR
SP
%%Page: 5 8
GS
72 36 T
11/F4 SF 0 687 M(very simple.)S
0 660.6 M(When the sysinit script finishes control returns to )S
11/F5 SF (init)S
11/F4 SF (, which then enters the )S
11/F6 SF (default runlevel)S
11/F4 SF (, specified in)S
11/F0 SF 0 647.4 M(inittab)S
11/F4 SF ( with the )S
11/F0 SF (initdefault)S
11/F4 SF ( keyword. The runlevel line usually specifies a program like )S
11/F5 SF (getty)S
11/F4 SF (, which)S
0 634.2 M(is responsible for handling commununications through the console and ttys.  It is the )S
11/F5 SF (getty)S
11/F4 SF ( program which)S
0 621 M(prints the familiar ``)S
11/F0 SF (login:)S
11/F4 SF ('' prompt.  The )S
11/F5 SF (getty)S
11/F4 SF ( program in turn invokes the )S
11/F5 SF (login)S
11/F4 SF ( program to handle login)S
0 607.8 M(validation and to set up user sessions.)S
0 597 M 487.0 2.0 F
17/F9 SF 0 560.2 M(3.2. Disk types)S
11/F4 SF 0 532.6 M(Having reviewed the basic boot process, we can now define various kinds of disks involved.  We classify)S
0 519.4 M(disks into four types.  The discussion here and throughout this document uses the term ``disk'' to refer to)S
0 506.2 M(floppy diskettes unless otherwise specified, though most of the discussion could apply equally well to hard)S
0 493 M(disks.)S
11/F6 SF 0 466.6 M(boot)S
11/F4 SF 36 440.2 M(A disk containing a kernel which can be booted.  The disk can be used to boot the kernel, which then)S
36 427 M(may load a root file system on another disk.  The kernel on a bootdisk usually must be told where to)S
36 413.8 M(find its root filesystem.)S
36 387.4 M(Often a bootdisk loads a root filesystem from another diskette, but it is possible for a bootdisk to be)S
36 374.2 M(set up to load a hard disk's root filesystem instead.  This is commonly done when testing a new kernel)S
36 361 M(\(in fact, ``)S
11/F5 SF (make zdisk)S
11/F4 SF ('' will create such a bootdisk automatically from the kernel source code\).)S
11/F6 SF 0 334.6 M(root)S
11/F4 SF 36 308.2 M(A disk with a filesystem containing files required to run a Linux system.  Such a disk does not)S
36 295 M(necessarily contain either a kernel or a boot loader. )S
36 268.6 M(A root disk can be used to run the system independently of any other disks, once the kernel has been)S
36 255.4 M(booted.  Usually the root disk is automatically copied to a ramdisk.  This makes root disk accesses)S
36 242.2 M(much faster, and frees up the disk drive for a utility disk.)S
11/F6 SF 0 215.8 M(boot/root)S
11/F4 SF 36 189.4 M(A disk which contains both the kernel and a root filesystem.  In other words, it contains everything)S
36 176.2 M(necessary to boot and run a Linux system without a hard disk.  The advantage of this type of disk is)S
36 163 M(that is it compact \24 everything required is on a single disk.  However, the gradually increasing size of)S
36 149.8 M(everything means that it is increasingly difficult to fit everything on a single diskette, even with)S
36 136.6 M(compression.)S
11/F6 SF 0 110.2 M(utility)S
11/F4 SF 36 83.8 M(A disk which contains a filesystem, but is not intended to be mounted as a root file system.  It is an)S
36 70.6 M(additional data disk.  You would use this type of disk to carry additional utilities where you have too)S
36 57.4 M(much to fit on your root disk.)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(3.2. Disk types)S
480.9 0 M(5)S
GR
SP
%%Page: 6 9
GS
72 36 T
11/F4 SF 0 687 M(In general, when we talk about ``building a bootdisk'' we mean creating both the boot \(kernel\) and root \(files\))S
0 673.8 M(portions.  They may be either together \(a single boot/root disk\) or separate \(boot + root disks\).  The most)S
0 660.6 M(flexible approach for rescue diskettes is probably to use separate boot and root diskettes, and one or more)S
0 647.4 M(utility diskettes to handle the overflow.)S
0 636.6 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(3.2. Disk types)S
480.9 0 M(6)S
GR
SP
%%Page: 7 10
GS
72 36 T
20/F9 SF 0 678 M(4. Building a root filesystem)S
11/F4 SF 0 649.8 M(Creating the root filesystem involves selecting files necessary for the system to run.  In this section we)S
0 636.6 M(describe how to build a )S
11/F6 SF (compressed root filesystem)S
11/F4 SF (.  A less common option is to build an uncompressed)S
0 623.4 M(filesystem on a diskette that is directly mounted as root; this alternative is described in Section 9.1.)S
0 612.6 M 487.0 2.0 F
17/F9 SF 0 575.8 M(4.1. Overview)S
11/F4 SF 0 548.2 M(A root filesystem must contain everything needed to support a full Linux system.  To be able to do this, the)S
0 535 M(disk must include the minimum requirements for a Linux system:)S
36 508.6 M(The basic file system structure, )S
11/Fc SF 28.2 508.6 M(\267 )S
11/F4 SF 36 495.4 M(Minimum set of directories: )S
11/F0 SF (/dev)S
11/F4 SF (, )S
11/F0 SF (/proc)S
11/F4 SF (, )S
11/F0 SF ( /bin)S
11/F4 SF (, )S
11/F0 SF ( /etc)S
11/F4 SF (, )S
11/F0 SF ( /lib)S
11/F4 SF (, )S
11/F0 SF ( /usr)S
11/F4 SF (, )S
11/F0 SF ( /tmp)S
11/F4 SF (, )S
11/Fc SF 28.2 495.4 M(\267 )S
11/F4 SF 36 482.2 M(Basic set of utilities: )S
11/F0 SF (sh)S
11/F4 SF (, )S
11/F0 SF (ls)S
11/F4 SF (, )S
11/F0 SF (cp)S
11/F4 SF (, )S
11/F0 SF (mv)S
11/F4 SF (, etc., )S
11/Fc SF 28.2 482.2 M(\267 )S
11/F4 SF 36 469 M(Minimum set of config files: )S
11/F0 SF (rc, inittab, fstab)S
11/F4 SF (, etc., )S
11/Fc SF 28.2 469 M(\267 )S
11/F4 SF 36 455.8 M(Devices: )S
11/F0 SF (/dev/hd*, /dev/tty*, /dev/fd0)S
11/F4 SF (, etc., )S
11/Fc SF 28.2 455.8 M(\267 )S
11/F4 SF 36 442.6 M(Runtime library to provide basic functions used by utilities. )S
11/Fc SF 28.2 442.6 M(\267 )S
11/F4 SF 0 416.2 M(Of course, any system only becomes useful when you can run something on it, and a root diskette usually)S
0 403 M(only becomes useful when you can do something like:)S
36 376.6 M(Check a file system on another drive, for example to check your root file system on your hard drive,)S
36 363.4 M(you need to be able to boot Linux from another drive, as you can with a root diskette system.  Then)S
36 350.2 M(you can run )S
11/F5 SF (fsck)S
11/F4 SF ( on your original root drive while it is not mounted. )S
11/Fc SF 28.2 376.6 M(\267 )S
11/F4 SF 36 337 M(Restore all or part of your original root drive from backup using archive and compression utilities)S
36 323.8 M(such as )S
11/F0 SF (cpio)S
11/F4 SF (, )S
11/F0 SF (tar)S
11/F4 SF (, )S
11/F0 SF (gzip)S
11/F4 SF ( and )S
11/F0 SF (ftape)S
11/F4 SF (. )S
11/Fc SF 28.2 337 M(\267 )S
11/F4 SF 0 297.4 M(We describe how to build a )S
11/F6 SF (compressed)S
11/F4 SF ( filesystem, so called because it is compressed on disk and, when)S
0 284.2 M(booted, is uncompressed onto a ramdisk.  With a compressed filesystem you can fit many files \(approximately)S
0 271 M(six megabytes\) onto a standard 1440K diskette.  Because the filesystem is much larger than a diskette, it)S
0 257.8 M(cannot be built on the diskette.  We have to build it elsewhere, compress it, then copy it to the diskette.)S
0 247 M 487.0 2.0 F
17/F9 SF 0 210.2 M(4.2. Creating the filesystem)S
11/F4 SF 0 182.6 M(In order to build such a root filesystem, you need a spare device that is large enough to hold all the files)S
0 169.4 M(before compression.  You will need a device capable of holding about four megabytes.  There are several)S
0 156.2 M(choices:)S
36 129.8 M(Use a )S
11/F6 SF (ramdisk)S
11/F4 SF ( \(DEVICE = )S
11/F0 SF (/dev/ram0)S
11/F4 SF (\).  In this case, memory is used to simulate a disk drive.  The)S
36 116.6 M(ramdisk must be large enough to hold a filesystem of the appropriate size.  If you use LILO, check)S
36 103.4 M(your configuration file \()S
11/F0 SF (/etc/lilo.conf)S
11/F4 SF (\) for a line like )S
11/F0 SF (RAMDISK = nnn)S
11/F4 SF ( which determines)S
36 90.2 M(the maximum RAM that can be allocated to a ramdisk.  The default is 4096K, which should be)S
36 77 M(sufficient.  You should probably not try to use such a ramdisk on a machine with less than 8MB of)S
36 63.8 M(RAM.  Check to make sure you have a device like )S
11/F0 SF (/dev/ram0, /dev/ram)S
11/F4 SF ( or )S
11/F0 SF (/dev/ramdisk)S
11/F4 SF (.)S
36 50.6 M(If not, create )S
11/F0 SF (/dev/ram0)S
11/F4 SF ( with )S
11/F5 SF (mknod)S
11/F4 SF ( \(major number 1, minor 0\). )S
11/Fc SF 28.2 129.8 M(\267 )S
11/F4 SF 36 37.4 M(If you have an unused hard disk partition that is large enough \(several megabytes\), this is acceptable. )S
11/Fc SF 28.2 37.4 M(\267 )S
11/F8 SF 0 0 M(4. Building a root filesystem)S
480.9 0 M(7)S
GR
SP
%%Page: 8 11
GS
72 36 T
0.88 0.88 0.88 C 0 82.4 M 487.0 15.0 F
0 417.2 M 487.0 15.0 F
36 524.6 M 405.9 15.0 F
0.00 0.00 0.00 C 11/F4 SF 36 687 M(Use a )S
11/F6 SF (loopback device)S
11/F4 SF (, which allows a disk file to be treated as a device.  Using a loopback device)S
36 673.8 M(you can create a three megabyte file on your hard disk and build the filesystem on it. )S
11/Fc SF 28.2 687 M(\267 )S
11/F4 SF 36 647.4 M(Type )S
11/F5 SF (man losetup)S
11/F4 SF ( for instructions on using loopback devices.  If you don't have )S
11/F5 SF (losetup)S
11/F4 SF (, you can get)S
36 634.2 M(it along with compatible versions of )S
11/F5 SF (mount)S
11/F4 SF ( and )S
11/F5 SF (unmount)S
11/F4 SF ( from the )S
11/F0 SF (util-linux)S
11/F4 SF ( package in the)S
36 621 M(directory )S
11/F0 SF (ftp://ftp.win.tue.nl/pub/linux/utils/util-linux/)S
11/F4 SF (.)S
36 594.6 M(If you do not have a loop device \()S
11/F0 SF (/dev/loop0)S
11/F4 SF (, )S
11/F0 SF (/dev/loop1)S
11/F4 SF (, etc.\) on your system, you will have)S
36 581.4 M(to create one with ``)S
11/F5 SF (mknod /dev/loop0 b 7 0)S
11/F4 SF (''.  Once you've installed these special )S
11/F5 SF (mount)S
11/F4 SF ( and)S
11/F5 SF 36 568.2 M(umount)S
11/F4 SF ( binaries, create a temporary file on a hard disk with enough capacity \(eg, )S
11/F0 SF (/tmp/fsfile)S
11/F4 SF (\).)S
36 555 M(You can use a command like: )S
9/F0 SF 38 528.6 M(        dd if=/dev/zero of=/tmp/fsfile bs=1k count=)S
270.2 528.6 M(nnn)S
36 524.6 M 405.9 15.0 B
11/F4 SF 36 513.6 M(to create an )S
11/F0 SF (nnn)S
11/F4 SF (-block file.)S
36 487.2 M(Use the file name in place of DEVICE below.  When you issue a mount command you must include)S
36 474 M(the option )S
11/F0 SF (-o loop)S
11/F4 SF ( to tell mount to use a loopback device. )S
0 447.6 M(After you've chosen one of these options, prepare the DEVICE with: )S
9/F0 SF 2 421.2 M(        dd if=/dev/zero of=)S
(DEVICE)S
( bs=1k count=4096)S
0 417.2 M 487.0 15.0 B
11/F4 SF 0 393 M(This command zeroes out the device.)S
GS[17.2 0 0 17.2 102.1 359.4]CM[/Indexed/DeviceRGB 75<0000001010101818182929293939394242314242425252525A5A296363186363526363636B6B426B6B6B7373527B7B7B8484848C8C188C8C398C8C7B8C8C8C9494949C9C5A9C9C639C9C7BA5A563A5A584A5A594A5A59CA5A5A5ADAD21ADAD39ADAD6BADAD7BADAD8CADADA5ADADADB5B54AB5B552B5B5B5BDBD08BDBD5ABDBD84BDBD9CBDBDBDC6C65AC6C6C6CECE73CECECED6D618D6D652D6D663D6D66BD6D6D6DEDE00DEDE21DEDE31DEDE39DEDEDEE7E708E7E729E7E731E7E763E7E77BE7E7E7EFEF00EFEF10EFEF31EFEF42EFEFEFF7F7F7FFFF00FFFF08FFFF10FFFF21FFFFFF>]setcolorspace<</ImageType 1/Width 24/Height 24/BitsPerComponent 8/ImageMatrix[24 0 0 -24 0 24]/Decode[0 255]/Interpolate true/DataSource currentfile/ASCII85Decode filter>>image
91qoN91qoN91qN85X7S-91qoN91qoN91qoN91qoC/fbZI*?>k80Le].91qoN91qoN91CHH)E:&M6:+!h
(_eYs91qoN91qoN5SY/#7n6'>7n6'>7kti#7S?BI91qoI'e2O?7n6'>7n6'>7n5lh-VI**91q_h.S!!!
7n5iX%Q6gI7n6'>(FMjK91pr]6:XO97n40l!!kn]7n6'>65_gW90aI\7n6'>7n3pe!!G8O7n6'>7ku;^
9/%P[7n6'>7n4*j!!bk]7n6'>7n4C]9-$#_7n6'>7n4U#!!u4e7n6'>7n4aW5TN0]7n6'>7n4s.!"h^k
7n6'>7n5WU5TN0]7n6'>7n599!?Xg%7n6'>7n5WU5TN0]7n6'>7n5K@!@:6+7n6'>7n5WU5TN0]7n6'>
7n5ZG!]*>:7n6'>7n5WU5TN0]7n6'>7n5r]%6m?Q7n6'>7n5W]9.)\h7n6'>7n5]T%P^OF7n6'>7n4aW
9/RVX7n6'>7n4'i!!bYW7n6'>7mn:]91BmV7n6'>7n4$h!!P;O7n6'>81>oZ91q,[6:XO97n5HG$7JD7
7n6'>1`]"X91qnu+\,$m7n6'A6UsX:7n6'>'JN0Q91qoN*>_%47n6'>7n6'>7n>HJ0M>&391qoN9-"d"
6q9a;7n6'>6m`X$91qoN91qoN91q,_'-]M"4$,)4'-oh991qoN91qoN91qoN5V<cd'bq`C5YFaC91qoN
~>
GR
222.4 352.4 M(Zeroing the device is critical because the filesystem will be)S
222.4 339.2 M(compressed later, so all unused portions should be filled)S
222.4 326 M(with zeroes to achieve maximum compression.  Keep this)S
222.4 312.8 M(in mind whenever you move or delete files on the)S
222.4 299.6 M(filesystem.  The filesystem will correctly de-allocate the)S
222.4 286.4 M(blocks, )S
11/F6 SF (but it will not zero them out again)S
11/F4 SF (.  If you do a lot)S
222.4 273.2 M(of deletions and copying, your compressed filesystem may)S
222.4 260 M(end up much larger than necessary.)S
0 231.6 M(Next, create the filesystem.  The Linux kernel recognizes two file system types for root disks to be)S
0 218.4 M(automatically copied to ramdisk.  These are minix and ext2, of which ext2 is preferred.  If using ext2, you may)S
0 205.2 M(find it useful to use the )S
11/F0 SF (-N)S
11/F4 SF ( option to specify more inodes than the default; )S
11/F0 SF (-N 2000)S
11/F4 SF ( is suggested so that you)S
0 192 M(don't run out of inodes.  Alternatively, you can save on inodes by removing lots of unnecessary )S
11/F0 SF (/dev)S
11/F4 SF ( files.)S
11/F5 SF 0 178.8 M(mke2fs)S
11/F4 SF ( will by default create 360 inodes on a 1.44Mb diskette.  I find that 120 inodes is ample on my current)S
0 165.6 M(rescue root diskette, but if you include all the devices in )S
11/F0 SF (/dev)S
11/F4 SF ( you will easily exceed 360.  Using a)S
0 152.4 M(compressed root filesystem allows a larger filesystem, and hence more inodes by default, but you may still)S
0 139.2 M(need to either reduce the number of files or increase the number of inodes. )S
0 112.8 M(So the command you use will look like: )S
9/F0 SF 2 86.4 M(        mke2fs -m 0 -N 2000 )S
(DEVICE)S
0 82.4 M 487.0 15.0 B
11/F4 SF 0 58.2 M(\(If you're using a loopback device, the disk file you're using should be supplied in place of this DEVICE.\))S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(4. Building a root filesystem)S
480.9 0 M(8)S
GR
SP
%%Page: 9 12
GS
72 36 T
0.88 0.88 0.88 C 0 101.2 M 487.0 25.8 F
0 603.8 M 487.0 15.0 F
0.00 0.00 0.00 C 11/F4 SF 0 687 M(The )S
11/F5 SF (mke2fs)S
11/F4 SF ( command will automatically detect the space available and configure itself accordingly.  The)S
0 673.8 M(``)S
11/F0 SF (-m 0)S
11/F4 SF ('' parameter prevents it from reserving space for root, and hence provides more usable space on the)S
0 660.6 M(disk.)S
0 634.2 M(Next, mount the device: )S
9/F0 SF 2 607.8 M(        mount -t ext2 )S
(DEVICE)S
( /mnt)S
0 603.8 M 487.0 15.0 B
11/F4 SF 0 592.8 M(\(You must create a mount point )S
11/F0 SF (/mnt)S
11/F4 SF ( if it does not already exist.\)  In the remaining sections, all destination)S
0 579.6 M(directory names are assumed to be relative to )S
11/F0 SF (/mnt)S
11/F4 SF (.)S
0 568.8 M 487.0 2.0 F
17/F9 SF 0 532 M(4.3. Populating the filesystem)S
11/F4 SF 0 504.4 M(Here is a reasonable minimum set of directories for your root filesystem )S
([1]: )S
11/F0 SF 36 478 M(/dev)S
11/F4 SF ( -- Device files, required to perform I/O )S
11/Fc SF 28.2 478 M(\267 )S
11/F0 SF 36 464.8 M(/proc)S
11/F4 SF ( -- Directory stub required by the proc filesystem )S
11/Fc SF 28.2 464.8 M(\267 )S
11/F0 SF 36 451.6 M(/etc)S
11/F4 SF ( -- System configuration files )S
11/Fc SF 28.2 451.6 M(\267 )S
11/F0 SF 36 438.4 M(/sbin)S
11/F4 SF ( -- Critical system binaries )S
11/Fc SF 28.2 438.4 M(\267 )S
11/F0 SF 36 425.2 M(/bin)S
11/F4 SF ( -- Essential binaries considered part of the system )S
11/Fc SF 28.2 425.2 M(\267 )S
11/F0 SF 36 412 M(/lib)S
11/F4 SF ( -- Shared libraries to provide run-time support )S
11/Fc SF 28.2 412 M(\267 )S
11/F0 SF 36 398.8 M(/mnt)S
11/F4 SF ( -- A mount point for maintenance on other disks )S
11/Fc SF 28.2 398.8 M(\267 )S
11/F0 SF 36 385.6 M(/usr)S
11/F4 SF ( -- Additional utilities and applications )S
11/Fc SF 28.2 385.6 M(\267 )S
11/F4 SF 0 359.2 M(Three of these directories will be empty on the root filesystem, so they only need to be created with )S
11/F5 SF (mkdir)S
11/F4 SF (.)S
0 346 M(The )S
11/F0 SF (/proc)S
11/F4 SF ( directory is basically a stub under which the proc filesystem is placed.  The directories )S
11/F0 SF (/mnt)S
11/F4 SF ( and)S
11/F0 SF 0 332.8 M(/usr)S
11/F4 SF ( are only mount points for use after the boot/root system is running.  Hence again, these directories only)S
0 319.6 M(need to be created.)S
0 293.2 M(The remaining four directories are described in the following sections.)S
0 282.4 M 487.0 2.0 F
14/F9 SF 0 248.6 M(4.3.1. /dev)S
11/F4 SF 0 221.6 M(A )S
11/F0 SF (/dev)S
11/F4 SF ( directory containing a special file for all devices to be used by the system is mandatory for any)S
0 208.4 M(Linux system.  The directory itself is a normal directory, and can be created with )S
11/F0 SF (mkdir)S
11/F4 SF ( in the normal way.)S
0 195.2 M(The device special files, however, must be created in a special way, using the )S
11/F5 SF (mknod)S
11/F4 SF ( command.)S
0 168.8 M(There is a shortcut, though \24 copy devices files from your existing hard disk )S
11/F0 SF (/dev)S
11/F4 SF ( directory.  The only)S
0 155.6 M(requirement is that you copy the device special files using )S
11/F0 SF (-R)S
11/F4 SF ( option. This will copy the directory without)S
0 142.4 M(attempting to copy the contents of the files.  Be sure to use an )S
11/F6 SF (upper case )S
11/F2 SF (R)S
11/F4 SF (. For example: )S
9/F0 SF 2 116 M(        cp -dpR /dev/fd[01]* /mnt/dev)S
2 105.2 M(        cp -dpR /dev/tty[0-6] /mnt/dev)S
0 101.2 M 487.0 25.8 B
11/F4 SF 0 90.2 M(assuming that the diskette is mounted at )S
11/F0 SF (/mnt)S
11/F4 SF (.  The )S
11/F0 SF (dp)S
11/F4 SF ( switches ensure that symbolic links are copied as)S
0 77 M(links, rather than using the target file, and that the original file attributes are preserved, thus preserving)S
0 63.8 M(ownership information.)S
0 37.4 M(If you want to do it the hard way, use )S
11/F0 SF (ls -l)S
11/F4 SF ( to display the major and minor device numbers for the devices)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(4.3. Populating the filesystem)S
480.9 0 M(9)S
GR
SP
%%Page: 10 13
GS
72 36 T
0.88 0.88 0.88 C 0 304.8 M 487.0 15.0 F
0.00 0.00 0.00 C 11/F4 SF 0 687 M(you want, and create them on the diskette using )S
11/F0 SF (mknod)S
11/F4 SF (.)S
0 660.6 M(However the devices files are created, check that any special devices you need have been placed on the)S
0 647.4 M(rescue diskette.  For example, )S
11/F0 SF (ftape)S
11/F4 SF ( uses tape devices, so you will need to copy all of these if you intend to)S
0 634.2 M(access your floppy tape drive from the bootdisk.)S
0 607.8 M(Note that one inode is required for each device special file, and inodes can at times be a scarce resource,)S
0 594.6 M(especially on diskette filesystems.  You'll need to be selective about the device files you include.  For example,)S
0 581.4 M(if you do not have SCSI disks you can safely ignore )S
11/F0 SF (/dev/sd*)S
11/F4 SF (; if you don't intend to use serial ports you)S
0 568.2 M(can ignore )S
11/F0 SF (/dev/ttyS*)S
11/F4 SF (. )S
0 541.8 M(If, in building your root filesystem, you get the error )S
11/F0 SF (No space left on device)S
11/F4 SF ( but a )S
11/F0 SF (df)S
11/F4 SF ( command)S
0 528.6 M(shows space still available, you have probably run out of inodes.  A )S
11/F0 SF (df -i)S
11/F4 SF ( will display inode usage.)S
GS[17.2 0 0 17.2 104.2 495.0]CM[/Indexed/DeviceRGB 75<0000001010101818182929293939394242314242425252525A5A296363186363526363636B6B426B6B6B7373527B7B7B8484848C8C188C8C398C8C7B8C8C8C9494949C9C5A9C9C639C9C7BA5A563A5A584A5A594A5A59CA5A5A5ADAD21ADAD39ADAD6BADAD7BADAD8CADADA5ADADADB5B54AB5B552B5B5B5BDBD08BDBD5ABDBD84BDBD9CBDBDBDC6C65AC6C6C6CECE73CECECED6D618D6D652D6D663D6D66BD6D6D6DEDE00DEDE21DEDE31DEDE39DEDEDEE7E708E7E729E7E731E7E763E7E77BE7E7E7EFEF00EFEF10EFEF31EFEF42EFEFEFF7F7F7FFFF00FFFF08FFFF10FFFF21FFFFFF>]setcolorspace<</ImageType 1/Width 24/Height 24/BitsPerComponent 8/ImageMatrix[24 0 0 -24 0 24]/Decode[0 255]/Interpolate true/DataSource currentfile/ASCII85Decode filter>>image
91qoN91qoN91qN85X7S-91qoN91qoN91qoN91qoC/fbZI*?>k80Le].91qoN91qoN91CHH)E:&M6:+!h
(_eYs91qoN91qoN5SY/#7n6'>7n6'>7kti#7S?BI91qoI'e2O?7n6'>7n6'>7n5lh-VI**91q_h.S!!!
7n5iX%Q6gI7n6'>(FMjK91pr]6:XO97n40l!!kn]7n6'>65_gW90aI\7n6'>7n3pe!!G8O7n6'>7ku;^
9/%P[7n6'>7n4*j!!bk]7n6'>7n4C]9-$#_7n6'>7n4U#!!u4e7n6'>7n4aW5TN0]7n6'>7n4s.!"h^k
7n6'>7n5WU5TN0]7n6'>7n599!?Xg%7n6'>7n5WU5TN0]7n6'>7n5K@!@:6+7n6'>7n5WU5TN0]7n6'>
7n5ZG!]*>:7n6'>7n5WU5TN0]7n6'>7n5r]%6m?Q7n6'>7n5W]9.)\h7n6'>7n5]T%P^OF7n6'>7n4aW
9/RVX7n6'>7n4'i!!bYW7n6'>7mn:]91BmV7n6'>7n4$h!!P;O7n6'>81>oZ91q,[6:XO97n5HG$7JD7
7n6'>1`]"X91qnu+\,$m7n6'A6UsX:7n6'>'JN0Q91qoN*>_%47n6'>7n6'>7n>HJ0M>&391qoN9-"d"
6q9a;7n6'>6m`X$91qoN91qoN91q,_'-]M"4$,)4'-oh991qoN91qoN91qoN5V<cd'bq`C5YFaC91qoN
~>
GR
226.6 488 M(Be sure to include the following files from this directory:)S
11/F0 SF 226.6 474.8 M(console)S
11/F4 SF (, )S
11/F0 SF (kmem)S
11/F4 SF (, )S
11/F0 SF (mem)S
11/F4 SF (, )S
11/F0 SF (null)S
11/F4 SF (, )S
11/F0 SF (ram0)S
11/F4 SF ( and )S
11/F0 SF (tty1)S
11/F4 SF (.)S
0 462 M 487.0 2.0 F
14/F9 SF 0 428.2 M(4.3.2. /etc)S
11/F4 SF 0 401.2 M(The /etc directory contains configuration files.  What it should contain depends on what programs you intend)S
0 388 M(to run. On most systems, these can be divided into three groups: )S
36 361.6 M(Required at all times, )S
11/F6 SF (e.g.)S
11/F0 SF ( rc)S
11/F4 SF (, )S
11/F0 SF (fstab)S
11/F4 SF (, )S
11/F0 SF (passwd)S
11/F4 SF (. )S
25 361.6 M(1. )S
36 348.4 M(May be required, but no one is too sure. )S
25 348.4 M(2. )S
36 335.2 M(Junk that crept in. )S
25 335.2 M(3. )S
0 322 M(Files which are not essential can usually be identified with the command: )S
9/F0 SF 2 308.8 M(        ls -ltru)S
0 304.8 M 487.0 15.0 B
11/F4 SF 0 293.8 M(This lists files in reverse order of date last accessed, so if any files are not being accessed, they can be omitted)S
0 280.6 M(from a root diskette.)S
0 254.2 M(On my root diskettes, I have the number of config files down to 15.  This reduces my work to dealing with)S
0 241 M(three sets of files: )S
36 214.6 M(The ones I must configure for a boot/root system: )S
25 214.6 M(1. )S
11/F0 SF 72 188.2 M(rc.d/*)S
11/F4 SF ( -- system startup and run level change scripts )S
61.6 188.2 M(a. )S
11/F0 SF 72 175 M(fstab)S
11/F4 SF ( -- list of file systems to be mounted )S
61 175 M(b. )S
11/F0 SF 72 161.8 M(inittab)S
11/F4 SF ( -- parameters for the )S
11/F5 SF (init)S
11/F4 SF ( process, the first process started at boot time. )S
61.6 161.8 M(c. )S
11/F0 SF 72 148.6 M(gettydefs)S
11/F4 SF ( -- parameters for the )S
11/F5 SF (init)S
11/F4 SF ( process, the first process started at boot time. )S
61 148.6 M(d. )S
36 135.4 M(The ones I should tidy up for a boot/root system: )S
25 135.4 M(2. )S
11/F0 SF 72 109 M(passwd)S
11/F4 SF ( -- Critical list of users, home directories, etc. )S
61.6 109 M(a. )S
11/F0 SF 72 95.8 M(group)S
11/F4 SF ( -- user groups. )S
61 95.8 M(b. )S
11/F0 SF 72 82.6 M(shadow)S
11/F4 SF ( -- passwords of users.  You may not have this. )S
61.6 82.6 M(c. )S
11/F0 SF 72 69.4 M(termcap)S
11/F4 SF ( -- the terminal capability database. )S
61 69.4 M(d. )S
36 43 M(If security is important, )S
11/F0 SF (passwd)S
11/F4 SF ( and )S
11/F0 SF (shadow)S
11/F4 SF ( should be pruned to avoid copying user passwords off)S
36 29.8 M(the system, and so that unwanted logins are rejected when you boot from diskette.)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(4.3.2. /etc)S
474.8 0 M(10)S
GR
SP
%%Page: 11 14
GS
72 36 T
0.88 0.88 0.88 C 0 243.2 M 487.0 44.4 F
36 432.8 M 405.9 33.6 F
36 506 M 405.9 33.6 F
0.00 0.00 0.00 C 11/F4 SF 36 687 M(Be sure that )S
11/F0 SF (passwd)S
11/F4 SF ( contains at least )S
11/F0 SF (root)S
11/F4 SF (.  If you intend other users to login, be sure their home)S
36 673.8 M(directories and shells exist.)S
11/F0 SF 36 647.4 M(termcap)S
11/F4 SF (, the terminal database, is typically several hundred kilobytes.  The version on your)S
36 634.2 M(boot/root diskette should be pruned down to contain only the terminal\(s\) you use, which is usually)S
36 621 M(just the )S
11/F0 SF (linux)S
11/F4 SF ( or )S
11/F0 SF (linux-console)S
11/F4 SF ( entry.)S
36 594.6 M(The rest.  They work at the moment, so I leave them alone. )S
25 594.6 M(3. )S
0 568.2 M(Out of this, I only really have to configure two files, and what they should contain is surprisingly small. )S
11/F0 SF 36 541.8 M(rc)S
11/F4 SF ( should contain: )S
11/Fc SF 28.2 541.8 M(\267 )S
9/F0 SF 37 529.6 M(        #!/bin/sh       )S
37 518.8 M(        /bin/mount -av)S
37 508 M(        /bin/hostname Kangaroo)S
11/F4 SF 36 495 M(Be sure it is executable, be sure it has a "#!" line at the top, and be sure any absolute filenames are)S
36 481.8 M(correct.  You don't really need to run )S
11/F5 SF (hostname)S
11/F4 SF ( \24 it just looks nicer if you do. )S
11/F0 SF 36 468.6 M(fstab)S
11/F4 SF ( should contain at least: )S
11/Fc SF 28.2 468.6 M(\267 )S
9/F0 SF 37 456.4 M(        /dev/ram0       /               ext2    defaults)S
37 445.6 M(        /dev/fd0        /               ext2    defaults)S
37 434.8 M(        /proc           /proc           proc    defaults)S
11/F4 SF 0 421.8 M(You can copy entries from your existing )S
11/F0 SF (fstab)S
11/F4 SF (, but you should not automatically mount any of your hard)S
0 408.6 M(disk partitions; use the )S
11/F0 SF (noauto)S
11/F4 SF ( keyword with them.  Your hard disk may be damaged or dead when the)S
0 395.4 M(bootdisk is used. )S
0 369 M(Your )S
11/F0 SF (inittab)S
11/F4 SF ( should be changed so that its )S
11/F0 SF (sysinit)S
11/F4 SF ( line runs )S
11/F0 SF (rc)S
11/F4 SF ( or whatever basic boot script will be)S
0 355.8 M(used.  Also, if you want to ensure that users on serial ports cannot login, comment out all the entries for)S
11/F0 SF 0 342.6 M(getty)S
11/F4 SF ( which include a )S
11/F0 SF (ttys)S
11/F4 SF ( or )S
11/F0 SF (ttyS)S
11/F4 SF ( device at the end of the line.  Leave in the )S
11/F0 SF (tty)S
11/F4 SF ( ports so that you can)S
0 329.4 M(login at the console.)S
0 303 M(A minimal )S
11/F0 SF (inittab)S
11/F4 SF ( file looks like this: )S
9/F0 SF 1 277.6 M(        id:2:initdefault:)S
1 266.8 M(        si::sysinit:/etc/rc)S
1 256 M(        1:2345:respawn:/sbin/getty 9600 tty1)S
1 245.2 M(        2:23:respawn:/sbin/getty 9600 tty2)S
11/F4 SF 0 232.2 M(The )S
11/F0 SF (inittab)S
11/F4 SF ( file defines what the system will run in various states including startup, move to multi-user)S
0 219 M(mode, etc.  Check carefully the filenames mentioned in )S
11/F0 SF (inittab)S
11/F4 SF (; if )S
11/F0 SF (init)S
11/F4 SF ( cannot find the program)S
0 205.8 M(mentioned the bootdisk will hang, and you may not even get an error message.)S
0 179.4 M(Note that some programs cannot be moved elsewhere because other programs have hardcoded their locations.)S
0 166.2 M(For example, on my system, )S
11/F0 SF (/etc/shutdown)S
11/F4 SF ( has hardcoded in it )S
11/F0 SF (/etc/reboot)S
11/F4 SF (.  If I move )S
11/F0 SF (reboot)S
11/F4 SF ( to)S
11/F0 SF 0 153 M(/bin/reboot)S
11/F4 SF (, and then issue a )S
11/F0 SF (shutdown)S
11/F4 SF ( command, it will fail because it cannot find the )S
11/F0 SF (reboot)S
11/F4 SF ( file.)S
0 126.6 M(For the rest, just copy all the text files in your )S
11/F0 SF (/etc)S
11/F4 SF ( directory, plus all the executables in your)S
11/F0 SF 0 113.4 M(/etc)S
11/F4 SF ( directory that you cannot be sure you do not need. As a guide, consult the sample listing in Appendix)S
0 100.2 M(C.  Probably it will suffice to copy only those files, but systems differ a great deal, so you cannot be sure that)S
0 87 M(the same set of files on your system is equivalent to the files in the list.  The only sure method is to start with)S
11/F0 SF 0 73.8 M(inittab)S
11/F4 SF ( and work out what is required.)S
0 47.4 M(Most systems now use an )S
11/F0 SF (/etc/rc.d/)S
11/F4 SF ( directory containing shell scripts for different run levels.  The)S
0 34.2 M(minimum is a single )S
11/F0 SF (rc)S
11/F4 SF ( script, but it may be simpler just to copy )S
11/F0 SF (inittab)S
11/F4 SF ( and the )S
11/F0 SF (/etc/rc.d)S
11/F4 SF ( directory)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(4.3.2. /etc)S
474.8 0 M(11)S
GR
SP
%%Page: 12 15
GS
72 36 T
0.88 0.88 0.88 C 0 76.6 M 487.0 69.0 F
0 198.4 M 487.0 36.6 F
0.00 0.00 0.00 C 11/F4 SF 0 687 M(from your existing system, and prune the shell scripts in the )S
11/F0 SF (rc.d)S
11/F4 SF ( directory to remove processing not)S
0 673.8 M(relevent to a diskette system environment.)S
0 663 M 487.0 2.0 F
14/F9 SF 0 629.2 M(4.3.3. /bin and /sbin)S
11/F4 SF 0 602.2 M(The )S
11/F0 SF (/bin)S
11/F4 SF ( directory is a convenient place for extra utilities you need to perform basic operations, utilities)S
0 589 M(such as )S
11/F5 SF (ls)S
11/F4 SF (, )S
11/F5 SF (mv)S
11/F4 SF (, )S
11/F5 SF (cat)S
11/F4 SF ( and )S
11/F5 SF (dd)S
11/F4 SF (.  See Appendix C for an example list of files that go in a )S
11/F5 SF (/bin)S
11/F4 SF ( and)S
11/F0 SF 0 575.8 M(/sbin)S
11/F4 SF ( directories.  It does not include any of the utilities required to restore from backup, such as )S
11/F5 SF (cpio)S
11/F4 SF (,)S
11/F5 SF 0 562.6 M(tar)S
11/F4 SF ( and )S
11/F5 SF (gzip)S
11/F4 SF (.  That is because I place these on a separate utility diskette, to save space on the boot/root)S
0 549.4 M(diskette.  Once the boot/root diskette is booted, it is copied to the ramdisk leaving the diskette drive free to)S
0 536.2 M(mount another diskette, the utility diskette.  I usually mount this as )S
11/F0 SF (/usr)S
11/F4 SF (.)S
0 509.8 M(Creation of a utility diskette is described below in Section 9.2.  It is probably desirable to maintain a copy of)S
0 496.6 M(the same version of backup utilities used to write the backups so you don't waste time trying to install)S
0 483.4 M(versions that cannot read your backup tapes.)S
GS[17.2 0 0 17.2 104.6 449.8]CM[/Indexed/DeviceRGB 75<0000001010101818182929293939394242314242425252525A5A296363186363526363636B6B426B6B6B7373527B7B7B8484848C8C188C8C398C8C7B8C8C8C9494949C9C5A9C9C639C9C7BA5A563A5A584A5A594A5A59CA5A5A5ADAD21ADAD39ADAD6BADAD7BADAD8CADADA5ADADADB5B54AB5B552B5B5B5BDBD08BDBD5ABDBD84BDBD9CBDBDBDC6C65AC6C6C6CECE73CECECED6D618D6D652D6D663D6D66BD6D6D6DEDE00DEDE21DEDE31DEDE39DEDEDEE7E708E7E729E7E731E7E763E7E77BE7E7E7EFEF00EFEF10EFEF31EFEF42EFEFEFF7F7F7FFFF00FFFF08FFFF10FFFF21FFFFFF>]setcolorspace<</ImageType 1/Width 24/Height 24/BitsPerComponent 8/ImageMatrix[24 0 0 -24 0 24]/Decode[0 255]/Interpolate true/DataSource currentfile/ASCII85Decode filter>>image
91qoN91qoN91qN85X7S-91qoN91qoN91qoN91qoC/fbZI*?>k80Le].91qoN91qoN91CHH)E:&M6:+!h
(_eYs91qoN91qoN5SY/#7n6'>7n6'>7kti#7S?BI91qoI'e2O?7n6'>7n6'>7n5lh-VI**91q_h.S!!!
7n5iX%Q6gI7n6'>(FMjK91pr]6:XO97n40l!!kn]7n6'>65_gW90aI\7n6'>7n3pe!!G8O7n6'>7ku;^
9/%P[7n6'>7n4*j!!bk]7n6'>7n4C]9-$#_7n6'>7n4U#!!u4e7n6'>7n4aW5TN0]7n6'>7n4s.!"h^k
7n6'>7n5WU5TN0]7n6'>7n599!?Xg%7n6'>7n5WU5TN0]7n6'>7n5K@!@:6+7n6'>7n5WU5TN0]7n6'>
7n5ZG!]*>:7n6'>7n5WU5TN0]7n6'>7n5r]%6m?Q7n6'>7n5W]9.)\h7n6'>7n5]T%P^OF7n6'>7n4aW
9/RVX7n6'>7n4'i!!bYW7n6'>7mn:]91BmV7n6'>7n4$h!!P;O7n6'>81>oZ91q,[6:XO97n5HG$7JD7
7n6'>1`]"X91qnu+\,$m7n6'A6UsX:7n6'>'JN0Q91qoN*>_%47n6'>7n6'>7n>HJ0M>&391qoN9-"d"
6q9a;7n6'>6m`X$91qoN91qoN91q,_'-]M"4$,)4'-oh991qoN91qoN91qoN5V<cd'bq`C5YFaC91qoN
~>
GR
227.3 442.8 M(Be sure to include the following programs: )S
11/F0 SF (init)S
11/F4 SF (,)S
11/F0 SF 227.3 429.6 M(getty)S
11/F4 SF ( or equivalent, )S
11/F0 SF (login)S
11/F4 SF (, )S
11/F0 SF (mount)S
11/F4 SF (, some shell)S
227.3 416.4 M(capable of running your rc scripts, a link from )S
11/F0 SF (sh)S
11/F4 SF ( to the)S
227.3 403.2 M(shell.)S
0 390.4 M 487.0 2.0 F
14/F9 SF 0 356.6 M(4.3.4. /lib)S
11/F4 SF 0 329.6 M(In )S
11/F0 SF (/lib)S
11/F4 SF ( you place necessary shared libraries and loaders.  If the necessary libraries are not found in your)S
11/F0 SF 0 316.4 M(/lib)S
11/F4 SF ( directory then the system will be unable to boot. If you're lucky you may see an error message telling)S
0 303.2 M(you why.)S
0 276.8 M(Nearly every program requires at least the )S
11/F0 SF (libc)S
11/F4 SF ( library, )S
11/F0 SF (libc.so.)S
11/F6 SF (N)S
11/F4 SF (, where )S
11/F6 SF (N)S
11/F4 SF ( is the current version)S
0 263.6 M(number.  Check your )S
11/F0 SF (/lib)S
11/F4 SF ( directory.  The file )S
11/F0 SF (libc.so.N)S
11/F4 SF ( is usually a symlink to a filename with a)S
0 250.4 M(complete version number:)S
9/F0 SF 2 224 M(% ls -l /lib/libc*)S
2 213.2 M(-rwxr-xr-x   1 root     root      4016683 Apr 16 18:48 libc-2.1.1.so*)S
2 202.4 M(lrwxrwxrwx   1 root     root           13 Apr 10 12:25 libc.so.6 -> libc-2.1.1.so*)S
0 198.4 M 487.0 36.6 B
11/F4 SF 0 174.2 M(In this case, you want )S
11/F0 SF (libc-2.1.1.so)S
11/F4 SF (.  To find other libraries you should go through all the binaries you)S
0 161 M(plan to include and check their dependencies with )S
11/F5 SF (ldd)S
11/F4 SF (.  For example: )S
9/F0 SF 2 134.6 M(        % ldd /sbin/mke2fs)S
2 123.8 M(        libext2fs.so.2 => /lib/libext2fs.so.2 \(0x40014000\))S
2 113 M(        libcom_err.so.2 => /lib/libcom_err.so.2 \(0x40026000\))S
2 102.2 M(        libuuid.so.1 => /lib/libuuid.so.1 \(0x40028000\))S
2 91.4 M(        libc.so.6 => /lib/libc.so.6 \(0x4002c000\))S
2 80.6 M(        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 \(0x40000000\))S
0 76.6 M 487.0 69.0 B
11/F4 SF 0 65.6 M(Each file on the right-hand side is required.  The file may be a symbolic link.)S
0 39.2 M(Note that some libraries are )S
11/F6 SF (quite large)S
11/F4 SF ( and will not fit easily on your root filesystem.  For example, the)S
11/F0 SF 0 26 M(libc.so)S
11/F4 SF ( listed above is about 4 meg.  You will probably need to strip libraries when copying them to your)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(4.3.3. /bin and /sbin)S
474.8 0 M(12)S
GR
SP
%%Page: 13 16
GS
72 36 T
0.88 0.88 0.88 C 0 169 M 487.0 44.4 F
0 558.2 M 487.0 47.4 F
0.00 0.00 0.00 C 11/F4 SF 0 687 M(root filesystem. See Section 8 for instructions.)S
0 660.6 M(In )S
11/F0 SF (/lib)S
11/F4 SF ( you must also include a loader for the libraries. The loader will be either )S
11/F0 SF (ld.so)S
11/F4 SF ( \(for A.OUT)S
0 647.4 M(libraries, which are no longer common\) or )S
11/F0 SF (ld-linux.so)S
11/F4 SF ( \(for ELF libraries\).  Newer versions of )S
11/F5 SF (ldd)S
11/F4 SF ( tell)S
0 634.2 M(you exactly which loader is needed, as in the example above, but older versions may not. If you're unsure)S
0 621 M(which you need, run the )S
11/F5 SF (file)S
11/F4 SF ( command on the library.  For example: )S
9/F0 SF 2 594.6 M(% file /lib/libc.so.4.7.2 /lib/libc.so.5.4.33 /lib/libc-2.1.1.so)S
2 583.8 M(/lib/libc.so.4.7.2: Linux/i386 demand-paged executable \(QMAGIC\), stripped)S
2 573 M(/lib/libc.so.5.4.33: ELF 32-bit LSB shared object, Intel 80386, version 1, stripped)S
2 562.2 M(/lib/libc-2.1.1.so: ELF 32-bit LSB shared object, Intel 80386, version 1, not stripped)S
0 558.2 M 487.0 47.4 B
11/F4 SF 0 547.2 M(The )S
11/F0 SF (QMAGIC)S
11/F4 SF ( indicates that )S
11/F0 SF (4.7.2)S
11/F4 SF ( is for A.OUT libraries, and )S
11/F0 SF (ELF)S
11/F4 SF ( indicates that )S
11/F0 SF (5.4.33)S
11/F4 SF ( and )S
11/F0 SF (2.1.1)S
11/F4 SF ( are)S
0 534 M(for ELF. )S
0 507.6 M(Copy the specific loader\(s\) you need to the root filesystem you're building. Libraries and loaders should be)S
0 494.4 M(checked )S
11/F6 SF (carefully)S
11/F4 SF ( against the included binaries.  If the kernel cannot load a necessary library, the kernel may)S
0 481.2 M(hang with no error message.)S
0 470.4 M 487.0 2.0 F
17/F9 SF 0 433.6 M(4.4. Providing for PAM and NSS)S
11/F4 SF 0 406 M(Your system may require dynamically loaded libraries that are not visible to )S
11/F0 SF (ldd)S
11/F4 SF (.  If you don't provide for)S
0 392.8 M(these, you may have trouble logging in or using your bootdisk.)S
0 382 M 487.0 2.0 F
14/F9 SF 0 348.2 M(4.4.1. PAM \(Pluggable Authentication Modules\))S
11/F4 SF 0 321.2 M(If your system uses PAM \(Pluggable Authentication Modules\), you must make some provision for it on your)S
0 308 M(bootdisk.  Briefly, PAM is a sophisticated modular method for authenticating users and controlling their)S
0 294.8 M(access to services.  An easy way to determine if your system uses PAM is run )S
11/F0 SF (ldd)S
11/F4 SF ( on your)S
11/F0 SF 0 281.6 M(login)S
11/F4 SF ( executable; if the output includes )S
11/F0 SF (libpam.so)S
11/F4 SF (, you need PAM.)S
0 255.2 M(Fortunately, security is usually of no concern with bootdisks since anyone who has physical access to a)S
0 242 M(machine can usually do anything they want anyway.  Therefore, you can effectively disable PAM by creating)S
0 228.8 M(a simple )S
11/F0 SF (/etc/pam.conf)S
11/F4 SF ( file in your root filesystem that looks like this: )S
9/F0 SF 1 203.4 M(OTHER   auth       optional     /lib/security/pam_permit.so)S
1 192.6 M(OTHER   account    optional     /lib/security/pam_permit.so)S
1 181.8 M(OTHER   password   optional     /lib/security/pam_permit.so)S
1 171 M(OTHER   session    optional     /lib/security/pam_permit.so)S
11/F4 SF 0 158 M(Also copy the file )S
11/F0 SF (/lib/security/pam_permit.so)S
11/F4 SF ( to your root filesystem.  This library is only about)S
0 144.8 M(8K so it imposes minimal overhead.)S
0 118.4 M(This configuration allows anyone complete access to the files and services on your machine.  If you care)S
0 105.2 M(about security on your bootdisk for some reason, you'll have to copy some or all of your hard disk's PAM)S
0 92 M(setup to your root filesystem.  Be sure to read the PAM documentation carefully, and copy any libraries)S
0 78.8 M(needed in )S
11/F0 SF (/lib/security)S
11/F4 SF ( onto your root filesystem.)S
0 52.4 M(You must also include )S
11/F0 SF (/lib/libpam.so)S
11/F4 SF ( on your bootdisk. But you already know this since you ran ldd)S
0 39.2 M(on )S
11/F0 SF (/bin/login)S
11/F4 SF (, which showed this dependency.)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(4.4. Providing for PAM and NSS)S
474.8 0 M(13)S
GR
SP
%%Page: 14 17
GS
72 36 T
0.88 0.88 0.88 C 0 410.4 M 487.0 163.2 F
0.00 0.00 0.00 C 0 689.4 M 487.0 2.0 F
14/F9 SF 0 655.6 M(4.4.2. NSS \(Name Service Switch\))S
11/F4 SF 0 628.6 M(If you are using glibc \(aka libc6\), you will have to make provisions for name services or you will not be able)S
0 615.4 M(to login.  The file )S
11/F0 SF (/etc/nsswitch.conf)S
11/F4 SF ( controls database lookups for various servies.  If you don't plan)S
0 602.2 M(to access services from the network \(eg, DNS or NIS lookups\), you need only prepare a simple)S
11/F0 SF 0 589 M(nsswitch.conf)S
11/F4 SF ( file that looks like this: )S
9/F0 SF 1 563.6 M(     passwd:     files )S
1 552.8 M(     shadow:     files )S
1 542 M(     group:      files )S
1 531.2 M(     hosts:      files)S
1 520.4 M(     services:   files)S
1 509.6 M(     networks:   files)S
1 498.8 M(     protocols:  files)S
1 488 M(     rpc:        files)S
1 477.2 M(     ethers:     files)S
1 466.4 M(     netmasks:   files     )S
1 455.6 M(     bootparams: files)S
1 444.8 M(     automount:  files )S
1 434 M(     aliases:    files)S
1 423.2 M(     netgroup:   files)S
1 412.4 M(     publickey:  files)S
11/F4 SF 0 399.4 M(This specifies that every service be provided only by local files. You will also need to include)S
11/F0 SF 0 386.2 M(/lib/libnss_files.so.)S
11/F6 SF (X)S
11/F4 SF (, where )S
11/F6 SF (X)S
11/F4 SF ( is 1 for glibc 2.0 and 2 for glibc 2.1. This library will be loaded)S
0 373 M(dynamically to handle the file lookups.)S
0 346.6 M(If you plan to access the network from your bootdisk, you may want to create a more elaborate)S
11/F0 SF 0 333.4 M(nsswitch.conf)S
11/F4 SF ( file.  See the )S
11/F0 SF (nsswitch)S
11/F4 SF ( man page for details.  You must include a file)S
11/F0 SF 0 320.2 M(/lib/libnss_)S
11/F6 SF (service)S
11/F0 SF (.so.1)S
11/F4 SF ( for each )S
11/F6 SF (service)S
11/F4 SF ( you specify.)S
0 309.4 M 487.0 2.0 F
17/F9 SF 0 272.6 M(4.5. Modules)S
11/F4 SF 0 245 M(If you have a modular kernel, you must consider which modules you may want to load from your bootdisk)S
0 231.8 M(after booting.  You might want to include )S
11/F5 SF (ftape)S
11/F4 SF ( and )S
11/F5 SF (zftape)S
11/F4 SF ( modules if your backup tapes are on floppy tape,)S
0 218.6 M(modules for SCSI devices if you have them, and possibly modules for PPP or SLIP support if you want to)S
0 205.4 M(access the net in an emergency.)S
0 179 M(These modules may be placed in )S
11/F0 SF (/lib/modules)S
11/F4 SF (.  You should also include )S
11/F5 SF (insmod)S
11/F4 SF (, )S
11/F5 SF (rmmod)S
11/F4 SF ( and )S
11/F5 SF (lsmod)S
11/F4 SF (.)S
0 165.8 M(Depending on whether you want to load modules automatically, you might also include )S
11/F5 SF (modprobe)S
11/F4 SF (,)S
11/F5 SF 0 152.6 M(depmod)S
11/F4 SF ( and )S
11/F5 SF (swapout)S
11/F4 SF (.  If you use )S
11/F5 SF (kerneld)S
11/F4 SF (, include it along with )S
11/F0 SF (/etc/conf.modules)S
11/F4 SF (.)S
0 126.2 M(However, the main advantage to using modules is that you can move non-critical modules to a utility disk)S
0 113 M(and load them when needed, thus using less space on your root disk.  If you may have to deal with many)S
0 99.8 M(different devices, this approach is preferable to building one huge kernel with many drivers built in.)S
GS[17.2 0 0 17.2 103.7 66.2]CM[/Indexed/DeviceRGB 75<0000001010101818182929293939394242314242425252525A5A296363186363526363636B6B426B6B6B7373527B7B7B8484848C8C188C8C398C8C7B8C8C8C9494949C9C5A9C9C639C9C7BA5A563A5A584A5A594A5A59CA5A5A5ADAD21ADAD39ADAD6BADAD7BADAD8CADADA5ADADADB5B54AB5B552B5B5B5BDBD08BDBD5ABDBD84BDBD9CBDBDBDC6C65AC6C6C6CECE73CECECED6D618D6D652D6D663D6D66BD6D6D6DEDE00DEDE21DEDE31DEDE39DEDEDEE7E708E7E729E7E731E7E763E7E77BE7E7E7EFEF00EFEF10EFEF31EFEF42EFEFEFF7F7F7FFFF00FFFF08FFFF10FFFF21FFFFFF>]setcolorspace<</ImageType 1/Width 24/Height 24/BitsPerComponent 8/ImageMatrix[24 0 0 -24 0 24]/Decode[0 255]/Interpolate true/DataSource currentfile/ASCII85Decode filter>>image
91qoN91qoN91qN85X7S-91qoN91qoN91qoN91qoC/fbZI*?>k80Le].91qoN91qoN91CHH)E:&M6:+!h
(_eYs91qoN91qoN5SY/#7n6'>7n6'>7kti#7S?BI91qoI'e2O?7n6'>7n6'>7n5lh-VI**91q_h.S!!!
7n5iX%Q6gI7n6'>(FMjK91pr]6:XO97n40l!!kn]7n6'>65_gW90aI\7n6'>7n3pe!!G8O7n6'>7ku;^
9/%P[7n6'>7n4*j!!bk]7n6'>7n4C]9-$#_7n6'>7n4U#!!u4e7n6'>7n4aW5TN0]7n6'>7n4s.!"h^k
7n6'>7n5WU5TN0]7n6'>7n599!?Xg%7n6'>7n5WU5TN0]7n6'>7n5K@!@:6+7n6'>7n5WU5TN0]7n6'>
7n5ZG!]*>:7n6'>7n5WU5TN0]7n6'>7n5r]%6m?Q7n6'>7n5W]9.)\h7n6'>7n5]T%P^OF7n6'>7n4aW
9/RVX7n6'>7n4'i!!bYW7n6'>7mn:]91BmV7n6'>7n4$h!!P;O7n6'>81>oZ91q,[6:XO97n5HG$7JD7
7n6'>1`]"X91qnu+\,$m7n6'A6UsX:7n6'>'JN0Q91qoN*>_%47n6'>7n6'>7n>HJ0M>&391qoN9-"d"
6q9a;7n6'>6m`X$91qoN91qoN91q,_'-]M"4$,)4'-oh991qoN91qoN91qoN5V<cd'bq`C5YFaC91qoN
~>
GR
225.6 59.2 M(In order to boot a compressed ext2 filesystem, you must)S
225.6 46 M(have ramdisk and ext2 support built-in. )S
11/F6 SF ( They cannot be)S
225.6 32.8 M(supplied as modules.)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(4.4.2. NSS \(Name Service Switch\))S
474.8 0 M(14)S
GR
SP
%%Page: 15 18
GS
72 36 T
0.88 0.88 0.88 C 0 388.6 M 487.0 25.8 F
0 502.8 M 487.0 15.0 F
0 570.6 M 487.0 25.8 F
0.00 0.00 0.00 C 0 689.4 M 487.0 2.0 F
17/F9 SF 0 652.6 M(4.6. Some final details)S
11/F4 SF 0 625 M(Some system programs, such as )S
11/F5 SF (login)S
11/F4 SF (, complain if the file )S
11/F0 SF (/var/run/utmp)S
11/F4 SF ( and the directory)S
11/F0 SF 0 611.8 M(/var/log)S
11/F4 SF ( do not exist.  So:)S
9/F0 SF 2 585.4 M(        mkdir -p /mnt/var/{log,run})S
2 574.6 M(        touch /mnt/var/run/utmp)S
0 570.6 M 487.0 25.8 B
11/F4 SF 0 546.4 M(Finally, after you have set up all the libraries you need, run )S
11/F5 SF (ldconfig)S
11/F4 SF ( to remake )S
11/F0 SF (/etc/ld.so.cache)S
11/F4 SF ( on)S
0 533.2 M(the root filesystem.  The cache tells the loader where to find the libraries. You can do this with: )S
9/F0 SF 2 506.8 M(        ldconfig -r /mnt)S
0 502.8 M 487.0 15.0 B
0 494.2 M 487.0 2.0 F
17/F9 SF 0 457.4 M(4.7. Wrapping it up)S
11/F4 SF 0 429.8 M(When you have finished constructing the root filesystem, unmount it, copy it to a file and compress it: )S
9/F0 SF 2 403.4 M(        umount /mnt)S
2 392.6 M(        dd if=)S
(DEVICE)S
( bs=1k | gzip -v9 > rootfs.gz)S
0 388.6 M 487.0 25.8 B
11/F4 SF 0 377.6 M(When this finishes you will have a file )S
11/F0 SF (rootfs.gz)S
11/F4 SF (.  This is your compressed root filesystem.  You should)S
0 364.4 M(check its size to make sure it will fit on a diskette; if it doesn't you'll have to go back and remove some files.)S
0 351.2 M(Some suggestions for reducing root filesystem size appear in Section 8.)S
0 340.4 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(4.6. Some final details)S
474.8 0 M(15)S
GR
SP
%%Page: 16 19
GS
72 36 T
20/F9 SF 0 678 M(5. Choosing a kernel)S
11/F4 SF 0 649.8 M(At this point you have a complete compressed root filesystem.  The next step is to build or select a kernel.  In)S
0 636.6 M(most cases it would be possible to copy your current kernel and boot the diskette from that.  However, there)S
0 623.4 M(may be cases where you wish to build a separate one.)S
0 597 M(One reason is size.  If you are building a single boot/root diskette, the kernel will be one of the largest files on)S
0 583.8 M(the diskette so you will have to reduce the size of the kernel as much as possible.  To reduce kernel size, build)S
0 570.6 M(it with the minumum set of facilities necessary to support the desired system.  This means leaving out)S
0 557.4 M(everything you don't need.  Networking is a good thing to leave out, as well as support for any disk drives and)S
0 544.2 M(other devices which you don't need when running your boot/root system.  As stated before, your kernel)S
11/F6 SF 0 531 M(must)S
11/F4 SF ( have ramdisk and ext2 support built into it.)S
0 504.6 M(Having worked out a minimum set of facilities to include in a kernel, you then need to work out what to add)S
0 491.4 M(back in.  Probably the most common uses for a boot/root diskette system would be to examine and restore a)S
0 478.2 M(corrupted root file system, and to do this you may need kernel support.  For example, if your backups are all)S
0 465 M(held on tape using Ftape to access your tape drive, then, if you lose your current root drive and drives)S
0 451.8 M(containing Ftape, then you will not be able to restore from your backup tapes.  You will have to reinstall)S
0 438.6 M(Linux, download and reinstall )S
11/F5 SF (ftape)S
11/F4 SF (, and then try to read your backups.)S
0 412.2 M(The point here is that, whatever I/O support you have added to your kernel to support backups should also be)S
0 399 M(added into your boot/root kernel.)S
0 372.6 M(The procedure for actually building the kernel is described in the documentation that comes with the kernel.)S
0 359.4 M(It is quite easy to follow, so start by looking in )S
11/F0 SF (/usr/src/linux)S
11/F4 SF (.  If you have trouble building a kernel,)S
0 346.2 M(you should probably not attempt to build boot/root systems anyway.  Remember to compress the kernel with)S
0 333 M(``)S
11/F5 SF (make zImage)S
11/F4 SF (''.)S
0 322.2 M 487.0 2.0 F
11/F8 SF 0 0 M(5. Choosing a kernel)S
474.8 0 M(16)S
GR
SP
%%Page: 17 20
GS
72 36 T
0.88 0.88 0.88 C 0 262.8 M 487.0 98.4 F
0.00 0.00 0.00 C 20/F9 SF 0 678 M(6. Putting them together: Making the diskette\(s\))S
11/F4 SF 0 649.8 M(At this point you have a kernel and a compressed root filesystem.  If you are making a boot/root disk, check)S
0 636.6 M(their sizes to make sure they will both fit on one disk.  If you are making a two disk boot+root set, check the)S
0 623.4 M(root filesystem to make sure it will fit on a single diskette.)S
0 597 M(You should decide whether to use LILO to boot the bootdisk kernel. The alternative is to copy the kernel)S
0 583.8 M(directly to the diskette and boot without LILO.  The advantage of using LILO is that it enables you to supply)S
0 570.6 M(some parameters to the kernel which may be necessary to initialize your hardware \(Check the file)S
11/F0 SF 0 557.4 M(/etc/lilo.conf)S
11/F4 SF ( on your system.  If it exists and has a line like ``)S
11/F0 SF (append=...)S
11/F4 SF ('', you probably need this)S
0 544.2 M(feature\).  The disadvantage of using LILO is that building the bootdisk is more complicated and takes slightly)S
0 531 M(more space.  You will have to set up a small separate filesystem, which we shall call the )S
11/F6 SF (kernel filesystem)S
11/F4 SF (,)S
0 517.8 M(where you transfer the kernel and a few other files that LILO needs.)S
0 491.4 M(If you are going to use LILO, read on; if you are going to transfer the kernel directly, skip ahead to Section)S
0 478.2 M(6.2.)S
0 467.4 M 487.0 2.0 F
17/F9 SF 0 430.6 M(6.1. Transferring the kernel with LILO)S
11/F4 SF 0 403 M(First, make sure you have a recent version of LILO.)S
0 376.6 M(You must create a small configuration file for LILO. It should look like this: )S
9/F0 SF 1 351.2 M(        boot      =/dev/fd0)S
1 340.4 M(        install   =/boot/boot.b)S
1 329.6 M(        map       =/boot/map)S
1 318.8 M(        read-write)S
1 308 M(        backup    =/dev/null)S
1 297.2 M(        compact)S
1 286.4 M(        image     = KERNEL)S
1 275.6 M(        label     = Bootdisk)S
1 264.8 M(        root      =/dev/fd0)S
11/F4 SF 0 251.8 M(For an explanation of these parameters, see LILO's user documentation.  You will probably also want to add)S
0 238.6 M(an )S
11/F0 SF (append=...)S
11/F4 SF ( line to this file from your hard disk's )S
11/F0 SF (/etc/lilo.conf)S
11/F4 SF ( file.)S
0 212.2 M(Save this file as )S
11/F0 SF (bdlilo.conf)S
11/F4 SF (.)S
0 185.8 M(You now have to create a small filesystem, which we shall call a )S
11/F6 SF (kernel filesystem)S
11/F4 SF (, to distinguish it from the)S
0 172.6 M(root filesystem.)S
0 146.2 M(First, figure out how large the filesystem should be.  Take the size of your kernel in blocks \(the size shown by)S
0 133 M(``)S
11/F5 SF (ls -s KERNEL)S
11/F4 SF (''\) and add 50.  Fifty blocks is approximately the space needed for inodes plus other files.)S
0 119.8 M(You can calculate this number exactly if you want to, or just use 50. If you're creating a two-disk set, you)S
0 106.6 M(may as well overestimate the space since the first disk is only used for the kernel anyway.  Call this number)S
11/F0 SF 0 93.4 M(KERNEL_BLOCKS)S
11/F4 SF (.)S
0 67 M(Put a floppy diskette in the drive \(for simplicity we'll assume )S
11/F0 SF (/dev/fd0)S
11/F4 SF (\) and create an ext2 kernel)S
0 53.8 M(filesystem on it: )S
11/F8 SF 0 0 M(6. Putting them together: Making the diskette\(s\))S
474.8 0 M(17)S
GR
SP
%%Page: 18 21
GS
72 36 T
0.88 0.88 0.88 C 0 92.4 M 487.0 36.6 F
0 270.2 M 487.0 144.6 F
0 428 M 487.0 15.0 F
0 469.4 M 487.0 15.0 F
0 510.8 M 487.0 15.0 F
0 552.2 M 487.0 15.0 F
0 620 M 487.0 36.6 F
0 683 M 487.0 15.0 F
0.00 0.00 0.00 C 9/F0 SF 2 687 M(        mke2fs -N 24 -m 0 /dev/fd0 KERNEL_BLOCKS)S
0 683 M 487.0 15.0 B
11/F4 SF 0 672 M(The ``)S
11/F0 SF (-N 24)S
11/F4 SF ('' specifies 24 inodes, which is all you should need for this filesystem.  Next, mount the)S
0 658.8 M(filesystem, remove the )S
11/F0 SF (lost+found)S
11/F4 SF ( directory, and create )S
11/F0 SF (dev)S
11/F4 SF ( and )S
11/F0 SF (boot)S
11/F4 SF ( directories for LILO: )S
9/F0 SF 2 645.6 M(        mount -o dev /dev/fd0 /mnt)S
2 634.8 M(        rm -rf /mnt/lost+found)S
2 624 M(        mkdir /mnt/{boot,dev})S
0 620 M 487.0 36.6 B
11/F4 SF 0 595.8 M(Next, create devices )S
11/F0 SF (/dev/null)S
11/F4 SF ( and )S
11/F0 SF (/dev/fd0)S
11/F4 SF (.  Instead of looking up the device numbers, you can just)S
0 582.6 M(copy them from your hard disk using )S
11/F0 SF (-R)S
11/F4 SF (: )S
9/F0 SF 2 556.2 M(        cp -R /dev/{null,fd0} /mnt/dev)S
0 552.2 M 487.0 15.0 B
11/F4 SF 0 541.2 M(LILO needs a copy of its boot loader, )S
11/F0 SF (boot.b)S
11/F4 SF (, which you can take from your hard disk.  It is usually kept in)S
0 528 M(the )S
11/F0 SF (/boot)S
11/F4 SF ( directory. )S
9/F0 SF 2 514.8 M(        cp /boot/boot.b /mnt/boot)S
0 510.8 M 487.0 15.0 B
11/F4 SF 0 499.8 M(Finally, copy in the LILO configuration file you created in the last section, along with your kernel.  Both can)S
0 486.6 M(be put in the root directory: )S
9/F0 SF 2 473.4 M(        cp bdlilo.conf KERNEL /mnt)S
0 469.4 M 487.0 15.0 B
11/F4 SF 0 458.4 M(Everything LILO needs is now on the kernel filesystem, so you are ready to run it.  LILO's )S
11/F0 SF (-r)S
11/F4 SF ( flag is used for)S
0 445.2 M(installing the boot loader on some other root: )S
9/F0 SF 2 432 M(        lilo -v -C bdlilo.conf -r /mnt)S
0 428 M 487.0 15.0 B
11/F4 SF 0 417 M(LILO should run without error, after which the kernel filesystem should look something like this: )S
9/F0 SF 2 403.8 M(total 361)S
2 393 M(  1 -rw-r--r--   1 root     root          176 Jan 10 07:22 bdlilo.conf)S
2 382.2 M(  1 drwxr-xr-x   2 root     root         1024 Jan 10 07:23 boot/)S
2 371.4 M(  1 drwxr-xr-x   2 root     root         1024 Jan 10 07:22 dev/)S
2 360.6 M(358 -rw-r--r--   1 root     root       362707 Jan 10 07:23 vmlinuz)S
2 349.8 M(boot:)S
2 339 M(total 8)S
2 328.2 M(  4 -rw-r--r--   1 root     root         3708 Jan 10 07:22 boot.b)S
2 317.4 M(  4 -rw-------   1 root     root         3584 Jan 10 07:23 map)S
2 306.6 M(dev:)S
2 295.8 M(total 0)S
2 285 M(  0 brw-r-----   1 root     root       2,   0 Jan 10 07:22 fd0)S
2 274.2 M(  0 crw-r--r--   1 root     root       1,   3 Jan 10 07:22 null           )S
0 270.2 M 487.0 144.6 B
11/F4 SF 0 246 M(Do not worry if the file sizes are slightly different from yours.)S
0 219.6 M(Now leave the diskette in the drive and go to Section 6.3.)S
0 208.8 M 487.0 2.0 F
17/F9 SF 0 172 M(6.2. Transferring the kernel without LILO)S
11/F4 SF 0 144.4 M(If you are )S
11/F6 SF (not)S
11/F4 SF ( using LILO, transfer the kernel to the bootdisk with )S
11/F5 SF (dd)S
11/F4 SF (: )S
9/F0 SF 2 118 M(        % dd if=KERNEL of=/dev/fd0 bs=1k)S
2 107.2 M(        353+1 records in)S
2 96.4 M(        353+1 records out)S
0 92.4 M 487.0 36.6 B
11/F4 SF 0 81.4 M(In this example, )S
11/F5 SF (dd)S
11/F4 SF ( wrote 353 complete records + 1 partial record, so the kernel occupies the first 354 blocks)S
0 68.2 M(of the diskette.  Call this number )S
11/F0 SF (KERNEL_BLOCKS)S
11/F4 SF ( and remember it for use in the next section.)S
0 41.8 M(Finally, set the root device to be the diskette itself, then set the root to be loaded read/write: )S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(6.2. Transferring the kernel without LILO)S
474.8 0 M(18)S
GR
SP
%%Page: 19 22
GS
72 36 T
0.88 0.88 0.88 C 0 142.8 M 487.0 15.0 F
0 672.2 M 487.0 25.8 F
0.00 0.00 0.00 C 9/F0 SF 2 687 M(        rdev /dev/fd0 /dev/fd0)S
2 676.2 M(        rdev -R /dev/fd0 0)S
0 672.2 M 487.0 25.8 B
11/F4 SF 0 661.2 M(Be careful to use a capital )S
11/F0 SF (-R)S
11/F4 SF ( in the second )S
11/F5 SF (rdev)S
11/F4 SF ( command.)S
0 650.4 M 487.0 2.0 F
17/F9 SF 0 613.6 M(6.3. Setting the ramdisk word)S
11/F4 SF 0 586 M(Inside the kernel image is the )S
11/F6 SF (ramdisk word)S
11/F4 SF ( that specifies where the root filesystem is to be found, along with)S
0 572.8 M(other options.  The word can be accessed and set via the )S
11/F5 SF (rdev)S
11/F4 SF ( command, and its contents are interpreted as)S
0 559.6 M(follows: )S
11/F5 SF 23.8 531.2 M(Bit field)S
65.4 531.2 M(Description)S
0 525 M 63.4 19.2 B
63.4 525 M 424.7 19.2 B
11/F4 SF 38.7 512 M(0-10)S
65.4 512 M(Offset to start of ramdisk, in 1024 byte blocks)S
0 505.8 M 63.4 19.2 B
63.4 505.8 M 424.7 19.2 B
33.2 492.8 M(11-13)S
65.4 492.8 M(unused)S
0 486.6 M 63.4 19.2 B
63.4 486.6 M 424.7 19.2 B
50.4 473.6 M(14)S
65.4 473.6 M(Flag indicating that ramdisk is to be loaded)S
0 467.4 M 63.4 19.2 B
63.4 467.4 M 424.7 19.2 B
50.4 454.4 M(15)S
65.4 454.4 M(Flag indicating to prompt before loading rootfs)S
0 448.2 M 63.4 19.2 B
63.4 448.2 M 424.7 19.2 B
0 424 M(If bit 15 is set, on boot-up you will be prompted to place a new floppy diskette in the drive.  This is necessary)S
0 410.8 M(for a two-disk boot set.)S
0 384.4 M(There are two cases, depending on whether you are building a single boot/root diskette or a double)S
0 371.2 M(``boot+root'' diskette set.)S
36 344.8 M(If you are building a single disk, the compressed root filesystem will be placed right after the kernel,)S
36 331.6 M(so the offset will be the first free block \(which should be the same as )S
11/F0 SF (KERNEL_BLOCKS)S
11/F4 SF (\).  Bit 14 will)S
36 318.4 M(be set to 1, and bit 15 will be zero.  For example, say you're building a single disk and the root)S
36 305.2 M(filesystem will begin at block 253 \(decimal\).  The ramdisk word value should be 253 \(decimal\) with)S
36 292 M(bit 14 set to 1 and bit 15 set to 0.  To calculate the value you can simply add the decimal values.  253 +)S
36 278.8 M(\(2^14\) = 253 + 16384 = 16637.  If you don't quite understand where this number comes from, plug it)S
36 265.6 M(into a scientific calculator and convert it to binary, )S
25 344.8 M(1. )S
36 252.4 M(If you are building a two-disk set, the root filesystem will begin at block zero of the second disk, so)S
36 239.2 M(the offset will be zero.  Bit 14 will be set to 1 and bit 15 will be 1.  The decimal value will be 2^14 +)S
36 226 M(2^15 = 49152 in this case. )S
25 252.4 M(2. )S
0 199.6 M(After carefully calculating the value for the ramdisk word, set it with )S
11/F5 SF (rdev -r)S
11/F4 SF (.  Be sure to use the)S
11/F6 SF 0 186.4 M(decimal)S
11/F4 SF ( value.  If you used LILO, the argument to )S
11/F5 SF (rdev)S
11/F4 SF ( here should be the )S
11/F6 SF (mounted kernel path)S
11/F4 SF (, e.g.)S
11/F0 SF 0 173.2 M(/mnt/vmlinuz)S
11/F4 SF (; if you copied the kernel with )S
11/F5 SF (dd)S
11/F4 SF (, instead use the floppy device name \()S
11/F6 SF (e.g.,)S
11/F0 SF ( /dev/fd0)S
11/F4 SF (\). )S
9/F0 SF 2 146.8 M(        rdev -r KERNEL_OR_FLOPPY_DRIVE  VALUE)S
0 142.8 M 487.0 15.0 B
11/F4 SF 0 118.6 M(If you used LILO, unmount the diskette now.)S
GS[17.2 0 0 17.2 52.8 85.0]CM[/Indexed/DeviceRGB 75<0000001010101818182929293939394242314242425252525A5A296363186363526363636B6B426B6B6B7373527B7B7B8484848C8C188C8C398C8C7B8C8C8C9494949C9C5A9C9C639C9C7BA5A563A5A584A5A594A5A59CA5A5A5ADAD21ADAD39ADAD6BADAD7BADAD8CADADA5ADADADB5B54AB5B552B5B5B5BDBD08BDBD5ABDBD84BDBD9CBDBDBDC6C65AC6C6C6CECE73CECECED6D618D6D652D6D663D6D66BD6D6D6DEDE00DEDE21DEDE31DEDE39DEDEDEE7E708E7E729E7E731E7E763E7E77BE7E7E7EFEF00EFEF10EFEF31EFEF42EFEFEFF7F7F7FFFF00FFFF08FFFF10FFFF21FFFFFF>]setcolorspace<</ImageType 1/Width 24/Height 24/BitsPerComponent 8/ImageMatrix[24 0 0 -24 0 24]/Decode[0 255]/Interpolate true/DataSource currentfile/ASCII85Decode filter>>image
91qoN91qoN91qN85X7S-91qoN91qoN91qoN91qoC/fbZI*?>k80Le].91qoN91qoN91CHH)E:&M6:+!h
(_eYs91qoN91qoN5SY/#7n6'>7n6'>7kti#7S?BI91qoI'e2O?7n6'>7n6'>7n5lh-VI**91q_h.S!!!
7n5iX%Q6gI7n6'>(FMjK91pr]6:XO97n40l!!kn]7n6'>65_gW90aI\7n6'>7n3pe!!G8O7n6'>7ku;^
9/%P[7n6'>7n4*j!!bk]7n6'>7n4C]9-$#_7n6'>7n4U#!!u4e7n6'>7n4aW5TN0]7n6'>7n4s.!"h^k
7n6'>7n5WU5TN0]7n6'>7n599!?Xg%7n6'>7n5WU5TN0]7n6'>7n5K@!@:6+7n6'>7n5WU5TN0]7n6'>
7n5ZG!]*>:7n6'>7n5WU5TN0]7n6'>7n5r]%6m?Q7n6'>7n5W]9.)\h7n6'>7n5]T%P^OF7n6'>7n4aW
9/RVX7n6'>7n4'i!!bYW7n6'>7mn:]91BmV7n6'>7n4$h!!P;O7n6'>81>oZ91q,[6:XO97n5HG$7JD7
7n6'>1`]"X91qnu+\,$m7n6'A6UsX:7n6'>'JN0Q91qoN*>_%47n6'>7n6'>7n>HJ0M>&391qoN9-"d"
6q9a;7n6'>6m`X$91qoN91qoN91q,_'-]M"4$,)4'-oh991qoN91qoN91qoN5V<cd'bq`C5YFaC91qoN
~>
GR
123.7 78 M(Do not believe what the rdev/ramsize manpage says about ramdisk  size.  The)S
123.7 64.8 M(manpage is obsolete.  As of kernel 2.0 or so, the ramdisk word no  longer)S
123.7 51.6 M(determines the ramdisk size; the word is instead interpreted  according to the table)S
123.7 38.4 M(at the beginning of section Section 6.3.  For a detailed  explanation, see the)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(6.3. Setting the ramdisk word)S
474.8 0 M(19)S
GR
SP
%%Page: 20 23
GS
72 36 T
0.88 0.88 0.88 C 36 497.4 M 405.9 15.0 F
36 538.8 M 405.9 15.0 F
0.00 0.00 0.00 C 11/F4 SF 123.7 686 M(documentation file ramdisk.txt or)S
123.7 672.8 M(http://www.linuxhq.com/kernel/v2.4/doc/ramdisk.txt.html. )S
0 660 M 487.0 2.0 F
17/F9 SF 0 623.2 M(6.4. Transferring the root filesystem)S
11/F4 SF 0 595.6 M(The last step is to transfer the root filesystem.)S
36 569.2 M(If the root filesystem will be placed on the )S
11/F6 SF (same)S
11/F4 SF ( disk as the kernel, transfer it using )S
11/F5 SF (dd)S
11/F4 SF ( with the)S
11/F0 SF 36 556 M(seek)S
11/F4 SF ( option, which specifies how many blocks to skip: )S
11/Fc SF 28.2 569.2 M(\267 )S
9/F0 SF 38 542.8 M(        dd if=rootfs.gz of=/dev/fd0 bs=1k seek=)S
9/F2 SF (KERNEL_BLOCKS)S
36 538.8 M 405.9 15.0 B
11/F4 SF 36 527.8 M(If the root filesystem will be placed on a )S
11/F6 SF (second)S
11/F4 SF ( disk, remove the first diskette, put the second)S
36 514.6 M(diskette in the drive, then transfer the root filesystem to it: )S
11/Fc SF 28.2 527.8 M(\267 )S
9/F0 SF 38 501.4 M(        dd if=rootfs.gz of=/dev/fd0 bs=1k)S
36 497.4 M 405.9 15.0 B
11/F4 SF 0 473.2 M(Congratulations, you are done! )S
GS[17.2 0 0 17.2 103.9 439.6]CM[/Indexed/DeviceRGB 75<0000001010101818182929293939394242314242425252525A5A296363186363526363636B6B426B6B6B7373527B7B7B8484848C8C188C8C398C8C7B8C8C8C9494949C9C5A9C9C639C9C7BA5A563A5A584A5A594A5A59CA5A5A5ADAD21ADAD39ADAD6BADAD7BADAD8CADADA5ADADADB5B54AB5B552B5B5B5BDBD08BDBD5ABDBD84BDBD9CBDBDBDC6C65AC6C6C6CECE73CECECED6D618D6D652D6D663D6D66BD6D6D6DEDE00DEDE21DEDE31DEDE39DEDEDEE7E708E7E729E7E731E7E763E7E77BE7E7E7EFEF00EFEF10EFEF31EFEF42EFEFEFF7F7F7FFFF00FFFF08FFFF10FFFF21FFFFFF>]setcolorspace<</ImageType 1/Width 24/Height 24/BitsPerComponent 8/ImageMatrix[24 0 0 -24 0 24]/Decode[0 255]/Interpolate true/DataSource currentfile/ASCII85Decode filter>>image
91qoN91qoN91qN85X7S-91qoN91qoN91qoN91qoC/fbZI*?>k80Le].91qoN91qoN91CHH)E:&M6:+!h
(_eYs91qoN91qoN5SY/#7n6'>7n6'>7kti#7S?BI91qoI'e2O?7n6'>7n6'>7n5lh-VI**91q_h.S!!!
7n5iX%Q6gI7n6'>(FMjK91pr]6:XO97n40l!!kn]7n6'>65_gW90aI\7n6'>7n3pe!!G8O7n6'>7ku;^
9/%P[7n6'>7n4*j!!bk]7n6'>7n4C]9-$#_7n6'>7n4U#!!u4e7n6'>7n4aW5TN0]7n6'>7n4s.!"h^k
7n6'>7n5WU5TN0]7n6'>7n599!?Xg%7n6'>7n5WU5TN0]7n6'>7n5K@!@:6+7n6'>7n5WU5TN0]7n6'>
7n5ZG!]*>:7n6'>7n5WU5TN0]7n6'>7n5r]%6m?Q7n6'>7n5W]9.)\h7n6'>7n5]T%P^OF7n6'>7n4aW
9/RVX7n6'>7n4'i!!bYW7n6'>7mn:]91BmV7n6'>7n4$h!!P;O7n6'>81>oZ91q,[6:XO97n5HG$7JD7
7n6'>1`]"X91qnu+\,$m7n6'A6UsX:7n6'>'JN0Q91qoN*>_%47n6'>7n6'>7n>HJ0M>&391qoN9-"d"
6q9a;7n6'>6m`X$91qoN91qoN91q,_'-]M"4$,)4'-oh991qoN91qoN91qoN5V<cd'bq`C5YFaC91qoN
~>
GR
226.1 432.6 M(You should always test a bootdisk before putting it aside)S
226.1 419.4 M(for an emergency. If it fails to boot, read on.)S
0 406.6 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(6.4. Transferring the root filesystem)S
474.8 0 M(20)S
GR
SP
%%Page: 21 24
GS
72 36 T
0.88 0.88 0.88 C 36 391.4 M 405.9 15.0 F
36 446 M 405.9 15.0 F
36 540.2 M 405.9 15.0 F
0.00 0.00 0.00 C 20/F9 SF 0 678 M(7. Troubleshooting, or The Agony of Defeat)S
11/F4 SF 0 649.8 M(When building bootdisks, the first few tries often will not boot.  The general approach to building a root disk)S
0 636.6 M(is to assemble components from your existing system, and try and get the diskette-based system to the point)S
0 623.4 M(where it displays messages on the console.  Once it starts talking to you, the battle is half over because you)S
0 610.2 M(can see what it is complaining about, and you can fix individual problems until the system works smoothly.  If)S
0 597 M(the system just hangs with no explanation, finding the cause can be difficult.  The recommended procedure for)S
0 583.8 M(investigating the problem where the system will not talk to you is as follows:)S
36 557.4 M(You may see a message like this: )S
11/Fc SF 28.2 557.4 M(\267 )S
9/F0 SF 38 544.2 M(Kernel panic: VFS: Unable to mount root fs on XX:YY)S
36 540.2 M 405.9 15.0 B
11/F4 SF 36 529.2 M(This is a common problem and it has only a few causes.  First, check the device )S
11/F6 SF (XX:YY)S
11/F4 SF ( against the list)S
36 516 M(of device codes in )S
11/F0 SF (/usr/src/linux/Documentation/devices.txt)S
11/F4 SF (.  If it is incorrect, you)S
36 502.8 M(probably didn't do an )S
11/F5 SF (rdev -R)S
11/F4 SF (, or you did it on the wrong image.  If the device code is correct, then)S
36 489.6 M(check carefully the device drivers compiled into your kernel.  Make sure it has floppy disk, ramdisk)S
36 476.4 M(and ext2 filesystem support built-in. )S
36 463.2 M(If you see many errors like: )S
11/Fc SF 28.2 463.2 M(\267 )S
9/F0 SF 38 450 M(end_request: I/O error, dev 01:00 \(ramdisk\), sector NNN)S
36 446 M 405.9 15.0 B
11/F4 SF 36 435 M(This is an I/O error from the ramdisk driver, usually because the kernel is trying to write beyond the)S
36 421.8 M(end of the device.  The ramdisk is too small to hold the root filesystem.  Check your bootdisk kernel's)S
36 408.6 M(initialization messages for a line like: )S
9/F0 SF 38 395.4 M(        Ramdisk driver initialized : 16 ramdisks of 4096K size)S
36 391.4 M 405.9 15.0 B
11/F4 SF 36 380.4 M(Check this size against the )S
11/F6 SF (uncompressed)S
11/F4 SF ( size of the root filesystem.  If the ramdisks aren't large)S
36 367.2 M(enough, make them larger. )S
36 354 M(Check that the root disk actually contains the directories you think it does.  It is easy to copy at the)S
36 340.8 M(wrong level so that you end up with something like )S
11/F0 SF (/rootdisk/bin)S
11/F4 SF ( instead of )S
11/F0 SF (/bin)S
11/F4 SF ( on your root)S
36 327.6 M(diskette. )S
11/Fc SF 28.2 354 M(\267 )S
11/F4 SF 36 314.4 M(Check that there is a )S
11/F0 SF (/lib/libc.so)S
11/F4 SF ( with the same link that appears in your )S
11/F0 SF (/lib)S
11/F4 SF ( directory on)S
36 301.2 M(your hard disk. )S
11/Fc SF 28.2 314.4 M(\267 )S
11/F4 SF 36 288 M(Check that any symbolic links in your )S
11/F0 SF (/dev)S
11/F4 SF ( directory in your existing system also exist on your root)S
36 274.8 M(diskette filesystem, where those links are to devices which you have included in your root diskette.  In)S
36 261.6 M(particular, )S
11/F0 SF (/dev/console)S
11/F4 SF ( links are essential in many cases. )S
11/Fc SF 28.2 288 M(\267 )S
11/F4 SF 36 248.4 M(Check that you have included )S
11/F0 SF (/dev/tty1, /dev/null, /dev/zero, /dev/mem,)S
36 235.2 M(/dev/ram)S
11/F4 SF ( and )S
11/F0 SF (/dev/kmem)S
11/F4 SF ( files. )S
11/Fc SF 28.2 248.4 M(\267 )S
11/F4 SF 36 222 M(Check your kernel configuration -- support for all resources required up to login point must be built)S
36 208.8 M(in, not modules.  So )S
11/F6 SF (ramdisk and ext2 support must be built-in)S
11/F4 SF (. )S
11/Fc SF 28.2 222 M(\267 )S
11/F4 SF 36 195.6 M(Check that your kernel root device and ramdisk settings are correct. )S
11/Fc SF 28.2 195.6 M(\267 )S
11/F4 SF 0 169.2 M(Once these general aspects have been covered, here are some more specific files to check: )S
36 142.8 M(Make sure )S
11/F5 SF (init)S
11/F4 SF ( is included as )S
11/F0 SF (/sbin/init)S
11/F4 SF ( or )S
11/F0 SF (/bin/init)S
11/F4 SF (. Make sure it is executable. )S
25 142.8 M(1. )S
36 129.6 M(Run )S
11/F5 SF (ldd init)S
11/F4 SF ( to check init's libraries.  Usually this is just )S
11/F0 SF (libc.so)S
11/F4 SF (, but check anyway.  Make sure)S
36 116.4 M(you included the necessary libraries and loaders. )S
25 129.6 M(2. )S
36 103.2 M(Make sure you have the right loader for your libraries -- )S
11/F0 SF (ld.so)S
11/F4 SF ( for a.out or )S
11/F0 SF (ld-linux.so)S
11/F4 SF ( for)S
36 90 M(ELF. )S
25 103.2 M(3. )S
36 76.8 M(Check the )S
11/F0 SF (/etc/inittab)S
11/F4 SF ( on your bootdisk filesystem for the calls to )S
11/F5 SF (getty)S
11/F4 SF ( \(or some )S
11/F5 SF (getty)S
11/F4 SF (-like)S
36 63.6 M(program, such as )S
11/F5 SF (agetty)S
11/F4 SF (, )S
11/F5 SF (mgetty)S
11/F4 SF ( or )S
11/F5 SF (getty_ps)S
11/F4 SF (\).  Double-check these against your hard disk)S
11/F0 SF 36 50.4 M(inittab)S
11/F4 SF (.  Check the man pages of the program you use to make sure these make sense.)S
11/F0 SF 36 37.2 M(inittab)S
11/F4 SF ( is possibly the trickiest part because its syntax and content depend on the init program)S
25 76.8 M(4. )S
11/F8 SF 0 0 M(7. Troubleshooting, or The Agony of Defeat)S
474.8 0 M(21)S
GR
SP
%%Page: 22 25
GS
72 36 T
0.88 0.88 0.88 C 0 524.6 M 487.0 15.0 F
0.00 0.00 0.00 C 11/F4 SF 36 687 M(used and the nature of the system.  The only way to tackle it is to read the man pages for )S
11/F5 SF (init)S
11/F4 SF ( and)S
11/F0 SF 36 673.8 M(inittab)S
11/F4 SF ( and work out exactly what your existing system is doing when it boots.  Check to make)S
36 660.6 M(sure )S
11/F0 SF (/etc/inittab)S
11/F4 SF ( has a system initialisation entry. This should contain a command to execute)S
36 647.4 M(the system initialization script, which must exist. )S
36 634.2 M(As with )S
11/F5 SF (init)S
11/F4 SF (, run )S
11/F5 SF (ldd)S
11/F4 SF ( on your )S
11/F5 SF (getty)S
11/F4 SF ( to see what it needs, and make sure the necessary library files and)S
36 621 M(loaders were included in your root filesystem. )S
25 634.2 M(5. )S
36 607.8 M(Be sure you have included a shell program \(e.g., )S
11/F5 SF (bash)S
11/F4 SF ( or )S
11/F5 SF (ash)S
11/F4 SF (\) capable of running all of your rc)S
36 594.6 M(scripts. )S
25 607.8 M(6. )S
36 581.4 M(If you have a )S
11/F0 SF (/etc/ld.so.cache)S
11/F4 SF ( file on your rescue disk, remake it. )S
25 581.4 M(7. )S
0 555 M(If )S
11/F5 SF (init)S
11/F4 SF ( starts, but you get a message like: )S
9/F0 SF 2 528.6 M(        Id xxx respawning too fast: disabled for 5 minutes  )S
0 524.6 M 487.0 15.0 B
11/F4 SF 0 513.6 M(it is coming from )S
11/F5 SF (init)S
11/F4 SF (, usually indicating that )S
11/F5 SF (getty)S
11/F4 SF ( or )S
11/F5 SF (login)S
11/F4 SF ( is dying as soon as it starts up.  Check the)S
11/F5 SF 0 500.4 M(getty)S
11/F4 SF ( and )S
11/F5 SF (login)S
11/F4 SF ( executables and the libraries they depend upon.  Make sure the invocations in)S
11/F0 SF 0 487.2 M(/etc/inittab)S
11/F4 SF ( are correct.  If you get strange messages from )S
11/F5 SF (getty)S
11/F4 SF (, it may mean the calling form in)S
11/F0 SF 0 474 M(/etc/inittab)S
11/F4 SF ( is wrong.)S
0 447.6 M(If you get a login prompt, and you enter a valid login name but the system prompts you for another login)S
0 434.4 M(name immediately, the problem may be with PAM or NSS.  See Section 4.4.  The problem may also be that)S
0 421.2 M(you use shadow passwords and didn't copy )S
11/F0 SF (/etc/shadow)S
11/F4 SF ( to your bootdisk.)S
0 394.8 M(If you try to run some executable, such as )S
11/F5 SF (df)S
11/F4 SF (, which is on your rescue disk but you yields a message like:)S
11/F0 SF 0 381.6 M(df: not found)S
11/F4 SF (, check two things: \(1\) Make sure the directory containing the binary is in your PATH,)S
0 368.4 M(and \(2\) make sure you have libraries \(and loaders\) the program needs. )S
0 357.6 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(7. Troubleshooting, or The Agony of Defeat)S
474.8 0 M(22)S
GR
SP
%%Page: 23 26
GS
72 36 T
20/F9 SF 0 678 M(8. Reducing root filesystem size)S
11/F4 SF 0 649.8 M(One of the main problems with building bootdisks is getting everything to fit into one \(or even two\) diskettes.)S
0 636.6 M(Even when files are compressed this can be very difficult, because Linux system components keep growing.)S
0 623.4 M(Here are some common techniques used to make everything fit.)S
0 612.6 M 487.0 2.0 F
17/F9 SF 0 575.8 M(8.1. Increase the diskette density)S
11/F4 SF 0 548.2 M(By default, floppy diskettes are formatted at 1440K, but higher density formats are possible.  Whether you can)S
0 535 M(boot from higher density disks depends mostly on your BIOS. )S
11/F0 SF (fdformat)S
11/F4 SF ( will format disks for the following)S
0 521.8 M(sizes: 1600K, 1680K, 1722K, 1743K, 1760K, 1840K, and 1920K.  See the )S
11/F5 SF (fdformat)S
11/F4 SF ( man page and)S
11/F0 SF 0 508.6 M(/usr/src/linux/Documentation/devices.txt)S
11/F4 SF (.)S
0 482.2 M(But what diskette densities/geometries will your machine support?  Here are some \(lightly edited\) answers)S
0 469 M(from Alain Knaff, the author of fdutils.)S
36 429.4 M(This is more an issue of the BIOS rather than the physical format of the disk. If the BIOS)S
36 416.2 M(decides that any sector number greater than 18 is bad, then there is not much we can do.)S
36 403 M(Indeed, short of disassembling the BIOS, trial and error seems to be the only way to find out.)S
36 389.8 M(However, if the BIOS supports ED disks \(extra density: 36 sectors/track and 2.88MB\),)S
36 376.6 M(there's a chance that 1722K disks are supported as well.)S
36 350.2 M(Superformatted disks with more than 21 sectors/track are likely not bootable: indeed, those)S
36 337 M(use sectors of non-standard sizes \(1024 bytes in a sector instead of 512, for example\), and)S
36 323.8 M(are likely not bootable.  It should however be possible to write a special bootsector program)S
36 310.6 M(to work around this.  If I remember correctly, the DOS 2m utility has such a beast, as does)S
36 297.4 M(OS/2's XDF utilities.)S
36 271 M(Some BIOSes artificially claim that any sector number greater than 18 must be in error.  As)S
36 257.8 M(1722K disks use sector numbers up to 21, these would not be bootable.  The best way to test)S
36 244.6 M(would be to format a test DOS or syslinus disk as 1722K and make it bootable.  If you use)S
36 231.4 M(LILO, don't use the option linear \(or else LILO would assume that the disk is the default 18)S
36 218.2 M(sectors/track, and the disk will fail to boot even if supported by the BIOS\).)S
0 207.4 M 487.0 2.0 F
17/F9 SF 0 170.6 M(8.2. Replace common utilities with BusyBox)S
11/F4 SF 0 143 M(Much root filesystem space is consumed by common GNU system utilities such as )S
11/F0 SF (cat, chmod, cp,)S
0 129.8 M(dd, df)S
11/F4 SF (, etc.  The )S
11/F6 SF (BusyBox)S
11/F4 SF ( project was designed to provide minimal replacements for these common system)S
0 116.6 M(utilities.  BusyBox supplies one single monolithic executable file, )S
11/F0 SF (/bin/busybox)S
11/F4 SF (, about 150K, which)S
0 103.4 M(implements the functions of these utilities.  You then create symlinks from different utilities to this)S
0 90.2 M(executable; busybox sees how it was called and invokes the correct code.  BusyBox even includes a basic)S
0 77 M(shell.  BusyBox is available in binary packages for many distributions, and source code is available from the)S
0 63.8 M(BusyBox site. )S
0 53 M 487.0 2.0 F
11/F8 SF 0 0 M(8. Reducing root filesystem size)S
474.8 0 M(23)S
GR
SP
%%Page: 24 27
GS
72 36 T
0.88 0.88 0.88 C 0 481.8 M 487.0 15.0 F
0.00 0.00 0.00 C 17/F9 SF 0 681 M(8.3. Use an alternate shell)S
11/F4 SF 0 653.4 M(Some of the popular shells for Linux, such as )S
11/F5 SF (bash)S
11/F4 SF ( and )S
11/F5 SF (tcsh)S
11/F4 SF (, are large and require many libraries.  If you don't)S
0 640.2 M(use the BusyBox shell, you should still consider replacing your shell anyway.  Some light-weight alternatives)S
0 627 M(are )S
11/F5 SF (ash)S
11/F4 SF (, )S
11/F5 SF (lsh)S
11/F4 SF (, )S
11/F5 SF (kiss)S
11/F4 SF ( and )S
11/F5 SF (smash)S
11/F4 SF (, which are much smaller and require few \(or no\) libraries.  Most of these)S
0 613.8 M(replacement shells are available from )S
11/F0 SF (http://www.ibiblio.org/pub/Linux/system/shells/)S
11/F4 SF (.)S
0 600.6 M(Make sure any shell you use is capable of running commands in all the )S
11/F0 SF (rc)S
11/F4 SF ( files you include on your bootdisk. )S
0 589.8 M 487.0 2.0 F
17/F9 SF 0 553 M(8.4. Strip libraries and binaries)S
11/F4 SF 0 525.4 M(Many libraries and binaries are distributed with debugging information. Running )S
11/F5 SF (file)S
11/F4 SF ( on these files will tell)S
0 512.2 M(you ``)S
11/F0 SF (not stripped)S
11/F4 SF ('' if so.  When copying binaries to your root filesystem, it is good practice to use: )S
9/F0 SF 2 485.8 M(      objcopy --strip-all FROM TO)S
0 481.8 M 487.0 15.0 B
GS[17.2 0 0 17.2 89.8 450.4]CM[/Indexed/DeviceRGB 75<0000001010101818182929293939394242314242425252525A5A296363186363526363636B6B426B6B6B7373527B7B7B8484848C8C188C8C398C8C7B8C8C8C9494949C9C5A9C9C639C9C7BA5A563A5A584A5A594A5A59CA5A5A5ADAD21ADAD39ADAD6BADAD7BADAD8CADADA5ADADADB5B54AB5B552B5B5B5BDBD08BDBD5ABDBD84BDBD9CBDBDBDC6C65AC6C6C6CECE73CECECED6D618D6D652D6D663D6D66BD6D6D6DEDE00DEDE21DEDE31DEDE39DEDEDEE7E708E7E729E7E731E7E763E7E77BE7E7E7EFEF00EFEF10EFEF31EFEF42EFEFEFF7F7F7FFFF00FFFF08FFFF10FFFF21FFFFFF>]setcolorspace<</ImageType 1/Width 24/Height 24/BitsPerComponent 8/ImageMatrix[24 0 0 -24 0 24]/Decode[0 255]/Interpolate true/DataSource currentfile/ASCII85Decode filter>>image
91qoN91qoN91qN85X7S-91qoN91qoN91qoN91qoC/fbZI*?>k80Le].91qoN91qoN91CHH)E:&M6:+!h
(_eYs91qoN91qoN5SY/#7n6'>7n6'>7kti#7S?BI91qoI'e2O?7n6'>7n6'>7n5lh-VI**91q_h.S!!!
7n5iX%Q6gI7n6'>(FMjK91pr]6:XO97n40l!!kn]7n6'>65_gW90aI\7n6'>7n3pe!!G8O7n6'>7ku;^
9/%P[7n6'>7n4*j!!bk]7n6'>7n4C]9-$#_7n6'>7n4U#!!u4e7n6'>7n4aW5TN0]7n6'>7n4s.!"h^k
7n6'>7n5WU5TN0]7n6'>7n599!?Xg%7n6'>7n5WU5TN0]7n6'>7n5K@!@:6+7n6'>7n5WU5TN0]7n6'>
7n5ZG!]*>:7n6'>7n5WU5TN0]7n6'>7n5r]%6m?Q7n6'>7n5W]9.)\h7n6'>7n5]T%P^OF7n6'>7n4aW
9/RVX7n6'>7n4'i!!bYW7n6'>7mn:]91BmV7n6'>7n4$h!!P;O7n6'>81>oZ91q,[6:XO97n5HG$7JD7
7n6'>1`]"X91qnu+\,$m7n6'A6UsX:7n6'>'JN0Q91qoN*>_%47n6'>7n6'>7n>HJ0M>&391qoN9-"d"
6q9a;7n6'>6m`X$91qoN91qoN91q,_'-]M"4$,)4'-oh991qoN91qoN91qoN5V<cd'bq`C5YFaC91qoN
~>
GR
11/F4 SF 197.8 443.4 M(When copying libraries, be sure to use )S
11/F0 SF (strip-debug)S
11/F4 SF ( instead)S
197.8 430.2 M(of )S
11/F0 SF (strip-all)S
11/F4 SF (.)S
0 417.4 M 487.0 2.0 F
17/F9 SF 0 380.6 M(8.5. Move files to a utility disk)S
11/F4 SF 0 353 M(If some of your binaries are not needed immediately to boot or login, you can move them to a utility disk.  See)S
0 339.8 M(Section 9.2 for details.  You may also consider moving modules to a utility disk as well. )S
0 329 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(8.3. Use an alternate shell)S
474.8 0 M(24)S
GR
SP
%%Page: 25 28
GS
72 36 T
20/F9 SF 0 678 M(9. Miscellaneous topics)S
17/F9 SF 0 643.8 M(9.1. Non-ramdisk root filesystems)S
11/F4 SF 0 616.2 M(Section 4 gave instructions for building a compressed root filesystem which is loaded to ramdisk when the)S
0 603 M(system boots.  This method has many advantages so it is commonly used.  However, some systems with little)S
0 589.8 M(memory cannot afford the RAM needed for this, and they must use root filesystems mounted directly from)S
0 576.6 M(the diskette.)S
0 550.2 M(Such filesystems are actually easier to build than compressed root filesystems because they can be built on a)S
0 537 M(diskette rather than on some other device, and they do not have to be compressed.  We will outline the)S
0 523.8 M(procedure as it differs from the instructions above.  If you choose to do this, keep in mind that you will have)S
11/F6 SF 0 510.6 M(much less space)S
11/F4 SF ( available.)S
36 484.2 M(Calculate how much space you will have available for root files.  If you are building a single boot/root)S
36 471 M(disk, you must fit all blocks for the kernel plus all blocks for the root filesystem on the one disk. )S
25 484.2 M(1. )S
36 457.8 M(Using )S
11/F5 SF (mke2fs)S
11/F4 SF (, create a root filesystem on a diskette of the appropriate size. )S
25 457.8 M(2. )S
36 444.6 M(Populate the filesystem as described above. )S
25 444.6 M(3. )S
36 431.4 M(When done, unmount the filesystem and transfer it to a disk file  but )S
11/F6 SF (do not compress it)S
11/F4 SF (. )S
25 431.4 M(4. )S
36 418.2 M(Transfer the kernel to a floppy diskette, as described above.  When calculating the ramdisk word, )S
11/F6 SF (set)S
36 405 M(bit 14 to zero)S
11/F4 SF (, to indicate that the root filesystem is not to be loaded to ramdisk.  Run the )S
11/F5 SF (rdev)S
11/F4 SF ('s as)S
36 391.8 M(described. )S
25 418.2 M(5. )S
36 378.6 M(Transfer the root filesystem as before. )S
25 378.6 M(6. )S
0 352.2 M(There are several shortcuts you can take.  If you are building a two-disk set, you can build the complete root)S
0 339 M(filesystem directly on the second disk and you need not transfer it to a hard disk file and then back. Also, if)S
0 325.8 M(you are building a single boot/root disk and using LILO, you can build a )S
11/F6 SF (single)S
11/F4 SF ( filesystem on the entire disk,)S
0 312.6 M(containing the kernel, LILO files and root files, and simply run LILO as the last step.)S
0 301.8 M 487.0 2.0 F
17/F9 SF 0 265 M(9.2. Building a utility disk)S
11/F4 SF 0 237.4 M(Building a utility disk is relatively easy -- simply create a filesystem on a formatted disk and copy files to it.)S
0 224.2 M(To use it with a bootdisk, mount it manually after the system is booted.)S
0 197.8 M(In the instructions above, we mentioned that the utility disk could be mounted as )S
11/F0 SF (/usr)S
11/F4 SF (.  In this case, binaries)S
0 184.6 M(could be placed into a )S
11/F0 SF (/bin)S
11/F4 SF ( directory on your utility disk, so that placing )S
11/F0 SF (/usr/bin)S
11/F4 SF ( in your path will)S
0 171.4 M(access them.  Additional libraries needed by the binaries are placed in )S
11/F0 SF (/lib)S
11/F4 SF ( on the utility disk.)S
0 145 M(There are several important points to keep in mind when designing a utility disk:)S
36 118.6 M(Do not place critical system binaries or libraries onto the utility disk, since it will not be mountable)S
36 105.4 M(until after the system has booted. )S
25 118.6 M(1. )S
36 92.2 M(You cannot access a floppy diskette and a floppy tape drive simultaneously.  This means that if you)S
36 79 M(have a floppy tape drive, you will not be able to access it while your utility disk is mounted. )S
25 92.2 M(2. )S
36 65.8 M(Access to files on the utility disk will be slow. )S
25 65.8 M(3. )S
0 39.4 M(Appendix D shows a sample of files on a utility disk. Here are some ideas for files you may find useful:)S
0 26.2 M(programs for examining and manipulating disks \()S
11/F5 SF (format, fdisk)S
11/F4 SF (\) and filesystems \()S
11/F5 SF (mke2fs, fsck, debugfs,)S
11/F8 SF 0 0 M(9. Miscellaneous topics)S
474.8 0 M(25)S
GR
SP
%%Page: 26 29
GS
72 36 T
11/F5 SF 0 687 M(isofs.o)S
11/F4 SF (\), a lightweight text editor \()S
11/F5 SF (elvis, jove)S
11/F4 SF (\), compression and archive utilities \()S
11/F5 SF (gzip, bzip, tar, cpio, afio)S
11/F4 SF (\),)S
0 673.8 M(tape utilities \()S
11/F5 SF (mt, ftmt, tob, taper)S
11/F4 SF (\), communications utilities \()S
11/F5 SF (ppp.o, slip.o, minicom)S
11/F4 SF (\) and utilities for)S
0 660.6 M(devices \()S
11/F5 SF (setserial, mknod)S
11/F4 SF (\).)S
0 649.8 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(9. Miscellaneous topics)S
474.8 0 M(26)S
GR
SP
%%Page: 27 30
GS
72 36 T
20/F9 SF 0 678 M(10. How the pros do it)S
11/F4 SF 0 649.8 M(You may notice that the bootdisks used by major distributions such as Slackware, RedHat or Debian seem)S
0 636.6 M(more sophisticated than what is described in this document.  Professional distribution bootdisks are based on)S
0 623.4 M(the same principles outlined here, but employ various tricks because their bootdisks have additional)S
0 610.2 M(requirements.  First, they must be able to work with a wide variety of hardware, so they must be able to)S
0 597 M(interact with the user and load various device drivers.  Second, they must be prepared to work with many)S
0 583.8 M(different installation options, with varying degrees of automation.  Finally, distribution bootdisks usually)S
0 570.6 M(combine installation and rescue capabilities.)S
0 544.2 M(Some bootdisks use a feature called )S
11/F6 SF (initrd)S
11/F4 SF ( \()S
11/F6 SF (initial ramdisk)S
11/F4 SF (\).  This feature was introduced around 2.0.x and)S
0 531 M(allows a kernel to boot in two phases.  When the kernel first boots, it loads an initial ramdisk image from the)S
0 517.8 M(boot disk.  This initial ramdisk is a root filesystem containing a program that runs before the real root fs is)S
0 504.6 M(loaded.  This program usually inspects the environment and/or asks the user to select various boot options,)S
0 491.4 M(such as the device from which to load the real rootdisk.  It typically loads additional modules not built in to)S
0 478.2 M(the kernel.  When this initial program exits, the kernel loads the real root image and booting continues)S
0 465 M(normally.  For further information on )S
11/F5 SF (initrd)S
11/F4 SF (, see your local file)S
11/F0 SF 0 451.8 M(/usr/src/linux/Documentation/initrd.txt)S
11/F4 SF ( and)S
11/F0 SF 0 438.6 M(ftp://elserv.ffm.fgan.de/pub/linux/loadlin-1.6/initrd-example.tgz)S
11/F4 SF 0 412.2 M(The following are summaries of how each distribution's installation disks seem to work, based on inspecting)S
0 399 M(their filesystems and/or source code.  We do not guarantee that this information is completely accurate, or that)S
0 385.8 M(they have not changed since the versions noted.)S
0 359.4 M(Slackware \(v.3.1\) uses a straightforward LILO boot similar to what is described in Section 6.1.  The)S
0 346.2 M(Slackware bootdisk prints a bootup message \(\34)S
11/F0 SF (Welcome to the Slackware Linux bootkernel)S
0 333 M(disk!)S
11/F4 SF (\35\) using LILO's )S
11/F0 SF (message)S
11/F4 SF ( parameter.  This instructs the user to enter a boot parameter line if)S
0 319.8 M(necessary.  After booting, a root filesystem is loaded from a second disk.  The user invokes a )S
11/F5 SF (setup)S
11/F4 SF ( script)S
0 306.6 M(which starts the installation.  Instead of using a modular kernel, Slackware provides many different kernels)S
0 293.4 M(and depends upon the user to select the one matching his or her hardware requirements.)S
0 267 M(RedHat \(v.4.0\) also uses a LILO boot.  It loads a compressed ramdisk on the first disk, which runs a custom)S
11/F5 SF 0 253.8 M(init)S
11/F4 SF ( program. This program queries for drivers then loads additional files from a supplemental disk if)S
0 240.6 M(necessary.)S
0 214.2 M(Debian \(v.1.3\) is probably the most sophisticated of the installation disk sets.  It uses the SYSLINUX loader)S
0 201 M(to arrange various load options, then uses an )S
11/F0 SF (initrd)S
11/F4 SF ( image to guide the user through installation.  It appears)S
0 187.8 M(to use both a customized )S
11/F5 SF (init)S
11/F4 SF ( and a customized shell.)S
0 177 M 487.0 2.0 F
11/F8 SF 0 0 M(10. How the pros do it)S
474.8 0 M(27)S
GR
SP
%%Page: 28 31
GS
72 36 T
0.88 0.88 0.88 C 0 74 M 487.0 15.0 F
0.00 0.00 0.00 C 20/F9 SF 0 678 M(11. Creating bootable CD-ROMs)S
GS[17.2 0 0 17.2 86.0 642.6]CM/DeviceGray setcolorspace<</ImageType 1/Width 24/Height 24/BitsPerComponent 8/ImageMatrix[24 0 0 -24 0 24]/Decode[0 1]/Interpolate true/DataSource currentfile/ASCII85Decode filter>>image
s8W-!s8W-!s8V9FkND%.s8W-!s8W-!s8W-!s8W-!]qpsiV59EQcN!qEs8W-!s8W-!s6msdV:Ohun*fGZ
Pa'Jns8W-!s8W-!kEMh"s8W-!s8W-!s3?k:s8W-!s8W,fV7$@'s8W-!s8W-!s8VPa^&S-4s8VPP^&S-4
s8W-!s8W-!s8W-!PeI+ss8UB@s8W-!s8W-!s8W-!s8W-!n"nn@s8SqPs8W-!s8W-!s8W-!s8W-!s3@J@
s3@J@s8W-!`kAdn[CtG[kND$ks8SqYs/"T@f%-[V[EdX[cA[FQV5:#QPioI"kG@@+PdSg:s6%[l`m/Y=
hVR,?Pg8-MkG?aokPtS^n!%<c8lC##]sY8]`p`)ThPJefkPtS^]mJ&]hPHJ:n,MkVs8Ur?kG@$okPtSN
P]N(s]o8ffs8W-!s8V8HkG@%"H_p3"CO=XX`d?SBs8W-!s8V8Ys0^GXs0\*:CV>[JA%hpBs8W-!s8Sq@
s44%Hs6msS;KJ(U`rH)=s8W-!s6lfQs8Sq@s8W,UkMGCYs8W-!s8W-!s1Q,Gs8UZHkPtS^s8W-!s8W-!
s8W-!cDC"0s8W,,V>pSqs8W-!s8W-!s8W-!N6_J's8W-!]p/!cs8W-!s8W-!s8UB'cN!qEs8W-!s0\*2
n,NFfs8W-!kI$Pos8W-!s8W-!s8UZHN2>CfkMFL\N4%jKs8W-!s8W-!s8W-!hTh@MPa&#in,NFfs8W-!
~>
GR
11/F4 SF 190.3 635.6 M(This section was contributed by Rizwan Mohammed Darwe)S
190.3 622.4 M(\()S
11/F0 SF (rizwan AT clovertechnologies dot com)S
11/F4 SF (\) )S
0 594 M(This section assumes that you are familiar with the process and workings of writing CDs in linux.  Consider)S
0 580.8 M(this to be a quick reference to include the ability to boot the CD which you will burn.  The)S
0 567.6 M(CD-Writing-HOWTO should give you an in-depth reference.)S
0 556.8 M 487.0 2.0 F
17/F9 SF 0 520 M(11.1. What is El Torito?)S
11/F4 SF 0 492.4 M(For the x86 platform, many BIOS's have begun to support bootable CDs. The patches for mkisofs is based on)S
0 479.2 M(the standard called "El Torito". Simply put, El Torito is a specification that says how a cdrom should  be)S
0 466 M(formatted such that you can directly boot from it.)S
0 439.6 M(The "El Torito" spec says that )S
11/F6 SF (any)S
11/F4 SF ( cdrom drive should work \(SCSI or EIDE\) as long as the BIOS supports El)S
0 426.4 M(Torito.  So far this has only been tested with EIDE drives because none of the SCSI controllers that has been)S
0 413.2 M(tested so far appears to support El Torito.  The motherboard definately has to support El Torito.  How do you)S
0 400 M(know if your motherboard supports "El Torito"?  Well, the ones that support it let you choose booting from)S
0 386.8 M(hard disk, Floppy, Network or CDROM. )S
0 376 M 487.0 2.0 F
17/F9 SF 0 339.2 M(11.2. How it Works)S
11/F4 SF 0 311.6 M(The El Torito standard works by making the CD drive appear, through BIOS calls, to be a normal floppy)S
0 298.4 M(drive.  This way you simply put any floppy size image \(exactly 1440k for a 1.44 meg floppy\) somewhere in)S
0 285.2 M(the ISO filesystem.  In the headers of the ISO fs you place a pointer to this image. The BIOS will then grab)S
0 272 M(this image from the CD and for all purposes it acts as if it were booting from the floppy drive.  This allows a)S
0 258.8 M(working LILO boot disk, for example, to simply be used as is. )S
0 232.4 M(Roughly speaking, the first 1.44 \(or 2.88 if supported\) Mbytes of the CD-ROM contains a floppy-disk image)S
0 219.2 M(supplied by you. This image is treated like a floppy by the BIOS and booted from.  \(As a consequence, while)S
0 206 M(booting from this virtual floppy, your original drive A: \()S
11/F0 SF (/dev/fd0)S
11/F4 SF (\) may not be accessible, but you can try)S
0 192.8 M(with )S
11/F0 SF (/dev/fd1)S
11/F4 SF (\). )S
0 182 M 487.0 2.0 F
17/F9 SF 0 145.2 M(11.3. How to make it work)S
11/F4 SF 0 117.6 M(First create a file, say "boot.img", which is an exact image of the bootable  floppy-disk which you want to)S
0 104.4 M(boot via the CD-ROM.  This must be an 1.44 MB  bootable floppy-disk.  The command below will do this )S
9/F0 SF 2 78 M(        dd if=/dev/fd0 of=boot.img bs=10k count=144)S
0 74 M 487.0 15.0 B
11/F4 SF 0 63 M(assuming the floppy is in the A: drive.)S
0 36.6 M(Place this image somewhere in the hierarchy which will be the source for the iso9660 filesystem. It is a good)S
11/F8 SF 0 0 M(11. Creating bootable CD-ROMs)S
474.8 0 M(28)S
GR
SP
%%Page: 29 32
GS
72 36 T
0.88 0.88 0.88 C 0 223.2 M 487.0 15.0 F
0 471.8 M 487.0 15.0 F
0.00 0.00 0.00 C 11/F4 SF 0 687 M(idea to put all boot related files in their own directory \("boot/" under the root of the iso9660 fs, for example\).)S
0 660.6 M(One caveat -- Your boot floppy )S
11/F6 SF (must)S
11/F4 SF ( load any initial ramdisk via LILO, not the kernel ramdisk driver!  This)S
0 647.4 M(is because once the linux kernel starts up, the BIOS emulation of the CD as a floppy disk is circumvented and)S
0 634.2 M(will fail.  LILO will load the initial ramdisk using BIOS disk calls, so the emulation works as designed.)S
0 607.8 M(The El Torito specification requires a "boot catalog" to be created as well.  This is a 2048 byte file which is of)S
0 594.6 M(no interest except it is required. The patchwork done by the author of mkisofs will cause it to automatically)S
0 581.4 M(create the boot catalog, but you must specify where the boot catalog will go in the iso9660 filesystem.)S
0 568.2 M(Usually it is a good idea to put it in the same place as the boot image, and a name like)S
11/F0 SF 0 555 M(boot.catalog)S
11/F4 SF ( seems appropriate.)S
0 528.6 M(So we have our boot image in the file )S
11/F0 SF (boot.img)S
11/F4 SF (, and we are going to put it in the directory )S
11/F0 SF (boot/)S
11/F4 SF ( under)S
0 515.4 M(the root of the iso9660 filesystem. We will have the boot catalog go in the same directory with the name)S
11/F0 SF 0 502.2 M(boot.catalog)S
11/F4 SF (.  The command to create the iso9660 fs in the file )S
11/F0 SF (bootcd.iso)S
11/F4 SF ( is then: )S
9/F0 SF 2 475.8 M(mkisofs -r -b boot/boot.img -c boot/boot.catalog -o bootcd.iso .)S
0 471.8 M 487.0 15.0 B
11/F4 SF 0 460.8 M(The )S
11/F0 SF (-b)S
11/F4 SF ( option specifies the boot image to be used \(note the path is relative to the root of the iso9660 disk\),)S
0 447.6 M(and the )S
11/F0 SF (-c)S
11/F4 SF ( option is for the boot catalog file.  The )S
11/F0 SF (-r)S
11/F4 SF ( option will make approptiate file ownerships and modes)S
0 434.4 M(\(see the )S
11/F0 SF (mkisofs)S
11/F4 SF ( manpage\). The "."  in the end says to take the source from the current directory. )S
0 408 M(Now burn the CD with the usual cdrecord command and it is ready to boot.)S
0 397.2 M 487.0 2.0 F
17/F9 SF 0 360.4 M(11.4. Create Win9x Bootable CD-Roms)S
11/F4 SF 0 332.8 M(The first step is to get hold of the bootable image used by the source CD.  But you cannot simply mount the)S
0 319.6 M(CD under linux and dd the first 1440k to a floppy disk or to a file like )S
11/F0 SF (boot.img)S
11/F4 SF (.  Instead you simply boot)S
0 306.4 M(with the source CD-ROM. )S
0 280 M(When you boot the Win98 CD you are dropped to A: prompt which is the actual ramdisk.  And D: or Z: is)S
0 266.8 M(where all the installables are residing.  By using the diskcopy command of dos copy the A: image into the)S
0 253.6 M(actual floppy drive which is now B:  The command below will do this. )S
9/F0 SF 2 227.2 M(diskcopy A: B: )S
0 223.2 M 487.0 15.0 B
11/F4 SF 0 212.2 M(It works just like dd.  You can try booting from this newly created disk to test if the booting process is similar)S
0 199 M(to that of the source CD.  Then the usual dd of this floppy to a file like boot.img and then rest is as usual.)S
0 188.2 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(11.4. Create Win9x Bootable CD-Roms)S
474.8 0 M(29)S
GR
SP
%%Page: 30 33
GS
72 36 T
20/F9 SF 0 678 M(12. Frequently Asked Question \(FAQ\) list)S
11/F6 SF 0 649.8 M(Q: I boot from my boot/root disks and nothing happens. What do I do?)S
0 636.6 M(Q: How does the Slackware/Debian/RedHat bootdisk work?)S
0 623.4 M(Q: How do I use higher-density \(> 1440K\) diskettes?  How do I figure out which densities will work with my)S
0 610.2 M(diskette drive?)S
0 597 M(Q: How do I increase the size of my ramdisks?)S
0 583.8 M(Q: How do I make bootable CD-ROMs? )S
0 570.6 M(Q: How do I make bootable LS-120 disks?)S
0 557.4 M(Q: How can I make a boot disk with a XYZ driver?)S
0 544.2 M(Q: How do I update my root diskette with new files?)S
0 531 M(Q: How do I remove LILO so that I can use DOS to boot again?)S
0 517.8 M(Q: How can I boot if I've lost my kernel and my boot disk?)S
0 504.6 M(Q: How can I make extra copies of boot/root diskettes?)S
0 491.4 M(Q: How can I boot without typing in \34ahaxxxx=nn,nn,nn\35 every time?)S
0 478.2 M(Q: At boot time, I get error \34)S
11/F2 SF (A: cannot execute B)S
11/F6 SF (\35. Why?)S
0 465 M(Q: My kernel has ramdisk support, but initializes ramdisks of 0K.  Why?)S
11/F5 SF 0 438.6 M(Q: )S
11/F6 SF (I boot from my boot/root disks and nothing happens. What do I do?)S
11/F5 SF 0 412.2 M(A: )S
11/F4 SF (See Section 7, above.)S
11/F5 SF 0 385.8 M(Q: )S
11/F6 SF (How does the Slackware/Debian/RedHat bootdisk work?)S
11/F5 SF 0 359.4 M(A: )S
11/F4 SF (See Section 10, above.)S
11/F5 SF 0 333 M(Q: )S
11/F6 SF (How do I use higher-density \(> 1440K\) diskettes?  How do I figure out which densities will work with my)S
0 319.8 M(diskette drive?)S
11/F5 SF 0 293.4 M(A: )S
11/F4 SF (See Section Section 8, above, for the comments by Alain Knaff on this subject.  His is the most)S
0 280.2 M(authoritative answer I know of.)S
11/F5 SF 0 253.8 M(Q: )S
11/F6 SF (How do I increase the size of my ramdisks?)S
11/F5 SF 0 227.4 M(A: )S
11/F4 SF (This probably should be explained better in the text, but I'll put an answer here for the time being.)S
0 201 M(First, )S
11/F6 SF (do not)S
11/F4 SF ( attempt to use the )S
11/F0 SF (rdev)S
11/F4 SF ( or )S
11/F0 SF (ramsize)S
11/F4 SF ( commands to do this, no matter what their documentation)S
0 187.8 M(says.  The ramdisk word no longer determines the size of ramdisks.)S
0 161.4 M(Second, keep in mind that ramdisks are actually dynamic; when you set a ramdisk size you aren't allocating)S
0 148.2 M(any memory, you're just setting the limit of how large it can grow.  Don't be afraid to set these fairly large \(eg,)S
0 135 M(8 or even 16 meg\).  The RAM space is not actually consumed until you need it. You can set these limits in)S
0 121.8 M(one of several ways. )S
36 95.4 M(Use the )S
11/F0 SF (ramdisk_size=NNN)S
11/F4 SF ( command line parameter.  You can either enter this manually or use a)S
36 82.2 M(command like )S
11/F0 SF (append="ramdisk_size=NNN")S
11/F4 SF ( with LILO. )S
25 95.4 M(1. )S
36 69 M(If you're using LILO, you can use a kernel option like )S
11/F0 SF (ramdisk=8192K)S
11/F4 SF ( in the )S
11/F0 SF (lilo.conf)S
11/F4 SF ( file. )S
25 69 M(2. )S
36 55.8 M(Change the kernel configuration option )S
11/F0 SF (CONFIG_BLK_DEV_RAM_SIZE)S
11/F4 SF ( and recompile your)S
36 42.6 M(kernel. )S
25 55.8 M(3. )S
11/F8 SF 0 0 M(12. Frequently Asked Question \(FAQ\) list)S
474.8 0 M(30)S
GR
SP
%%Page: 31 34
GS
72 36 T
0.88 0.88 0.88 C 0 295.4 M 487.0 112.2 F
0.00 0.00 0.00 C 11/F5 SF 0 687 M(Q: )S
11/F6 SF (How do I make bootable CD-ROMs? )S
11/F5 SF 0 660.6 M(A: )S
11/F4 SF (See section Section 11.)S
11/F5 SF 0 634.2 M(Q: )S
11/F6 SF (How do I make bootable LS-120 disks?)S
11/F5 SF 0 607.8 M(A: )S
11/F4 SF (Since I don't have an LS-120 drive, the following information is summarized from  information provided)S
0 594.6 M(by Dave Cinege from the Linux Router Project.)S
0 568.2 M(The LS-120 is an IDE floppy drive.  It is compatible with both standard 3.5" disks and the new 120MB disks.)S
0 555 M(As of Linux v2.0.31 there is full support.  To be able to boot from these you must have a BIOS that)S
0 541.8 M(specifically allows the LS-120 to be treated as drive 0 \(whereas IDE devices normally start at 80\). If you do)S
0 528.6 M(not have BIOS support, you can purchase a small IDE FloppyMAX card from Promise Technologies to)S
0 515.4 M(overcome this deficiency.)S
0 489 M(The kernel boot loader does not like the LS-120, and instantly dies.  Also 2m disks do not like it and will not)S
0 475.8 M(boot.  1.44MB through 1.74MB disks will work fine.  SYSLINUX works with the 120MB disks as of v1.32.)S
0 462.6 M(You would better off partitioning the disk and using ext2 or minix, instead of SYSLINUX unless you need)S
0 449.4 M(MS-DOS compatibility.)S
0 423 M(LILO does work fine with 120MB disks. Here is a sample lilo.conf: )S
9/F0 SF 2 396.6 M(        boot=/dev/hda)S
2 385.8 M(        compact)S
2 375 M(        disk=/dev/hda bios=0)S
2 364.2 M(        install=/floppy/boot.b)S
2 353.4 M(        map=/floppy/map)S
2 342.6 M(        image=/floppy/linux)S
2 331.8 M(        label=Linux)S
2 321 M(        append="load_ramdisk=1")S
2 310.2 M(        initrd=/floppy/root.bin)S
2 299.4 M(        ramdisk=8192)S
0 295.4 M 487.0 112.2 B
11/F4 SF 0 284.4 M(The line "disk=/dev/hda bios=0" is what does the trick to make it boot the LS-120.)S
11/F5 SF 0 258 M(Q: )S
11/F6 SF (How can I make a boot disk with a XYZ driver?)S
11/F5 SF 0 231.6 M(A: )S
11/F4 SF (The easiest way is to obtain a Slackware kernel from your nearest Slackware mirror site. Slackware)S
0 218.4 M(kernels are generic kernels which atttempt to include drivers for as many devices as possible, so if you have a)S
0 205.2 M(SCSI or IDE controller, chances are that a driver for it is included in the Slackware kernel.)S
0 178.8 M(Go to the )S
11/F0 SF (a1)S
11/F4 SF ( directory and select either IDE or SCSI kernel depending on the type of controller you have.)S
0 165.6 M(Check the xxxxkern.cfg file for the selected kernel to see the drivers which have been included in that kernel.)S
0 152.4 M(If the device you want is in that list, then the corresponding kernel should boot your computer. Download the)S
0 139.2 M(xxxxkern.tgz file and copy it to your boot diskette as described above in the section on making boot disks.)S
0 112.8 M(You must then check the root device in the kernel, using the command )S
11/F5 SF (rdev zImage)S
11/F4 SF (.  If this is not the same as)S
0 99.6 M(the root device you want, use )S
11/F5 SF (rdev)S
11/F4 SF ( to change it.  For example, the kernel I tried was set to )S
11/F0 SF (/dev/sda2)S
11/F4 SF (, but)S
0 86.4 M(my root SCSI partition is )S
11/F0 SF (/dev/sda8)S
11/F4 SF (.  To use a root diskette, you would have to use the command )S
11/F5 SF (rdev)S
0 73.2 M(zImage /dev/fd0)S
11/F4 SF (.)S
0 46.8 M(If you want to know how to set up a Slackware root disk as well, that's outside the scope of this HOWTO, so)S
0 33.6 M(I suggest you check the Linux Install Guide or get the Slackware distribution.  See the section in this HOWTO)S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(12. Frequently Asked Question \(FAQ\) list)S
474.8 0 M(31)S
GR
SP
%%Page: 32 35
GS
72 36 T
0.88 0.88 0.88 C 0 22 M 487.0 39.4 F
0 351.8 M 487.0 15.0 F
0 446 M 487.0 15.0 F
0 566.6 M 487.0 25.8 F
0.00 0.00 0.00 C 11/F4 SF 0 687 M(titled ``References''.)S
11/F5 SF 0 660.6 M(Q: )S
11/F6 SF (How do I update my root diskette with new files?)S
11/F5 SF 0 634.2 M(A: )S
11/F4 SF ( The easiest way is to copy the filesystem from the rootdisk back to the DEVICE you used \(from Section)S
0 621 M(4.2, above\). Then mount the filesystem and make the changes.  You have to remember where your root)S
0 607.8 M(filesystem started and how many blocks it occupied: )S
9/F0 SF 2 581.4 M(        dd if=/dev/fd0 bs=1k skip=ROOTBEGIN count=BLOCKS | gunzip > )S
(DEVICE)S
2 570.6 M(        mount -t ext2 )S
(DEVICE)S
( /mnt)S
0 566.6 M 487.0 25.8 B
11/F4 SF 0 555.6 M(After making the changes, proceed as before \(in Section 4.7\) and transfer the root filesystem back to the disk.)S
0 542.4 M(You should not have to re-transfer the kernel or re-compute the ramdisk word if you do not change the)S
0 529.2 M(starting position of the new root filesystem.)S
11/F5 SF 0 502.8 M(Q: )S
11/F6 SF (How do I remove LILO so that I can use DOS to boot again?)S
11/F5 SF 0 476.4 M(A: )S
11/F4 SF (This is not really a Bootdisk topic, but it is asked often.  Within Linux, you  can run: )S
9/F0 SF 2 450 M(        /sbin/lilo -u)S
0 446 M 487.0 15.0 B
11/F4 SF 0 421.8 M(You can also use the )S
11/F5 SF (dd)S
11/F4 SF ( command to copy the backup saved by LILO to the boot sector.  Refer to the LILO)S
0 408.6 M(documentation if you wish to do this.)S
0 382.2 M(Within DOS and Windows you can use the DOS command: )S
9/F0 SF 2 355.8 M(        FDISK /MBR)S
0 351.8 M 487.0 15.0 B
11/F4 SF 0 340.8 M(MBR stands for Master Boot Record.  This command replaces the boot sector with a clean DOS one, without)S
0 327.6 M(affecting the partition table.  Some purists disagree with this, but even the author of LILO, Werner)S
0 314.4 M(Almesberger, suggests it.  It is easy, and it works.)S
11/F5 SF 0 288 M(Q: )S
11/F6 SF (How can I boot if I've lost my kernel and my boot disk?)S
11/F5 SF 0 261.6 M(A: )S
11/F4 SF (If you don't have a boot disk standing by, probably the easiest method is to obtain a Slackware kernel for)S
0 248.4 M(your disk controller type \(IDE or SCSI\) as described above for ``How do I make a boot disk with a XXX)S
0 235.2 M(driver?''.  You can then boot your computer using this kernel, then repair whatever damage there is.)S
0 208.8 M(The kernel you get may not have the root device set to the disk type and partition you want. For example,)S
0 195.6 M(Slackware's generic SCSI kernel has the root device set to )S
11/F0 SF (/dev/sda2)S
11/F4 SF (, whereas my root Linux partition)S
0 182.4 M(happens to be )S
11/F0 SF (/dev/sda8)S
11/F4 SF (.  In this case the root device in the kernel will have to be changed.)S
0 156 M(You can still change the root device and ramdisk settings in the kernel even if all you have is a kernel, and)S
0 142.8 M(some other operating system, such as DOS.)S
11/F5 SF 0 116.4 M(rdev)S
11/F4 SF ( changes kernel settings by changing the values at fixed offsets in the kernel file, so you can do the same)S
0 103.2 M(if you have a hex editor available on whatever systems you do still have running -- for example, Norton)S
0 90 M(Utilities Disk Editor under DOS.  You then need to check and if necessary change the values in the kernel at)S
0 76.8 M(the following offsets: )S
9/F0 SF 2 50.4 M(HEX     DEC  DESCRIPTION)S
2 39.6 M(0x01F8  504  Low byte of RAMDISK word)S
2 28.8 M(0x01F9  505  High byte of RAMDISK word)S
0 22 M 0.0 39.4 B
487 22 M 0.0 39.4 B
0 61.4 M 487.0 L
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(12. Frequently Asked Question \(FAQ\) list)S
474.8 0 M(32)S
GR
SP
%%Page: 33 36
GS
72 36 T
0.88 0.88 0.88 C 0 39.2 M 487.0 15.0 F
0 133.4 M 487.0 15.0 F
0 201.2 M 487.0 15.0 F
0 295.4 M 487.0 15.0 F
0 534.8 M 487.0 58.2 F
0 672.2 M 487.0 25.8 F
0.00 0.00 0.00 C 9/F0 SF 2 687 M(0x01FC  508  Root minor device number - see below)S
2 676.2 M(0X01FD  509  Root major device number - see below)S
0 672.2 M 0.0 25.8 B
487 672.2 M 0.0 25.8 B
0 672.2 M 487.0 L
11/F4 SF 0 648 M(The interpretation of the ramdisk word was described in Section 6.3, above.)S
0 621.6 M(The major and minor device numbers must be set to the device you want to mount your root filesystem on.)S
0 608.4 M(Some useful values to select from are: )S
9/F0 SF 2 582 M(DEVICE          MAJOR MINOR)S
2 571.2 M(/dev/fd0            2     0   1st floppy drive)S
2 560.4 M(/dev/hda1           3     1   partition 1 on 1st IDE drive)S
2 549.6 M(/dev/sda1           8     1   partition 1 on 1st SCSI drive)S
2 538.8 M(/dev/sda8           8     8   partition 8 on 1st SCSI drive)S
0 534.8 M 487.0 58.2 B
11/F4 SF 0 523.8 M(Once you have set these values then you can write the file to a diskette using either Norton Utilities Disk)S
0 510.6 M(Editor, or a program called )S
11/F5 SF (rawrite.exe)S
11/F4 SF (.  This program is included in all distributions.  It is a DOS program)S
0 497.4 M(which writes a file to the ``raw'' disk, starting at the boot sector, instead of writing it to the file system.  If you)S
0 484.2 M(use Norton Utilities you must write the file to a physical disk starting at the beginning of the disk.)S
11/F5 SF 0 457.8 M(Q: )S
11/F6 SF (How can I make extra copies of boot/root diskettes?)S
11/F5 SF 0 431.4 M(A: )S
11/F4 SF (Because magnetic media may deteriorate over time, you should keep several copies of your rescue disk, in)S
0 418.2 M(case the original is unreadable.)S
0 391.8 M(The easiest way of making copies of any diskettes, including bootable and utility diskettes, is to use the)S
11/F5 SF 0 378.6 M(dd)S
11/F4 SF ( command to copy the contents of the original diskette to a file on your hard drive, and then use the same)S
0 365.4 M(command to copy the file back to a new diskette. Note that you do not need to, and should not, mount the)S
0 352.2 M(diskettes, because )S
11/F5 SF (dd)S
11/F4 SF ( uses the raw device interface.)S
0 325.8 M(To copy the original, enter the command: )S
9/F0 SF 2 299.4 M(        dd if=)S
(DEVICENAME)S
( of=)S
(FILENAME)S
0 295.4 M 487.0 15.0 B
11/F4 SF 0 284.4 M(where DEVICENAME is the device name of the diskette drive and FILENAME is the name of the)S
0 271.2 M(\(hard-disk\) output file.  Omitting the )S
11/F0 SF (count)S
11/F4 SF ( parameter causes )S
11/F5 SF (dd)S
11/F4 SF ( to copy the whole diskette \(2880 blocks if)S
0 258 M(high-density\).)S
0 231.6 M(To copy the resulting file back to a new diskette, insert the new diskette and enter the reverse command: )S
9/F0 SF 2 205.2 M(        dd if=)S
(FILENAME)S
( of=)S
(DEVICENAME)S
0 201.2 M 487.0 15.0 B
11/F4 SF 0 177 M(Note that the above discussion assumes that you have only one diskette drive. If you have two of the same)S
0 163.8 M(type, you can copy diskettes using a command like: )S
9/F0 SF 2 137.4 M(        dd if=/dev/fd0 of=/dev/fd1)S
0 133.4 M 487.0 15.0 B
11/F5 SF 0 109.2 M(Q: )S
11/F6 SF (How can I boot without typing in \34ahaxxxx=nn,nn,nn\35 every time?)S
11/F5 SF 0 82.8 M(A: )S
11/F4 SF ( Where a disk device cannot be autodetected it is necessary to supply the kernel with a command device)S
0 69.6 M(parameter string, such as: )S
9/F0 SF 2 43.2 M(        aha152x=0x340,11,3,1)S
0 39.2 M 487.0 15.0 B
11/F4 SF 0 28.2 M(This parameter string can be supplied in several ways using LILO: )S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(12. Frequently Asked Question \(FAQ\) list)S
474.8 0 M(33)S
GR
SP
%%Page: 34 37
GS
72 36 T
0.88 0.88 0.88 C 0 483.2 M 487.0 15.0 F
0 577.4 M 487.0 15.0 F
0.00 0.00 0.00 C 11/F4 SF 36 687 M(By entering it on the command line every time the system is booted via LILO.  This is boring, though. )S
11/Fc SF 28.2 687 M(\267 )S
11/F4 SF 36 673.8 M(By using LILO's )S
11/F0 SF (lock)S
11/F4 SF ( keyword to make it store the command line as the default command line, so)S
36 660.6 M(that LILO will use the same options every time it boots. )S
11/Fc SF 28.2 673.8 M(\267 )S
11/F4 SF 36 647.4 M(By using the )S
11/F0 SF (append=)S
11/F4 SF ( statement in the LILO config file. Note that the parameter string must be)S
36 634.2 M(enclosed in quotes. )S
11/Fc SF 28.2 647.4 M(\267 )S
11/F4 SF 0 607.8 M(For example, a sample command line using the above parameter string would be: )S
9/F0 SF 2 581.4 M(        zImage  aha152x=0x340,11,3,1 root=/dev/sda1 lock)S
0 577.4 M 487.0 15.0 B
11/F4 SF 0 553.2 M(This would pass the device parameter string through, and also ask the kernel to set the root device to)S
11/F0 SF 0 540 M(/dev/sda1)S
11/F4 SF ( and save the whole command line and reuse it for all future boots.)S
0 513.6 M(A sample APPEND statement is: )S
9/F0 SF 2 487.2 M(        APPEND = \34aha152x=0x340,11,3,1\35)S
0 483.2 M 487.0 15.0 B
11/F4 SF 0 459 M(Note that the parameter string must )S
11/F6 SF (not)S
11/F4 SF ( be enclosed in quotes on the command line, but it )S
11/F6 SF (must)S
11/F4 SF ( be enclosed in)S
0 445.8 M(quotes in the )S
11/F0 SF (APPEND)S
11/F4 SF ( statement.)S
0 419.4 M(Note also that for the parameter string to be acted on, the kernel must contain the driver for that disk type.  If)S
0 406.2 M(it does not, then there is nothing listening for the parameter string, and you will have to rebuild the kernel to)S
0 393 M(include the required driver.  For details on rebuilding the kernel, go to )S
11/F0 SF ( /usr/src/linux)S
11/F4 SF ( and read the)S
0 379.8 M(README, and read the Linux FAQ and Installation HOWTO.  Alternatively you could obtain a generic)S
0 366.6 M(kernel for the disk type and install that.)S
0 340.2 M(Readers are strongly urged to read the LILO documentation before experimenting with LILO installation.)S
0 327 M(Incautious use of the )S
11/F0 SF (BOOT)S
11/F4 SF ( statement can damage partitions.)S
11/F5 SF 0 300.6 M(Q: )S
11/F6 SF (At boot time, I get error \34)S
11/F2 SF (A: cannot execute B)S
11/F6 SF (\35. Why?)S
11/F5 SF 0 274.2 M(A: )S
11/F4 SF ( There are several cases of program names being hardcoded in various utilities. These cases do not occur)S
0 261 M(everywhere, but they may explain why an executable apparently cannot be found on your system even though)S
0 247.8 M(you can see that it is there.  You can find out if a given program has the name of another hardcoded by using)S
0 234.6 M(the )S
11/F5 SF (strings)S
11/F4 SF ( command and piping the output through )S
11/F5 SF (grep)S
11/F4 SF (.)S
0 208.2 M(Known examples of hardcoding are: )S
11/F5 SF 36 181.8 M(shutdown)S
11/F4 SF ( in some versions has )S
11/F0 SF (/etc/reboot)S
11/F4 SF ( hardcoded, so )S
11/F5 SF (reboot)S
11/F4 SF ( must be placed in the)S
11/F0 SF 36 168.6 M(/etc)S
11/F4 SF ( directory. )S
11/Fc SF 28.2 181.8 M(\267 )S
11/F5 SF 36 155.4 M(init)S
11/F4 SF ( has caused problems for at least one person, with the kernel being unable to find )S
11/F5 SF (init)S
11/F4 SF (. )S
11/Fc SF 28.2 155.4 M(\267 )S
11/F4 SF 0 129 M(To fix these problems, either move the programs to the correct directory, or change configuration files \(e.g.)S
11/F0 SF 0 115.8 M(inittab)S
11/F4 SF (\) to point to the correct directory.  If in doubt, put programs in the same directories as they are on)S
0 102.6 M(your hard disk, and use the same )S
11/F0 SF (inittab)S
11/F4 SF ( and )S
11/F0 SF (/etc/rc.d)S
11/F4 SF ( files as they appear on your hard disk.)S
11/F5 SF 0 76.2 M(Q: )S
11/F6 SF (My kernel has ramdisk support, but initializes ramdisks of 0K.  Why?)S
11/F5 SF 0 49.8 M(A: )S
11/F4 SF (Where this occurs, a kernel message like this will appear as the kernel is booting: )S
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(12. Frequently Asked Question \(FAQ\) list)S
474.8 0 M(34)S
GR
SP
%%Page: 35 38
GS
72 36 T
0.88 0.88 0.88 C 0 615.2 M 487.0 15.0 F
0 683 M 487.0 15.0 F
0.00 0.00 0.00 C 9/F0 SF 2 687 M(        Ramdisk driver initialized : 16 ramdisks of 0K size)S
0 683 M 487.0 15.0 B
11/F4 SF 0 658.8 M(This is probably because the size has been set to 0 by kernel parameters at boot time.  This could possibly be)S
0 645.6 M(because of an overlooked LILO configuration file parameter: )S
9/F0 SF 2 619.2 M(    ramdisk= 0)S
0 615.2 M 487.0 15.0 B
11/F4 SF 0 591 M(This was included in sample LILO configuration files in some older distributions, and was put there to)S
0 577.8 M(override any previous kernel setting.  If you have such a line, remove it.)S
0 551.4 M(Note that if you attempt to use a ramdisk of 0 size, the behaviour can be unpredictable, and can result in)S
0 538.2 M(kernel panics.)S
0 527.4 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(12. Frequently Asked Question \(FAQ\) list)S
474.8 0 M(35)S
GR
SP
%%Page: 36 39
GS
72 36 T
20/F9 SF 0 678 M(A. Resources and pointers)S
11/F4 SF 0 649.8 M(When retrieving a package, always get the latest version unless you have good reasons for not doing so.)S
0 639 M 487.0 2.0 F
11/F8 SF 0 0 M(A. Resources and pointers)S
474.8 0 M(36)S
GR
SP
%%Page: 37 40
GS
72 36 T
20/F9 SF 0 678 M(A.1. Pre-made Bootdisks)S
11/F4 SF 0 649.8 M(These are sources for distribution bootdisks. )S
11/F6 SF ( Please use one of the mirror sites to reduce the load on these)S
0 636.6 M(machines.)S
11/F4 SF 36 610.2 M(Slackware bootdisks, rootdisks and Slackware mirror sites)S
11/Fc SF 28.2 610.2 M(\267 )S
11/F4 SF 36 597 M(RedHat bootdisks and Red Hat mirror sites)S
11/Fc SF 28.2 597 M(\267 )S
11/F4 SF 36 583.8 M(Debian bootdisks and Debian mirror sites)S
11/Fc SF 28.2 583.8 M(\267 )S
11/F4 SF 36 570.6 M(Mandrake downloads)S
11/Fc SF 28.2 570.6 M(\267 )S
11/F4 SF 0 544.2 M(In addition to the distribution bootdisks, the following rescue disk images are available.  Unless otherwise)S
0 531 M(specified, these are available in the directory)S
11/F0 SF 0 517.8 M(http://www.ibiblio.org/pub/Linux/system/recovery/!INDEX.html)S
36 491.4 M(RIP)S
11/F4 SF ( is a boot/rescue system which comes in several versions: one that fits on a 1.44M floppy)S
36 478.2 M(diskette and one that fits on a CD-ROM.  It has large file support and many utility programs for disk)S
36 465 M(maintenance and rescue.  It has support for ext2, ext3, iso9660, msdos, ntfs, reiserfs, ufs and vfat.  RIP)S
36 451.8 M(is available from  http://www.tux.org/pub/people/kent-robotti/looplinux/rip/index.html)S
11/Fc SF 28.2 491.4 M(\267 )S
11/F0 SF 36 438.6 M(tomsrtbt)S
11/F4 SF (, by Tom Oehser, is a single-disk boot/root disk based on kernel 2.0, with a large set of)S
36 425.4 M(features and support programs.  It supports IDE, SCSI, tape, network adaptors, PCMCIA and more.)S
36 412.2 M(About 100 utility programs and tools are included for fixing and restoring disks. The package also)S
36 399 M(includes scripts for disassembling and reconstructing the images so that new material can be added if)S
36 385.8 M(necessary. )S
11/Fc SF 28.2 438.6 M(\267 )S
11/F0 SF 36 372.6 M(rescue02)S
11/F4 SF (, by John Comyns, is a rescue disk based on kernel 1.3.84, with support for IDE and)S
36 359.4 M(Adaptec 1542 and NCR53C7,8xx.  It uses ELF binaries but it has enough commands so that it can be)S
36 346.2 M(used on any system. There are modules that can be loaded after booting for all other SCSI cards.  It)S
36 333 M(probably won't work on systems with 4 mb of ram since it uses a 3 mb ram disk. )S
11/Fc SF 28.2 372.6 M(\267 )S
11/F0 SF 36 319.8 M(resque_disk-2.0.22)S
11/F4 SF (, by Sergei Viznyuk, is a full-featured boot/root disk based on kernel)S
36 306.6 M(2.0.22 with built-in support for IDE, many difference SCSI controllers, and ELF/AOUT.  Also)S
36 293.4 M(includes many modules and useful utilities for repairing and restoring a hard disk. )S
11/Fc SF 28.2 319.8 M(\267 )S
11/F0 SF 36 280.2 M(cramdisk)S
11/F4 SF ( images, based on the 2.0.23 kernel, available for 4 meg and 8 meg machines.  They)S
36 267 M(include math emulation and networking \(PPP and dialin script, NE2000, 3C509\), or support for the)S
36 253.8 M(parallel port ZIP drive.  These diskette images will boot on a 386 with 4MB RAM.  MSDOS support is)S
36 240.6 M(included so you can download from the net to a DOS partition. )S
11/Fc SF 28.2 280.2 M(\267 )S
0 229.8 M 487.0 2.0 F
11/F8 SF 0 0 M(A.1. Pre-made Bootdisks)S
474.8 0 M(37)S
GR
SP
%%Page: 38 41
GS
72 36 T
20/F9 SF 0 678 M(A.2. Rescue packages)S
11/F4 SF 0 649.8 M(Several packages for creating rescue disks are available on www.ibiblio.org.  With these packages you specify)S
0 636.6 M(a set of files for inclusion and the software automates \(to varying degrees\) the creation of a bootdisk. See)S
11/F0 SF 0 623.4 M(http://www.ibiblio.org/pub/Linux/system/recovery/!INDEX.html)S
11/F4 SF ( for more)S
0 610.2 M(information. )S
11/F6 SF ( Check the file dates carefully)S
11/F4 SF (. Some of these packages have not been updated in several years)S
0 597 M(and will not support the creation of a compressed root filesystem loaded into ramdisk.  To the best of our)S
0 583.8 M(knowledge, Yard is the only package that will.)S
0 573 M 487.0 2.0 F
11/F8 SF 0 0 M(A.2. Rescue packages)S
474.8 0 M(38)S
GR
SP
%%Page: 39 42
GS
72 36 T
20/F9 SF 0 678 M(A.3. LILO -- the Linux loader)S
11/F4 SF 0 649.8 M(Written by Werner Almesberger.  Excellent boot loader, and the documentation includes information on the)S
0 636.6 M(boot sector contents and the early stages of the boot process.)S
0 610.2 M(Ftp from ftp://tsx-11.mit.edu/pub/linux/packages/lilo/.  It is also available on Metalab and mirrors.)S
0 599.4 M 487.0 2.0 F
11/F8 SF 0 0 M(A.3. LILO -- the Linux loader)S
474.8 0 M(39)S
GR
SP
%%Page: 40 43
GS
72 36 T
20/F9 SF 0 678 M(A.4. Ramdisk usage)S
11/F4 SF 0 649.8 M(An excellent description of the how the ramdisk code works may be found with the documentation supplied)S
0 636.6 M(with the Linux kernel.  See )S
11/F0 SF (/usr/src/linux/Documentation/ramdisk.txt)S
11/F4 SF (.  It is written by Paul)S
0 623.4 M(Gortmaker and includes a section on creating a compressed ramdisk.)S
0 612.6 M 487.0 2.0 F
11/F8 SF 0 0 M(A.4. Ramdisk usage)S
474.8 0 M(40)S
GR
SP
%%Page: 41 44
GS
72 36 T
20/F9 SF 0 678 M(A.5. The Linux boot process)S
11/F4 SF 0 649.8 M(For more detail on the Linux boot process, here are some pointers: )S
36 623.4 M(The )S
11/F6 SF (Linux System Administrators' Guide)S
11/F4 SF ( has a section on booting. )S
11/Fc SF 28.2 623.4 M(\267 )S
11/F4 SF 36 610.2 M(The LILO ``Technical overview'' has the definitive technical, low-level description of the boot)S
36 597 M(process, up to where the kernel is started. )S
11/Fc SF 28.2 610.2 M(\267 )S
11/F4 SF 36 583.8 M(The source code is the ultimate guide.  Below are some kernel files related to the boot process.  If you)S
36 570.6 M(have the Linux kernel source code, you can find these under )S
11/F0 SF (/usr/src/linux)S
11/F4 SF ( on your machine;)S
36 557.4 M(alternatively, Shigio Yamaguchi \(shigio at tamacom.com\) has a very nice hypertext kernel)S
36 544.2 M(browser for reading kernel source files.  Here are some relevant files to look at: )S
11/Fc SF 28.2 583.8 M(\267 )S
11/F2 SF 0 517.8 M(arch/i386/boot/bootsect.S)S
11/F6 SF ( and )S
11/F2 SF (setup.S)S
11/F4 SF 36 491.4 M(Contain assembly code for the bootsector itself.)S
11/F2 SF 0 465 M(arch/i386/boot/compressed/misc.c)S
11/F4 SF 36 438.6 M(Contains code for uncompressing the kernel.)S
11/F2 SF 0 412.2 M(arch/i386/kernel/)S
11/F4 SF 36 385.8 M(Directory containing kernel initialization code. )S
11/F0 SF (setup.c)S
11/F4 SF ( defines the ramdisk word.)S
11/F2 SF 0 359.4 M(drivers/block/rd.c)S
11/F4 SF 36 333 M(Contains the ramdisk driver. The procedures )S
11/F5 SF (rd_load)S
11/F4 SF ( and )S
11/F5 SF (rd_load_image)S
11/F4 SF ( load blocks from a device)S
36 319.8 M(into a ramdisk.  The procedure )S
11/F5 SF (identify_ramdisk_image)S
11/F4 SF ( determines what kind of filesystem is found)S
36 306.6 M(and whether it is compressed.)S
0 295.8 M 487.0 2.0 F
11/F8 SF 0 0 M(A.5. The Linux boot process)S
474.8 0 M(41)S
GR
SP
%%Page: 42 45
GS
72 36 T
20/F9 SF 0 678 M(B. LILO boot error codes)S
11/F4 SF 0 649.8 M(Questions about these codes are asked so often on Usenet that we include them here as a public service.  This)S
0 636.6 M(summary is excerpted from Werner Almsberger's LILO User Documentation.)S
0 610.2 M(When LILO loads itself, it displays the word )S
11/F0 SF (LILO)S
11/F4 SF (.  Each letter is printed before or after performing some)S
0 597 M(specific action.  If LILO fails at some point, the letters printed so far can be used to identify the problem.)S
11/F5 SF 2 555.4 M(Output)S
65.4 555.4 M(Problem)S
0 549.2 M 63.4 19.2 B
63.4 549.2 M 424.7 19.2 B
11/F4 SF 2 536.2 M(\(nothing\))S
65.4 536.2 M(No part of LILO has been loaded.  LILO either isn't installed or  the partition on which its boot)S
65.4 523 M(sector is located isn't active. )S
0 516.8 M 63.4 32.4 B
63.4 516.8 M 424.7 32.4 B
2 503.8 M(L)S
65.4 503.8 M(The first stage boot loader has been loaded and started, but it  can't load the second stage boot)S
65.4 490.6 M(loader.  The two-digit error  codes indicate the type of problem. \(See also section ``Disk error)S
65.4 477.4 M(codes''.\)  This condition usually indicates a media failure or a  geometry mismatch \(e.g. bad)S
65.4 464.2 M(disk parameters\). )S
0 458 M 63.4 58.8 B
63.4 458 M 424.7 58.8 B
2 445 M(LI)S
65.4 445 M(The first stage boot loader was able to load the second stage boot  loader, but has failed to)S
65.4 431.8 M(execute it. This can either be caused by  a geometry mismatch or by moving)S
11/F0 SF 65.4 418.6 M(/boot/boot.b )S
11/F4 SF ( without running the map installer. )S
0 412.4 M 63.4 45.6 B
63.4 412.4 M 424.7 45.6 B
2 399.4 M(LIL)S
65.4 399.4 M(The second stage boot loader has been started, but it can't load  the descriptor table from the)S
65.4 386.2 M(map file. This is typically caused  by a media failure or by a geometry mismatch. )S
0 380 M 63.4 32.4 B
63.4 380 M 424.7 32.4 B
2 367 M(LIL?)S
65.4 367 M(The second stage boot loader has been loaded at an incorrect  address. This is typically caused)S
65.4 353.8 M(by a subtle geometry mismatch or  by moving )S
11/F0 SF (/boot/boot.b)S
11/F4 SF ( without running the  map)S
65.4 340.6 M(installer. )S
0 334.4 M 63.4 45.6 B
63.4 334.4 M 424.7 45.6 B
2 321.4 M(LIL-)S
65.4 321.4 M(The descriptor table is corrupt. This can either be caused by a  geometry mismatch or by)S
65.4 308.2 M(moving /boot/map without running the map  installer. )S
0 302 M 63.4 32.4 B
63.4 302 M 424.7 32.4 B
2 289 M(LILO)S
65.4 289 M(All parts of LILO have been successfully loaded. )S
0 282.8 M 63.4 19.2 B
63.4 282.8 M 424.7 19.2 B
0 258.6 M(If the BIOS signals an error when LILO is trying to load a boot image, the respective error code is displayed.)S
0 245.4 M(These codes range from )S
11/F0 SF (0x00)S
11/F4 SF ( through )S
11/F0 SF (0xbb)S
11/F4 SF (.  See the LILO User Guide for an explanation of these.)S
0 234.6 M 487.0 2.0 F
11/F8 SF 0 0 M(B. LILO boot error codes)S
474.8 0 M(42)S
GR
SP
%%Page: 43 46
GS
72 36 T
0.88 0.88 0.88 C 0 22 M 487.3 638.8 F
0.00 0.00 0.00 C 20/F9 SF 0 678 M(C. Sample root filesystem listings)S
9/F0 SF 2 649.8 M(/:)S
2 639 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 bin)S
2 628.2 M(drwx--x--x   2 root     root         4096 Nov  1 15:39 dev)S
2 617.4 M(drwx--x--x   3 root     root         1024 Nov  1 15:39 etc)S
2 606.6 M(drwx--x--x   4 root     root         1024 Nov  1 15:39 lib)S
2 595.8 M(drwx--x--x   5 root     root         1024 Nov  1 15:39 mnt)S
2 585 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 proc)S
2 574.2 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 root)S
2 563.4 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 sbin)S
2 552.6 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 tmp)S
2 541.8 M(drwx--x--x   7 root     root         1024 Nov  1 15:39 usr)S
2 531 M(drwx--x--x   5 root     root         1024 Nov  1 15:39 var)S
2 509.4 M(/bin:)S
2 498.6 M(-rwx--x--x   1 root     root        62660 Nov  1 15:39 ash)S
2 487.8 M(-rwx--x--x   1 root     root         9032 Nov  1 15:39 cat)S
2 477 M(-rwx--x--x   1 root     root        10276 Nov  1 15:39 chmod)S
2 466.2 M(-rwx--x--x   1 root     root         9592 Nov  1 15:39 chown)S
2 455.4 M(-rwx--x--x   1 root     root        23124 Nov  1 15:39 cp)S
2 444.6 M(-rwx--x--x   1 root     root        23028 Nov  1 15:39 date)S
2 433.8 M(-rwx--x--x   1 root     root        14052 Nov  1 15:39 dd)S
2 423 M(-rwx--x--x   1 root     root        14144 Nov  1 15:39 df)S
2 412.2 M(-rwx--x--x   1 root     root        69444 Nov  1 15:39 egrep)S
2 401.4 M(-rwx--x--x   1 root     root          395 Nov  1 15:39 false)S
2 390.6 M(-rwx--x--x   1 root     root        69444 Nov  1 15:39 fgrep)S
2 379.8 M(-rwx--x--x   1 root     root        69444 Nov  1 15:39 grep)S
2 369 M(-rwx--x--x   3 root     root        45436 Nov  1 15:39 gunzip)S
2 358.2 M(-rwx--x--x   3 root     root        45436 Nov  1 15:39 gzip)S
2 347.4 M(-rwx--x--x   1 root     root         8008 Nov  1 15:39 hostname)S
2 336.6 M(-rwx--x--x   1 root     root        12736 Nov  1 15:39 ln)S
2 325.8 M(-rws--x--x   1 root     root        15284 Nov  1 15:39 login)S
2 315 M(-rwx--x--x   1 root     root        29308 Nov  1 15:39 ls)S
2 304.2 M(-rwx--x--x   1 root     root         8268 Nov  1 15:39 mkdir)S
2 293.4 M(-rwx--x--x   1 root     root         8920 Nov  1 15:39 mknod)S
2 282.6 M(-rwx--x--x   1 root     root        24836 Nov  1 15:39 more)S
2 271.8 M(-rws--x--x   1 root     root        37640 Nov  1 15:39 mount)S
2 261 M(-rwx--x--x   1 root     root        12240 Nov  1 15:39 mt)S
2 250.2 M(-rwx--x--x   1 root     root        12932 Nov  1 15:39 mv)S
2 239.4 M(-r-x--x--x   1 root     root        12324 Nov  1 15:39 ps)S
2 228.6 M(-rwx--x--x   1 root     root         5388 Nov  1 15:39 pwd)S
2 217.8 M(-rwx--x--x   1 root     root        10092 Nov  1 15:39 rm)S
2 207 M(lrwxrwxrwx   1 root     root            3 Nov  1 15:39 sh -> ash)S
2 196.2 M(-rwx--x--x   1 root     root        25296 Nov  1 15:39 stty)S
2 185.4 M(-rws--x--x   1 root     root        12648 Nov  1 15:39 su)S
2 174.6 M(-rwx--x--x   1 root     root         4444 Nov  1 15:39 sync)S
2 163.8 M(-rwx--x--x   1 root     root        19712 Nov  1 15:39 touch)S
2 153 M(-rwx--x--x   1 root     root          395 Nov  1 15:39 true)S
2 142.2 M(-rws--x--x   1 root     root        19084 Nov  1 15:39 umount)S
2 131.4 M(-rwx--x--x   1 root     root         5368 Nov  1 15:39 uname)S
2 120.6 M(-rwx--x--x   3 root     root        45436 Nov  1 15:39 zcat)S
2 99 M(/dev:)S
2 88.2 M(lrwxrwxrwx   1 root     root            6 Nov  1 15:39 cdrom -> cdu31a)S
2 77.4 M(brw-rw-r--   1 root     root      15,   0 May  5  1998 cdu31a)S
2 66.6 M(crw-------   1 root     root       4,   0 Nov  1 15:29 console)S
2 55.8 M(crw-rw-rw-   1 root     uucp       5,  64 Sep  9 19:46 cua0)S
2 45 M(crw-rw-rw-   1 root     uucp       5,  65 May  5  1998 cua1)S
2 34.2 M(crw-rw-rw-   1 root     uucp       5,  66 May  5  1998 cua2)S
0 22 M 0.0 638.8 B
487.3 22 M 0.0 638.8 B
0 660.8 M 487.3 L
11/F8 SF 0 0 M(C. Sample root filesystem listings)S
474.8 0 M(43)S
GR
SP
%%Page: 44 47
GS
72 36 T
0.88 0.88 0.88 C 0 22 M 487.3 676.0 F
0.00 0.00 0.00 C 9/F0 SF 2 687 M(crw-rw-rw-   1 root     uucp       5,  67 May  5  1998 cua3)S
2 676.2 M(brw-rw----   1 root     floppy     2,   0 Aug  8 13:54 fd0)S
2 665.4 M(brw-rw----   1 root     floppy     2,  36 Aug  8 13:54 fd0CompaQ)S
2 654.6 M(brw-rw----   1 root     floppy     2,  84 Aug  8 13:55 fd0D1040)S
2 643.8 M(brw-rw----   1 root     floppy     2,  88 Aug  8 13:55 fd0D1120)S
2 633 M(brw-rw----   1 root     floppy     2,  12 Aug  8 13:54 fd0D360)S
2 622.2 M(brw-rw----   1 root     floppy     2,  16 Aug  8 13:54 fd0D720)S
2 611.4 M(brw-rw----   1 root     floppy     2, 120 Aug  8 13:55 fd0D800)S
2 600.6 M(brw-rw----   1 root     floppy     2,  32 Aug  8 13:54 fd0E2880)S
2 589.8 M(brw-rw----   1 root     floppy     2, 104 Aug  8 13:55 fd0E3200)S
2 579 M(brw-rw----   1 root     floppy     2, 108 Aug  8 13:55 fd0E3520)S
2 568.2 M(brw-rw----   1 root     floppy     2, 112 Aug  8 13:55 fd0E3840)S
2 557.4 M(brw-rw----   1 root     floppy     2,  28 Aug  8 13:54 fd0H1440)S
2 546.6 M(brw-rw----   1 root     floppy     2, 124 Aug  8 13:55 fd0H1600)S
2 535.8 M(brw-rw----   1 root     floppy     2,  44 Aug  8 13:55 fd0H1680)S
2 525 M(brw-rw----   1 root     floppy     2,  60 Aug  8 13:55 fd0H1722)S
2 514.2 M(brw-rw----   1 root     floppy     2,  76 Aug  8 13:55 fd0H1743)S
2 503.4 M(brw-rw----   1 root     floppy     2,  96 Aug  8 13:55 fd0H1760)S
2 492.6 M(brw-rw----   1 root     floppy     2, 116 Aug  8 13:55 fd0H1840)S
2 481.8 M(brw-rw----   1 root     floppy     2, 100 Aug  8 13:55 fd0H1920)S
2 471 M(lrwxrwxrwx   1 root     root            7 Nov  1 15:39 fd0H360 -> fd0D360)S
2 460.2 M(lrwxrwxrwx   1 root     root            7 Nov  1 15:39 fd0H720 -> fd0D720)S
2 449.4 M(brw-rw----   1 root     floppy     2,  52 Aug  8 13:55 fd0H820)S
2 438.6 M(brw-rw----   1 root     floppy     2,  68 Aug  8 13:55 fd0H830)S
2 427.8 M(brw-rw----   1 root     floppy     2,   4 Aug  8 13:54 fd0d360)S
2 417 M(brw-rw----   1 root     floppy     2,   8 Aug  8 13:54 fd0h1200)S
2 406.2 M(brw-rw----   1 root     floppy     2,  40 Aug  8 13:54 fd0h1440)S
2 395.4 M(brw-rw----   1 root     floppy     2,  56 Aug  8 13:55 fd0h1476)S
2 384.6 M(brw-rw----   1 root     floppy     2,  72 Aug  8 13:55 fd0h1494)S
2 373.8 M(brw-rw----   1 root     floppy     2,  92 Aug  8 13:55 fd0h1600)S
2 363 M(brw-rw----   1 root     floppy     2,  20 Aug  8 13:54 fd0h360)S
2 352.2 M(brw-rw----   1 root     floppy     2,  48 Aug  8 13:55 fd0h410)S
2 341.4 M(brw-rw----   1 root     floppy     2,  64 Aug  8 13:55 fd0h420)S
2 330.6 M(brw-rw----   1 root     floppy     2,  24 Aug  8 13:54 fd0h720)S
2 319.8 M(brw-rw----   1 root     floppy     2,  80 Aug  8 13:55 fd0h880)S
2 309 M(brw-rw----   1 root     disk       3,   0 May  5  1998 hda)S
2 298.2 M(brw-rw----   1 root     disk       3,   1 May  5  1998 hda1)S
2 287.4 M(brw-rw----   1 root     disk       3,   2 May  5  1998 hda2)S
2 276.6 M(brw-rw----   1 root     disk       3,   3 May  5  1998 hda3)S
2 265.8 M(brw-rw----   1 root     disk       3,   4 May  5  1998 hda4)S
2 255 M(brw-rw----   1 root     disk       3,   5 May  5  1998 hda5)S
2 244.2 M(brw-rw----   1 root     disk       3,   6 May  5  1998 hda6)S
2 233.4 M(brw-rw----   1 root     disk       3,  64 May  5  1998 hdb)S
2 222.6 M(brw-rw----   1 root     disk       3,  65 May  5  1998 hdb1)S
2 211.8 M(brw-rw----   1 root     disk       3,  66 May  5  1998 hdb2)S
2 201 M(brw-rw----   1 root     disk       3,  67 May  5  1998 hdb3)S
2 190.2 M(brw-rw----   1 root     disk       3,  68 May  5  1998 hdb4)S
2 179.4 M(brw-rw----   1 root     disk       3,  69 May  5  1998 hdb5)S
2 168.6 M(brw-rw----   1 root     disk       3,  70 May  5  1998 hdb6)S
2 157.8 M(crw-r-----   1 root     kmem       1,   2 May  5  1998 kmem)S
2 147 M(crw-r-----   1 root     kmem       1,   1 May  5  1998 mem)S
2 136.2 M(lrwxrwxrwx   1 root     root           12 Nov  1 15:39 modem -> ttyS1)S
2 125.4 M(lrwxrwxrwx   1 root     root           12 Nov  1 15:39 mouse -> psaux)S
2 114.6 M(crw-rw-rw-   1 root     root       1,   3 May  5  1998 null)S
2 103.8 M(crwxrwxrwx   1 root     root      10,   1 Oct  5 20:22 psaux)S
2 93 M(brw-r-----   1 root     disk       1,   1 May  5  1998 ram)S
2 82.2 M(brw-rw----   1 root     disk       1,   0 May  5  1998 ram0)S
2 71.4 M(brw-rw----   1 root     disk       1,   1 May  5  1998 ram1)S
2 60.6 M(brw-rw----   1 root     disk       1,   2 May  5  1998 ram2)S
2 49.8 M(brw-rw----   1 root     disk       1,   3 May  5  1998 ram3)S
2 39 M(brw-rw----   1 root     disk       1,   4 May  5  1998 ram4)S
2 28.2 M(brw-rw----   1 root     disk       1,   5 May  5  1998 ram5)S
0 22 M 0.0 676.0 B
487.3 22 M 0.0 676.0 B
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(C. Sample root filesystem listings)S
474.8 0 M(44)S
GR
SP
%%Page: 45 48
GS
72 36 T
0.88 0.88 0.88 C 0 22 M 487.3 676.0 F
0.00 0.00 0.00 C 9/F0 SF 2 687 M(brw-rw----   1 root     disk       1,   6 May  5  1998 ram6)S
2 676.2 M(brw-rw----   1 root     disk       1,   7 May  5  1998 ram7)S
2 665.4 M(brw-rw----   1 root     disk       1,   8 May  5  1998 ram8)S
2 654.6 M(brw-rw----   1 root     disk       1,   9 May  5  1998 ram9)S
2 643.8 M(lrwxrwxrwx   1 root     root            4 Nov  1 15:39 ramdisk -> ram0)S
9/F2 SF 2 633 M(***  I have only included devices for the IDE partitions I use.)S
2 622.2 M(***  If you use SCSI, then use the /dev/sdXX devices instead.)S
9/F0 SF 2 611.4 M(crw-------   1 root     root       4,   0 May  5  1998 tty0)S
2 600.6 M(crw-w-----   1 root     tty        4,   1 Nov  1 15:39 tty1)S
2 589.8 M(crw-------   1 root     root       4,   2 Nov  1 15:29 tty2)S
2 579 M(crw-------   1 root     root       4,   3 Nov  1 15:29 tty3)S
2 568.2 M(crw-------   1 root     root       4,   4 Nov  1 15:29 tty4)S
2 557.4 M(crw-------   1 root     root       4,   5 Nov  1 15:29 tty5)S
2 546.6 M(crw-------   1 root     root       4,   6 Nov  1 15:29 tty6)S
2 535.8 M(crw-------   1 root     root       4,   7 May  5  1998 tty7)S
2 525 M(crw-------   1 root     tty        4,   8 May  5  1998 tty8)S
2 514.2 M(crw-------   1 root     tty        4,   9 May  8 12:57 tty9)S
2 503.4 M(crw-rw-rw-   1 root     root       4,  65 Nov  1 12:17 ttyS1)S
2 492.6 M(crw-rw-rw-   1 root     root       1,   5 May  5  1998 zero)S
2 471 M(/etc:)S
2 460.2 M(-rw-------   1 root     root          164 Nov  1 15:39 conf.modules)S
2 449.4 M(-rw-------   1 root     root          668 Nov  1 15:39 fstab)S
2 438.6 M(-rw-------   1 root     root           71 Nov  1 15:39 gettydefs)S
2 427.8 M(-rw-------   1 root     root          389 Nov  1 15:39 group)S
2 417 M(-rw-------   1 root     root          413 Nov  1 15:39 inittab)S
2 406.2 M(-rw-------   1 root     root           65 Nov  1 15:39 issue)S
2 395.4 M(-rw-r--r--   1 root     root          746 Nov  1 15:39 ld.so.cache)S
2 384.6 M(-rw-------   1 root     root           32 Nov  1 15:39 motd)S
2 373.8 M(-rw-------   1 root     root          949 Nov  1 15:39 nsswitch.conf)S
2 363 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 pam.d)S
2 352.2 M(-rw-------   1 root     root          139 Nov  1 15:39 passwd)S
2 341.4 M(-rw-------   1 root     root          516 Nov  1 15:39 profile)S
2 330.6 M(-rwx--x--x   1 root     root          387 Nov  1 15:39 rc)S
2 319.8 M(-rw-------   1 root     root           55 Nov  1 15:39 shells)S
2 309 M(-rw-------   1 root     root          774 Nov  1 15:39 termcap)S
2 298.2 M(-rw-------   1 root     root           78 Nov  1 15:39 ttytype)S
2 287.4 M(lrwxrwxrwx   1 root     root           15 Nov  1 15:39 utmp -> ../var/run/utmp)S
2 276.6 M(lrwxrwxrwx   1 root     root           15 Nov  1 15:39 wtmp -> ../var/log/wtmp)S
2 255 M(/etc/pam.d:)S
2 244.2 M(-rw-------   1 root     root          356 Nov  1 15:39 other)S
2 222.6 M(/lib:)S
2 211.8 M(-rwxr-xr-x   1 root     root        45415 Nov  1 15:39 ld-2.0.7.so)S
2 201 M(lrwxrwxrwx   1 root     root           11 Nov  1 15:39 ld-linux.so.2 -> ld-2.0.7.so)S
2 190.2 M(-rwxr-xr-x   1 root     root       731548 Nov  1 15:39 libc-2.0.7.so)S
2 179.4 M(lrwxrwxrwx   1 root     root           13 Nov  1 15:39 libc.so.6 -> libc-2.0.7.so)S
2 168.6 M(lrwxrwxrwx   1 root     root           17 Nov  1 15:39 libcom_err.so.2 -> libcom_err.so.2.0)S
2 157.8 M(-rwxr-xr-x   1 root     root         6209 Nov  1 15:39 libcom_err.so.2.0)S
2 147 M(-rwxr-xr-x   1 root     root       153881 Nov  1 15:39 libcrypt-2.0.7.so)S
2 136.2 M(lrwxrwxrwx   1 root     root           17 Nov  1 15:39 libcrypt.so.1 -> libcrypt-2.0.7.so)S
2 125.4 M(-rwxr-xr-x   1 root     root        12962 Nov  1 15:39 libdl-2.0.7.so)S
2 114.6 M(lrwxrwxrwx   1 root     root           14 Nov  1 15:39 libdl.so.2 -> libdl-2.0.7.so)S
2 103.8 M(lrwxrwxrwx   1 root     root           16 Nov  1 15:39 libext2fs.so.2 -> libext2fs.so.2.4)S
2 93 M(-rwxr-xr-x   1 root     root        81382 Nov  1 15:39 libext2fs.so.2.4)S
2 82.2 M(-rwxr-xr-x   1 root     root        25222 Nov  1 15:39 libnsl-2.0.7.so)S
2 71.4 M(lrwxrwxrwx   1 root     root           15 Nov  1 15:39 libnsl.so.1 -> libnsl-2.0.7.so)S
2 60.6 M(-rwx--x--x   1 root     root       178336 Nov  1 15:39 libnss_files-2.0.7.so)S
2 49.8 M(lrwxrwxrwx   1 root     root           21 Nov  1 15:39 libnss_files.so.1 -> libnss_files-2.0.7.so)S
2 39 M(lrwxrwxrwx   1 root     root           14 Nov  1 15:39 libpam.so.0 -> libpam.so.0.64)S
2 28.2 M(-rwxr-xr-x   1 root     root        26906 Nov  1 15:39 libpam.so.0.64)S
0 22 M 0.0 676.0 B
487.3 22 M 0.0 676.0 B
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(C. Sample root filesystem listings)S
474.8 0 M(45)S
GR
SP
%%Page: 46 49
GS
72 36 T
0.88 0.88 0.88 C 0 22 M 487.3 676.0 F
0.00 0.00 0.00 C 9/F0 SF 2 687 M(lrwxrwxrwx   1 root     root           19 Nov  1 15:39 libpam_misc.so.0 -> libpam_misc.so.0.64)S
2 676.2 M(-rwxr-xr-x   1 root     root         7086 Nov  1 15:39 libpam_misc.so.0.64)S
2 665.4 M(-r-xr-xr-x   1 root     root        35615 Nov  1 15:39 libproc.so.1.2.6)S
2 654.6 M(lrwxrwxrwx   1 root     root           15 Nov  1 15:39 libpwdb.so.0 -> libpwdb.so.0.54)S
2 643.8 M(-rw-r-r---   1 root     root       121899 Nov  1 15:39 libpwdb.so.0.54)S
2 633 M(lrwxrwxrwx   1 root     root           19 Nov  1 15:39 libtermcap.so.2 -> libtermcap.so.2.0.8)S
2 622.2 M(-rwxr-xr-x   1 root     root        12041 Nov  1 15:39 libtermcap.so.2.0.8)S
2 611.4 M(-rwxr-xr-x   1 root     root        12874 Nov  1 15:39 libutil-2.0.7.so)S
2 600.6 M(lrwxrwxrwx   1 root     root           16 Nov  1 15:39 libutil.so.1 -> libutil-2.0.7.so)S
2 589.8 M(lrwxrwxrwx   1 root     root           14 Nov  1 15:39 libuuid.so.1 -> libuuid.so.1.1)S
2 579 M(-rwxr-xr-x   1 root     root         8039 Nov  1 15:39 libuuid.so.1.1)S
2 568.2 M(drwx--x--x   3 root     root         1024 Nov  1 15:39 modules)S
2 557.4 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 security)S
2 535.8 M(/lib/modules:)S
2 525 M(drwx--x--x   4 root     root         1024 Nov  1 15:39 2.0.35)S
2 503.4 M(/lib/modules/2.0.35:)S
2 492.6 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 block)S
2 481.8 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 cdrom)S
2 460.2 M(/lib/modules/2.0.35/block:)S
2 449.4 M(drwx------   1 root     root         7156 Nov  1 15:39 loop.o)S
2 427.8 M(/lib/modules/2.0.35/cdrom:)S
2 417 M(drwx------   1 root     root        24108 Nov  1 15:39 cdu31a.o)S
2 395.4 M(/lib/security:)S
2 384.6 M(-rwx--x--x   1 root     root         8771 Nov  1 15:39 pam_permit.so)S
9/F2 SF 2 363 M(***  Directory stubs for mounting)S
9/F0 SF 2 352.2 M(/mnt:)S
2 341.4 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 cdrom)S
2 330.6 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 floppy)S
2 309 M(/proc:)S
2 287.4 M(/root:)S
2 276.6 M(-rw-------   1 root     root          176 Nov  1 15:39 .bashrc)S
2 265.8 M(-rw-------   1 root     root          182 Nov  1 15:39 .cshrc)S
2 255 M(-rwx--x--x   1 root     root          455 Nov  1 15:39 .profile)S
2 244.2 M(-rw-------   1 root     root         4014 Nov  1 15:39 .tcshrc)S
2 222.6 M(/sbin:)S
2 211.8 M(-rwx--x--x   1 root     root        23976 Nov  1 15:39 depmod)S
2 201 M(-rwx--x--x   2 root     root       274600 Nov  1 15:39 e2fsck)S
2 190.2 M(-rwx--x--x   1 root     root        41268 Nov  1 15:39 fdisk)S
2 179.4 M(-rwx--x--x   1 root     root         9396 Nov  1 15:39 fsck)S
2 168.6 M(-rwx--x--x   2 root     root       274600 Nov  1 15:39 fsck.ext2)S
2 157.8 M(-rwx--x--x   1 root     root        29556 Nov  1 15:39 getty)S
2 147 M(-rwx--x--x   1 root     root         6620 Nov  1 15:39 halt)S
2 136.2 M(-rwx--x--x   1 root     root        23116 Nov  1 15:39 init)S
2 125.4 M(-rwx--x--x   1 root     root        25612 Nov  1 15:39 insmod)S
2 114.6 M(-rwx--x--x   1 root     root        10368 Nov  1 15:39 kerneld)S
2 103.8 M(-rwx--x--x   1 root     root       110400 Nov  1 15:39 ldconfig)S
2 93 M(-rwx--x--x   1 root     root         6108 Nov  1 15:39 lsmod)S
2 82.2 M(-rwx--x--x   2 root     root        17400 Nov  1 15:39 mke2fs)S
2 71.4 M(-rwx--x--x   1 root     root         4072 Nov  1 15:39 mkfs)S
2 60.6 M(-rwx--x--x   2 root     root        17400 Nov  1 15:39 mkfs.ext2)S
2 49.8 M(-rwx--x--x   1 root     root         5664 Nov  1 15:39 mkswap)S
2 39 M(-rwx--x--x   1 root     root        22032 Nov  1 15:39 modprobe)S
2 28.2 M(lrwxrwxrwx   1 root     root            4 Nov  1 15:39 reboot -> halt)S
0 22 M 0.0 676.0 B
487.3 22 M 0.0 676.0 B
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(C. Sample root filesystem listings)S
474.8 0 M(46)S
GR
SP
%%Page: 47 50
GS
72 36 T
0.88 0.88 0.88 C 0 22 M 487.3 676.0 F
0.00 0.00 0.00 C 9/F0 SF 2 687 M(-rwx--x--x   1 root     root         7492 Nov  1 15:39 rmmod)S
2 676.2 M(-rwx--x--x   1 root     root        12932 Nov  1 15:39 shutdown)S
2 665.4 M(lrwxrwxrwx   1 root     root            6 Nov  1 15:39 swapoff -> swapon)S
2 654.6 M(-rwx--x--x   1 root     root         5124 Nov  1 15:39 swapon)S
2 643.8 M(lrwxrwxrwx   1 root     root            4 Nov  1 15:39 telinit -> init)S
2 633 M(-rwx--x--x   1 root     root         6944 Nov  1 15:39 update)S
2 611.4 M(/tmp:)S
2 589.8 M(/usr:)S
2 579 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 bin)S
2 568.2 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 lib)S
2 557.4 M(drwx--x--x   3 root     root         1024 Nov  1 15:39 man)S
2 546.6 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 sbin)S
2 535.8 M(drwx--x--x   3 root     root         1024 Nov  1 15:39 share)S
2 525 M(lrwxrwxrwx   1 root     root           10 Nov  1 15:39 tmp -> ../var/tmp)S
2 503.4 M(/usr/bin:)S
2 492.6 M(-rwx--x--x   1 root     root        37164 Nov  1 15:39 afio)S
2 481.8 M(-rwx--x--x   1 root     root         5044 Nov  1 15:39 chroot)S
2 471 M(-rwx--x--x   1 root     root        10656 Nov  1 15:39 cut)S
2 460.2 M(-rwx--x--x   1 root     root        63652 Nov  1 15:39 diff)S
2 449.4 M(-rwx--x--x   1 root     root        12972 Nov  1 15:39 du)S
2 438.6 M(-rwx--x--x   1 root     root        56552 Nov  1 15:39 find)S
2 427.8 M(-r-x--x--x   1 root     root         6280 Nov  1 15:39 free)S
2 417 M(-rwx--x--x   1 root     root         7680 Nov  1 15:39 head)S
2 406.2 M(-rwx--x--x   1 root     root         8504 Nov  1 15:39 id)S
2 395.4 M(-r-sr-xr-x   1 root     bin          4200 Nov  1 15:39 passwd)S
2 384.6 M(-rwx--x--x   1 root     root        14856 Nov  1 15:39 tail)S
2 373.8 M(-rwx--x--x   1 root     root        19008 Nov  1 15:39 tr)S
2 363 M(-rwx--x--x   1 root     root         7160 Nov  1 15:39 wc)S
2 352.2 M(-rwx--x--x   1 root     root         4412 Nov  1 15:39 whoami)S
2 330.6 M(/usr/lib:)S
2 319.8 M(lrwxrwxrwx   1 root     root           17 Nov  1 15:39 libncurses.so.4 -> libncurses.so.4.2)S
2 309 M(-rw-r-r---   1 root     root       260474 Nov  1 15:39 libncurses.so.4.2)S
2 287.4 M(/usr/sbin:)S
2 276.6 M(-r-x--x--x   1 root     root        13684 Nov  1 15:39 fuser)S
2 265.8 M(-rwx--x--x   1 root     root         3876 Nov  1 15:39 mklost+found)S
2 244.2 M(/usr/share:)S
2 233.4 M(drwx--x--x   4 root     root         1024 Nov  1 15:39 terminfo)S
2 211.8 M(/usr/share/terminfo:)S
2 201 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 l)S
2 190.2 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 v)S
2 168.6 M(/usr/share/terminfo/l:)S
2 157.8 M(-rw-------   1 root     root         1552 Nov  1 15:39 linux)S
2 147 M(-rw-------   1 root     root         1516 Nov  1 15:39 linux-m)S
2 136.2 M(-rw-------   1 root     root         1583 Nov  1 15:39 linux-nic)S
2 114.6 M(/usr/share/terminfo/v:)S
2 103.8 M(-rw-------   2 root     root         1143 Nov  1 15:39 vt100)S
2 93 M(-rw-------   2 root     root         1143 Nov  1 15:39 vt100-am)S
2 71.4 M(/var:)S
2 60.6 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 log)S
2 49.8 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 run)S
2 39 M(drwx--x--x   2 root     root         1024 Nov  1 15:39 tmp)S
0 22 M 0.0 676.0 B
487.3 22 M 0.0 676.0 B
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(C. Sample root filesystem listings)S
474.8 0 M(47)S
GR
SP
%%Page: 48 51
GS
72 36 T
0.88 0.88 0.88 C 0 618.2 M 487.3 79.8 F
0.00 0.00 0.00 C 9/F0 SF 2 687 M(/var/log:)S
2 676.2 M(-rw-------   1 root     root            0 Nov  1 15:39 wtmp)S
2 654.6 M(/var/run:)S
2 643.8 M(-rw-------   1 root     root            0 Nov  1 15:39 utmp)S
2 622.2 M(/var/tmp:)S
0 618.2 M 0.0 79.8 B
487.3 618.2 M 0.0 79.8 B
0 618.2 M 487.3 L
0 609.6 M 487.0 2.0 F
11/F8 SF 174.1 720 M(The Linux Bootdisk HOWTO)S
0 0 M(C. Sample root filesystem listings)S
474.8 0 M(48)S
GR
SP
%%Page: 49 52
GS
72 36 T
0.88 0.88 0.88 C 0 483.8 M 487.0 177.0 F
0.00 0.00 0.00 C 20/F9 SF 0 678 M(D. Sample utility disk directory listing)S
9/F0 SF 2 649.8 M(total 579)S
2 639 M(-rwxr-xr-x   1 root     root        42333 Jul 28 19:05 cpio)S
2 628.2 M(-rwxr-xr-x   1 root     root        32844 Aug 28 19:50 debugfs)S
2 617.4 M(-rwxr-xr-x   1 root     root       103560 Jul 29 21:31 elvis)S
2 606.6 M(-rwxr-xr-x   1 root     root        29536 Jul 28 19:04 fdisk)S
2 595.8 M(-rw-r-r---   1 root     root       128254 Jul 28 19:03 ftape.o)S
2 585 M(-rwxr-xr-x   1 root     root        17564 Jul 25 03:21 ftmt)S
2 574.2 M(-rwxr-xr-x   1 root     root        64161 Jul 29 20:47 grep)S
2 563.4 M(-rwxr-xr-x   1 root     root        45309 Jul 29 20:48 gzip)S
2 552.6 M(-rwxr-xr-x   1 root     root        23560 Jul 28 19:04 insmod)S
2 541.8 M(-rwxr-xr-x   1 root     root          118 Jul 28 19:04 lsmod)S
2 531 M(lrwxrwxrwx   1 root     root            5 Jul 28 19:04 mt -> mt-st)S
2 520.2 M(-rwxr-xr-x   1 root     root         9573 Jul 28 19:03 mt-st)S
2 509.4 M(lrwxrwxrwx   1 root     root            6 Jul 28 19:05 rmmod -> insmod)S
2 498.6 M(-rwxr-xr-x   1 root     root       104085 Jul 28 19:05 tar)S
2 487.8 M(lrwxrwxrwx   1 root     root            5 Jul 29 21:35 vi -> elvis)S
0 483.8 M 487.0 177.0 B
14/F9 SF 0 456.6 M(Notes)S
11/F4 SF 1 428.6 M([1])S
27.2 415.4 M(The directory structure presented here is for root diskette use only. Real Linux systems have a more)S
27.2 402.2 M(complex and disciplined set of policies, called the Filesystem Hierarchy Standard, for determining)S
27.2 389 M(where files should go.\))S
11/F8 SF 0 0 M(D. Sample utility disk directory listing)S
474.8 0 M(49)S
GR
SP
%%Trailer
%%EOF
